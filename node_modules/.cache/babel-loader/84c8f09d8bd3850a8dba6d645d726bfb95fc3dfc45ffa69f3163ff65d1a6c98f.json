{"ast":null,"code":"(function (e, t) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define(t) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).Dexie = t();\n})(this, function () {\n  \"use strict\";\n\n  var s = function (e, t) {\n    return (s = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n    })(e, t);\n  };\n  var _ = function () {\n    return (_ = Object.assign || function (e) {\n      for (var t, n = 1, r = arguments.length; n < r; n++) for (var i in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);\n      return e;\n    }).apply(this, arguments);\n  };\n  function i(e, t, n) {\n    if (n || 2 === arguments.length) for (var r, i = 0, o = t.length; i < o; i++) !r && i in t || ((r = r || Array.prototype.slice.call(t, 0, i))[i] = t[i]);\n    return e.concat(r || Array.prototype.slice.call(t));\n  }\n  var f = \"undefined\" != typeof globalThis ? globalThis : \"undefined\" != typeof self ? self : \"undefined\" != typeof window ? window : global,\n    x = Object.keys,\n    k = Array.isArray;\n  function a(t, n) {\n    return \"object\" != typeof n || x(n).forEach(function (e) {\n      t[e] = n[e];\n    }), t;\n  }\n  \"undefined\" == typeof Promise || f.Promise || (f.Promise = Promise);\n  var c = Object.getPrototypeOf,\n    n = {}.hasOwnProperty;\n  function m(e, t) {\n    return n.call(e, t);\n  }\n  function r(t, n) {\n    \"function\" == typeof n && (n = n(c(t))), (\"undefined\" == typeof Reflect ? x : Reflect.ownKeys)(n).forEach(function (e) {\n      l(t, e, n[e]);\n    });\n  }\n  var u = Object.defineProperty;\n  function l(e, t, n, r) {\n    u(e, t, a(n && m(n, \"get\") && \"function\" == typeof n.get ? {\n      get: n.get,\n      set: n.set,\n      configurable: !0\n    } : {\n      value: n,\n      configurable: !0,\n      writable: !0\n    }, r));\n  }\n  function o(t) {\n    return {\n      from: function (e) {\n        return t.prototype = Object.create(e.prototype), l(t.prototype, \"constructor\", t), {\n          extend: r.bind(null, t.prototype)\n        };\n      }\n    };\n  }\n  var h = Object.getOwnPropertyDescriptor;\n  var d = [].slice;\n  function b(e, t, n) {\n    return d.call(e, t, n);\n  }\n  function p(e, t) {\n    return t(e);\n  }\n  function y(e) {\n    if (!e) throw new Error(\"Assertion Failed\");\n  }\n  function v(e) {\n    f.setImmediate ? setImmediate(e) : setTimeout(e, 0);\n  }\n  function O(e, t) {\n    if (\"string\" == typeof t && m(e, t)) return e[t];\n    if (!t) return e;\n    if (\"string\" != typeof t) {\n      for (var n = [], r = 0, i = t.length; r < i; ++r) {\n        var o = O(e, t[r]);\n        n.push(o);\n      }\n      return n;\n    }\n    var a = t.indexOf(\".\");\n    if (-1 !== a) {\n      var u = e[t.substr(0, a)];\n      return null == u ? void 0 : O(u, t.substr(a + 1));\n    }\n  }\n  function P(e, t, n) {\n    if (e && void 0 !== t && !(\"isFrozen\" in Object && Object.isFrozen(e))) if (\"string\" != typeof t && \"length\" in t) {\n      y(\"string\" != typeof n && \"length\" in n);\n      for (var r = 0, i = t.length; r < i; ++r) P(e, t[r], n[r]);\n    } else {\n      var o,\n        a,\n        u = t.indexOf(\".\");\n      -1 !== u ? (o = t.substr(0, u), \"\" === (a = t.substr(u + 1)) ? void 0 === n ? k(e) && !isNaN(parseInt(o)) ? e.splice(o, 1) : delete e[o] : e[o] = n : P(u = !(u = e[o]) || !m(e, o) ? e[o] = {} : u, a, n)) : void 0 === n ? k(e) && !isNaN(parseInt(t)) ? e.splice(t, 1) : delete e[t] : e[t] = n;\n    }\n  }\n  function g(e) {\n    var t,\n      n = {};\n    for (t in e) m(e, t) && (n[t] = e[t]);\n    return n;\n  }\n  var t = [].concat;\n  function w(e) {\n    return t.apply([], e);\n  }\n  var e = \"BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey\".split(\",\").concat(w([8, 16, 32, 64].map(function (t) {\n      return [\"Int\", \"Uint\", \"Float\"].map(function (e) {\n        return e + t + \"Array\";\n      });\n    }))).filter(function (e) {\n      return f[e];\n    }),\n    K = new Set(e.map(function (e) {\n      return f[e];\n    }));\n  var E = null;\n  function S(e) {\n    E = new WeakMap();\n    e = function e(t) {\n      if (!t || \"object\" != typeof t) return t;\n      var n = E.get(t);\n      if (n) return n;\n      if (k(t)) {\n        n = [], E.set(t, n);\n        for (var r = 0, i = t.length; r < i; ++r) n.push(e(t[r]));\n      } else if (K.has(t.constructor)) n = t;else {\n        var o,\n          a = c(t);\n        for (o in n = a === Object.prototype ? {} : Object.create(a), E.set(t, n), t) m(t, o) && (n[o] = e(t[o]));\n      }\n      return n;\n    }(e);\n    return E = null, e;\n  }\n  var j = {}.toString;\n  function A(e) {\n    return j.call(e).slice(8, -1);\n  }\n  var C = \"undefined\" != typeof Symbol ? Symbol.iterator : \"@@iterator\",\n    T = \"symbol\" == typeof C ? function (e) {\n      var t;\n      return null != e && (t = e[C]) && t.apply(e);\n    } : function () {\n      return null;\n    };\n  function q(e, t) {\n    t = e.indexOf(t);\n    return 0 <= t && e.splice(t, 1), 0 <= t;\n  }\n  var D = {};\n  function I(e) {\n    var t, n, r, i;\n    if (1 === arguments.length) {\n      if (k(e)) return e.slice();\n      if (this === D && \"string\" == typeof e) return [e];\n      if (i = T(e)) {\n        for (n = []; !(r = i.next()).done;) n.push(r.value);\n        return n;\n      }\n      if (null == e) return [e];\n      if (\"number\" != typeof (t = e.length)) return [e];\n      for (n = new Array(t); t--;) n[t] = e[t];\n      return n;\n    }\n    for (t = arguments.length, n = new Array(t); t--;) n[t] = arguments[t];\n    return n;\n  }\n  var B = \"undefined\" != typeof Symbol ? function (e) {\n      return \"AsyncFunction\" === e[Symbol.toStringTag];\n    } : function () {\n      return !1;\n    },\n    R = [\"Unknown\", \"Constraint\", \"Data\", \"TransactionInactive\", \"ReadOnly\", \"Version\", \"NotFound\", \"InvalidState\", \"InvalidAccess\", \"Abort\", \"Timeout\", \"QuotaExceeded\", \"Syntax\", \"DataClone\"],\n    M = [\"Modify\", \"Bulk\", \"OpenFailed\", \"VersionChange\", \"Schema\", \"Upgrade\", \"InvalidTable\", \"MissingAPI\", \"NoSuchDatabase\", \"InvalidArgument\", \"SubTransaction\", \"Unsupported\", \"Internal\", \"DatabaseClosed\", \"PrematureCommit\", \"ForeignAwait\"].concat(R),\n    F = {\n      VersionChanged: \"Database version changed by other database connection\",\n      DatabaseClosed: \"Database has been closed\",\n      Abort: \"Transaction aborted\",\n      TransactionInactive: \"Transaction has already completed or failed\",\n      MissingAPI: \"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\"\n    };\n  function N(e, t) {\n    this.name = e, this.message = t;\n  }\n  function L(e, t) {\n    return e + \". Errors: \" + Object.keys(t).map(function (e) {\n      return t[e].toString();\n    }).filter(function (e, t, n) {\n      return n.indexOf(e) === t;\n    }).join(\"\\n\");\n  }\n  function U(e, t, n, r) {\n    this.failures = t, this.failedKeys = r, this.successCount = n, this.message = L(e, t);\n  }\n  function V(e, t) {\n    this.name = \"BulkError\", this.failures = Object.keys(t).map(function (e) {\n      return t[e];\n    }), this.failuresByPos = t, this.message = L(e, this.failures);\n  }\n  o(N).from(Error).extend({\n    toString: function () {\n      return this.name + \": \" + this.message;\n    }\n  }), o(U).from(N), o(V).from(N);\n  var z = M.reduce(function (e, t) {\n      return e[t] = t + \"Error\", e;\n    }, {}),\n    W = N,\n    Y = M.reduce(function (e, n) {\n      var r = n + \"Error\";\n      function t(e, t) {\n        this.name = r, e ? \"string\" == typeof e ? (this.message = \"\".concat(e).concat(t ? \"\\n \" + t : \"\"), this.inner = t || null) : \"object\" == typeof e && (this.message = \"\".concat(e.name, \" \").concat(e.message), this.inner = e) : (this.message = F[n] || r, this.inner = null);\n      }\n      return o(t).from(W), e[n] = t, e;\n    }, {});\n  Y.Syntax = SyntaxError, Y.Type = TypeError, Y.Range = RangeError;\n  var $ = R.reduce(function (e, t) {\n    return e[t + \"Error\"] = Y[t], e;\n  }, {});\n  var Q = M.reduce(function (e, t) {\n    return -1 === [\"Syntax\", \"Type\", \"Range\"].indexOf(t) && (e[t + \"Error\"] = Y[t]), e;\n  }, {});\n  function G() {}\n  function X(e) {\n    return e;\n  }\n  function H(t, n) {\n    return null == t || t === X ? n : function (e) {\n      return n(t(e));\n    };\n  }\n  function J(e, t) {\n    return function () {\n      e.apply(this, arguments), t.apply(this, arguments);\n    };\n  }\n  function Z(i, o) {\n    return i === G ? o : function () {\n      var e = i.apply(this, arguments);\n      void 0 !== e && (arguments[0] = e);\n      var t = this.onsuccess,\n        n = this.onerror;\n      this.onsuccess = null, this.onerror = null;\n      var r = o.apply(this, arguments);\n      return t && (this.onsuccess = this.onsuccess ? J(t, this.onsuccess) : t), n && (this.onerror = this.onerror ? J(n, this.onerror) : n), void 0 !== r ? r : e;\n    };\n  }\n  function ee(n, r) {\n    return n === G ? r : function () {\n      n.apply(this, arguments);\n      var e = this.onsuccess,\n        t = this.onerror;\n      this.onsuccess = this.onerror = null, r.apply(this, arguments), e && (this.onsuccess = this.onsuccess ? J(e, this.onsuccess) : e), t && (this.onerror = this.onerror ? J(t, this.onerror) : t);\n    };\n  }\n  function te(i, o) {\n    return i === G ? o : function (e) {\n      var t = i.apply(this, arguments);\n      a(e, t);\n      var n = this.onsuccess,\n        r = this.onerror;\n      this.onsuccess = null, this.onerror = null;\n      e = o.apply(this, arguments);\n      return n && (this.onsuccess = this.onsuccess ? J(n, this.onsuccess) : n), r && (this.onerror = this.onerror ? J(r, this.onerror) : r), void 0 === t ? void 0 === e ? void 0 : e : a(t, e);\n    };\n  }\n  function ne(e, t) {\n    return e === G ? t : function () {\n      return !1 !== t.apply(this, arguments) && e.apply(this, arguments);\n    };\n  }\n  function re(i, o) {\n    return i === G ? o : function () {\n      var e = i.apply(this, arguments);\n      if (e && \"function\" == typeof e.then) {\n        for (var t = this, n = arguments.length, r = new Array(n); n--;) r[n] = arguments[n];\n        return e.then(function () {\n          return o.apply(t, r);\n        });\n      }\n      return o.apply(this, arguments);\n    };\n  }\n  Q.ModifyError = U, Q.DexieError = N, Q.BulkError = V;\n  var ie = \"undefined\" != typeof location && /^(http|https):\\/\\/(localhost|127\\.0\\.0\\.1)/.test(location.href);\n  function oe(e) {\n    ie = e;\n  }\n  var ae = {},\n    ue = 100,\n    e = \"undefined\" == typeof Promise ? [] : function () {\n      var e = Promise.resolve();\n      if (\"undefined\" == typeof crypto || !crypto.subtle) return [e, c(e), e];\n      var t = crypto.subtle.digest(\"SHA-512\", new Uint8Array([0]));\n      return [t, c(t), e];\n    }(),\n    R = e[0],\n    M = e[1],\n    e = e[2],\n    M = M && M.then,\n    se = R && R.constructor,\n    ce = !!e;\n  var le = function (e, t) {\n      be.push([e, t]), he && (queueMicrotask(Se), he = !1);\n    },\n    fe = !0,\n    he = !0,\n    de = [],\n    pe = [],\n    ye = X,\n    ve = {\n      id: \"global\",\n      global: !0,\n      ref: 0,\n      unhandleds: [],\n      onunhandled: G,\n      pgp: !1,\n      env: {},\n      finalize: G\n    },\n    me = ve,\n    be = [],\n    ge = 0,\n    we = [];\n  function _e(e) {\n    if (\"object\" != typeof this) throw new TypeError(\"Promises must be constructed via new\");\n    this._listeners = [], this._lib = !1;\n    var t = this._PSD = me;\n    if (\"function\" != typeof e) {\n      if (e !== ae) throw new TypeError(\"Not a function\");\n      return this._state = arguments[1], this._value = arguments[2], void (!1 === this._state && Oe(this, this._value));\n    }\n    this._state = null, this._value = null, ++t.ref, function t(r, e) {\n      try {\n        e(function (n) {\n          if (null === r._state) {\n            if (n === r) throw new TypeError(\"A promise cannot be resolved with itself.\");\n            var e = r._lib && je();\n            n && \"function\" == typeof n.then ? t(r, function (e, t) {\n              n instanceof _e ? n._then(e, t) : n.then(e, t);\n            }) : (r._state = !0, r._value = n, Pe(r)), e && Ae();\n          }\n        }, Oe.bind(null, r));\n      } catch (e) {\n        Oe(r, e);\n      }\n    }(this, e);\n  }\n  var xe = {\n    get: function () {\n      var u = me,\n        t = Me;\n      function e(n, r) {\n        var i = this,\n          o = !u.global && (u !== me || t !== Me),\n          a = o && !Ue(),\n          e = new _e(function (e, t) {\n            Ke(i, new ke(Qe(n, u, o, a), Qe(r, u, o, a), e, t, u));\n          });\n        return this._consoleTask && (e._consoleTask = this._consoleTask), e;\n      }\n      return e.prototype = ae, e;\n    },\n    set: function (e) {\n      l(this, \"then\", e && e.prototype === ae ? xe : {\n        get: function () {\n          return e;\n        },\n        set: xe.set\n      });\n    }\n  };\n  function ke(e, t, n, r, i) {\n    this.onFulfilled = \"function\" == typeof e ? e : null, this.onRejected = \"function\" == typeof t ? t : null, this.resolve = n, this.reject = r, this.psd = i;\n  }\n  function Oe(e, t) {\n    var n, r;\n    pe.push(t), null === e._state && (n = e._lib && je(), t = ye(t), e._state = !1, e._value = t, r = e, de.some(function (e) {\n      return e._value === r._value;\n    }) || de.push(r), Pe(e), n && Ae());\n  }\n  function Pe(e) {\n    var t = e._listeners;\n    e._listeners = [];\n    for (var n = 0, r = t.length; n < r; ++n) Ke(e, t[n]);\n    var i = e._PSD;\n    --i.ref || i.finalize(), 0 === ge && (++ge, le(function () {\n      0 == --ge && Ce();\n    }, []));\n  }\n  function Ke(e, t) {\n    if (null !== e._state) {\n      var n = e._state ? t.onFulfilled : t.onRejected;\n      if (null === n) return (e._state ? t.resolve : t.reject)(e._value);\n      ++t.psd.ref, ++ge, le(Ee, [n, e, t]);\n    } else e._listeners.push(t);\n  }\n  function Ee(e, t, n) {\n    try {\n      var r,\n        i = t._value;\n      !t._state && pe.length && (pe = []), r = ie && t._consoleTask ? t._consoleTask.run(function () {\n        return e(i);\n      }) : e(i), t._state || -1 !== pe.indexOf(i) || function (e) {\n        var t = de.length;\n        for (; t;) if (de[--t]._value === e._value) return de.splice(t, 1);\n      }(t), n.resolve(r);\n    } catch (e) {\n      n.reject(e);\n    } finally {\n      0 == --ge && Ce(), --n.psd.ref || n.psd.finalize();\n    }\n  }\n  function Se() {\n    $e(ve, function () {\n      je() && Ae();\n    });\n  }\n  function je() {\n    var e = fe;\n    return he = fe = !1, e;\n  }\n  function Ae() {\n    var e, t, n;\n    do {\n      for (; 0 < be.length;) for (e = be, be = [], n = e.length, t = 0; t < n; ++t) {\n        var r = e[t];\n        r[0].apply(null, r[1]);\n      }\n    } while (0 < be.length);\n    he = fe = !0;\n  }\n  function Ce() {\n    var e = de;\n    de = [], e.forEach(function (e) {\n      e._PSD.onunhandled.call(null, e._value, e);\n    });\n    for (var t = we.slice(0), n = t.length; n;) t[--n]();\n  }\n  function Te(e) {\n    return new _e(ae, !1, e);\n  }\n  function qe(n, r) {\n    var i = me;\n    return function () {\n      var e = je(),\n        t = me;\n      try {\n        return We(i, !0), n.apply(this, arguments);\n      } catch (e) {\n        r && r(e);\n      } finally {\n        We(t, !1), e && Ae();\n      }\n    };\n  }\n  r(_e.prototype, {\n    then: xe,\n    _then: function (e, t) {\n      Ke(this, new ke(null, null, e, t, me));\n    },\n    catch: function (e) {\n      if (1 === arguments.length) return this.then(null, e);\n      var t = e,\n        n = arguments[1];\n      return \"function\" == typeof t ? this.then(null, function (e) {\n        return (e instanceof t ? n : Te)(e);\n      }) : this.then(null, function (e) {\n        return (e && e.name === t ? n : Te)(e);\n      });\n    },\n    finally: function (t) {\n      return this.then(function (e) {\n        return _e.resolve(t()).then(function () {\n          return e;\n        });\n      }, function (e) {\n        return _e.resolve(t()).then(function () {\n          return Te(e);\n        });\n      });\n    },\n    timeout: function (r, i) {\n      var o = this;\n      return r < 1 / 0 ? new _e(function (e, t) {\n        var n = setTimeout(function () {\n          return t(new Y.Timeout(i));\n        }, r);\n        o.then(e, t).finally(clearTimeout.bind(null, n));\n      }) : this;\n    }\n  }), \"undefined\" != typeof Symbol && Symbol.toStringTag && l(_e.prototype, Symbol.toStringTag, \"Dexie.Promise\"), ve.env = Ye(), r(_e, {\n    all: function () {\n      var o = I.apply(null, arguments).map(Ve);\n      return new _e(function (n, r) {\n        0 === o.length && n([]);\n        var i = o.length;\n        o.forEach(function (e, t) {\n          return _e.resolve(e).then(function (e) {\n            o[t] = e, --i || n(o);\n          }, r);\n        });\n      });\n    },\n    resolve: function (n) {\n      return n instanceof _e ? n : n && \"function\" == typeof n.then ? new _e(function (e, t) {\n        n.then(e, t);\n      }) : new _e(ae, !0, n);\n    },\n    reject: Te,\n    race: function () {\n      var e = I.apply(null, arguments).map(Ve);\n      return new _e(function (t, n) {\n        e.map(function (e) {\n          return _e.resolve(e).then(t, n);\n        });\n      });\n    },\n    PSD: {\n      get: function () {\n        return me;\n      },\n      set: function (e) {\n        return me = e;\n      }\n    },\n    totalEchoes: {\n      get: function () {\n        return Me;\n      }\n    },\n    newPSD: Ne,\n    usePSD: $e,\n    scheduler: {\n      get: function () {\n        return le;\n      },\n      set: function (e) {\n        le = e;\n      }\n    },\n    rejectionMapper: {\n      get: function () {\n        return ye;\n      },\n      set: function (e) {\n        ye = e;\n      }\n    },\n    follow: function (i, n) {\n      return new _e(function (e, t) {\n        return Ne(function (n, r) {\n          var e = me;\n          e.unhandleds = [], e.onunhandled = r, e.finalize = J(function () {\n            var t,\n              e = this;\n            t = function () {\n              0 === e.unhandleds.length ? n() : r(e.unhandleds[0]);\n            }, we.push(function e() {\n              t(), we.splice(we.indexOf(e), 1);\n            }), ++ge, le(function () {\n              0 == --ge && Ce();\n            }, []);\n          }, e.finalize), i();\n        }, n, e, t);\n      });\n    }\n  }), se && (se.allSettled && l(_e, \"allSettled\", function () {\n    var e = I.apply(null, arguments).map(Ve);\n    return new _e(function (n) {\n      0 === e.length && n([]);\n      var r = e.length,\n        i = new Array(r);\n      e.forEach(function (e, t) {\n        return _e.resolve(e).then(function (e) {\n          return i[t] = {\n            status: \"fulfilled\",\n            value: e\n          };\n        }, function (e) {\n          return i[t] = {\n            status: \"rejected\",\n            reason: e\n          };\n        }).then(function () {\n          return --r || n(i);\n        });\n      });\n    });\n  }), se.any && \"undefined\" != typeof AggregateError && l(_e, \"any\", function () {\n    var e = I.apply(null, arguments).map(Ve);\n    return new _e(function (n, r) {\n      0 === e.length && r(new AggregateError([]));\n      var i = e.length,\n        o = new Array(i);\n      e.forEach(function (e, t) {\n        return _e.resolve(e).then(function (e) {\n          return n(e);\n        }, function (e) {\n          o[t] = e, --i || r(new AggregateError(o));\n        });\n      });\n    });\n  }), se.withResolvers && (_e.withResolvers = se.withResolvers));\n  var De = {\n      awaits: 0,\n      echoes: 0,\n      id: 0\n    },\n    Ie = 0,\n    Be = [],\n    Re = 0,\n    Me = 0,\n    Fe = 0;\n  function Ne(e, t, n, r) {\n    var i = me,\n      o = Object.create(i);\n    o.parent = i, o.ref = 0, o.global = !1, o.id = ++Fe, ve.env, o.env = ce ? {\n      Promise: _e,\n      PromiseProp: {\n        value: _e,\n        configurable: !0,\n        writable: !0\n      },\n      all: _e.all,\n      race: _e.race,\n      allSettled: _e.allSettled,\n      any: _e.any,\n      resolve: _e.resolve,\n      reject: _e.reject\n    } : {}, t && a(o, t), ++i.ref, o.finalize = function () {\n      --this.parent.ref || this.parent.finalize();\n    };\n    r = $e(o, e, n, r);\n    return 0 === o.ref && o.finalize(), r;\n  }\n  function Le() {\n    return De.id || (De.id = ++Ie), ++De.awaits, De.echoes += ue, De.id;\n  }\n  function Ue() {\n    return !!De.awaits && (0 == --De.awaits && (De.id = 0), De.echoes = De.awaits * ue, !0);\n  }\n  function Ve(e) {\n    return De.echoes && e && e.constructor === se ? (Le(), e.then(function (e) {\n      return Ue(), e;\n    }, function (e) {\n      return Ue(), Xe(e);\n    })) : e;\n  }\n  function ze() {\n    var e = Be[Be.length - 1];\n    Be.pop(), We(e, !1);\n  }\n  function We(e, t) {\n    var n,\n      r = me;\n    (t ? !De.echoes || Re++ && e === me : !Re || --Re && e === me) || queueMicrotask(t ? function (e) {\n      ++Me, De.echoes && 0 != --De.echoes || (De.echoes = De.awaits = De.id = 0), Be.push(me), We(e, !0);\n    }.bind(null, e) : ze), e !== me && (me = e, r === ve && (ve.env = Ye()), ce && (n = ve.env.Promise, t = e.env, (r.global || e.global) && (Object.defineProperty(f, \"Promise\", t.PromiseProp), n.all = t.all, n.race = t.race, n.resolve = t.resolve, n.reject = t.reject, t.allSettled && (n.allSettled = t.allSettled), t.any && (n.any = t.any))));\n  }\n  function Ye() {\n    var e = f.Promise;\n    return ce ? {\n      Promise: e,\n      PromiseProp: Object.getOwnPropertyDescriptor(f, \"Promise\"),\n      all: e.all,\n      race: e.race,\n      allSettled: e.allSettled,\n      any: e.any,\n      resolve: e.resolve,\n      reject: e.reject\n    } : {};\n  }\n  function $e(e, t, n, r, i) {\n    var o = me;\n    try {\n      return We(e, !0), t(n, r, i);\n    } finally {\n      We(o, !1);\n    }\n  }\n  function Qe(t, n, r, i) {\n    return \"function\" != typeof t ? t : function () {\n      var e = me;\n      r && Le(), We(n, !0);\n      try {\n        return t.apply(this, arguments);\n      } finally {\n        We(e, !1), i && queueMicrotask(Ue);\n      }\n    };\n  }\n  function Ge(e) {\n    Promise === se && 0 === De.echoes ? 0 === Re ? e() : enqueueNativeMicroTask(e) : setTimeout(e, 0);\n  }\n  -1 === (\"\" + M).indexOf(\"[native code]\") && (Le = Ue = G);\n  var Xe = _e.reject;\n  var He = String.fromCharCode(65535),\n    Je = \"Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.\",\n    Ze = \"String expected.\",\n    et = [],\n    tt = \"__dbnames\",\n    nt = \"readonly\",\n    rt = \"readwrite\";\n  function it(e, t) {\n    return e ? t ? function () {\n      return e.apply(this, arguments) && t.apply(this, arguments);\n    } : e : t;\n  }\n  var ot = {\n    type: 3,\n    lower: -1 / 0,\n    lowerOpen: !1,\n    upper: [[]],\n    upperOpen: !1\n  };\n  function at(t) {\n    return \"string\" != typeof t || /\\./.test(t) ? function (e) {\n      return e;\n    } : function (e) {\n      return void 0 === e[t] && t in e && delete (e = S(e))[t], e;\n    };\n  }\n  function ut() {\n    throw Y.Type();\n  }\n  function st(e, t) {\n    try {\n      var n = ct(e),\n        r = ct(t);\n      if (n !== r) return \"Array\" === n ? 1 : \"Array\" === r ? -1 : \"binary\" === n ? 1 : \"binary\" === r ? -1 : \"string\" === n ? 1 : \"string\" === r ? -1 : \"Date\" === n ? 1 : \"Date\" !== r ? NaN : -1;\n      switch (n) {\n        case \"number\":\n        case \"Date\":\n        case \"string\":\n          return t < e ? 1 : e < t ? -1 : 0;\n        case \"binary\":\n          return function (e, t) {\n            for (var n = e.length, r = t.length, i = n < r ? n : r, o = 0; o < i; ++o) if (e[o] !== t[o]) return e[o] < t[o] ? -1 : 1;\n            return n === r ? 0 : n < r ? -1 : 1;\n          }(lt(e), lt(t));\n        case \"Array\":\n          return function (e, t) {\n            for (var n = e.length, r = t.length, i = n < r ? n : r, o = 0; o < i; ++o) {\n              var a = st(e[o], t[o]);\n              if (0 !== a) return a;\n            }\n            return n === r ? 0 : n < r ? -1 : 1;\n          }(e, t);\n      }\n    } catch (e) {}\n    return NaN;\n  }\n  function ct(e) {\n    var t = typeof e;\n    if (\"object\" != t) return t;\n    if (ArrayBuffer.isView(e)) return \"binary\";\n    e = A(e);\n    return \"ArrayBuffer\" === e ? \"binary\" : e;\n  }\n  function lt(e) {\n    return e instanceof Uint8Array ? e : ArrayBuffer.isView(e) ? new Uint8Array(e.buffer, e.byteOffset, e.byteLength) : new Uint8Array(e);\n  }\n  var ft = (ht.prototype._trans = function (e, r, t) {\n    var n = this._tx || me.trans,\n      i = this.name,\n      o = ie && \"undefined\" != typeof console && console.createTask && console.createTask(\"Dexie: \".concat(\"readonly\" === e ? \"read\" : \"write\", \" \").concat(this.name));\n    function a(e, t, n) {\n      if (!n.schema[i]) throw new Y.NotFound(\"Table \" + i + \" not part of transaction\");\n      return r(n.idbtrans, n);\n    }\n    var u = je();\n    try {\n      var s = n && n.db._novip === this.db._novip ? n === me.trans ? n._promise(e, a, t) : Ne(function () {\n        return n._promise(e, a, t);\n      }, {\n        trans: n,\n        transless: me.transless || me\n      }) : function t(n, r, i, o) {\n        if (n.idbdb && (n._state.openComplete || me.letThrough || n._vip)) {\n          var a = n._createTransaction(r, i, n._dbSchema);\n          try {\n            a.create(), n._state.PR1398_maxLoop = 3;\n          } catch (e) {\n            return e.name === z.InvalidState && n.isOpen() && 0 < --n._state.PR1398_maxLoop ? (console.warn(\"Dexie: Need to reopen db\"), n.close({\n              disableAutoOpen: !1\n            }), n.open().then(function () {\n              return t(n, r, i, o);\n            })) : Xe(e);\n          }\n          return a._promise(r, function (e, t) {\n            return Ne(function () {\n              return me.trans = a, o(e, t, a);\n            });\n          }).then(function (e) {\n            if (\"readwrite\" === r) try {\n              a.idbtrans.commit();\n            } catch (e) {}\n            return \"readonly\" === r ? e : a._completion.then(function () {\n              return e;\n            });\n          });\n        }\n        if (n._state.openComplete) return Xe(new Y.DatabaseClosed(n._state.dbOpenError));\n        if (!n._state.isBeingOpened) {\n          if (!n._state.autoOpen) return Xe(new Y.DatabaseClosed());\n          n.open().catch(G);\n        }\n        return n._state.dbReadyPromise.then(function () {\n          return t(n, r, i, o);\n        });\n      }(this.db, e, [this.name], a);\n      return o && (s._consoleTask = o, s = s.catch(function (e) {\n        return console.trace(e), Xe(e);\n      })), s;\n    } finally {\n      u && Ae();\n    }\n  }, ht.prototype.get = function (t, e) {\n    var n = this;\n    return t && t.constructor === Object ? this.where(t).first(e) : null == t ? Xe(new Y.Type(\"Invalid argument to Table.get()\")) : this._trans(\"readonly\", function (e) {\n      return n.core.get({\n        trans: e,\n        key: t\n      }).then(function (e) {\n        return n.hook.reading.fire(e);\n      });\n    }).then(e);\n  }, ht.prototype.where = function (o) {\n    if (\"string\" == typeof o) return new this.db.WhereClause(this, o);\n    if (k(o)) return new this.db.WhereClause(this, \"[\".concat(o.join(\"+\"), \"]\"));\n    var n = x(o);\n    if (1 === n.length) return this.where(n[0]).equals(o[n[0]]);\n    var e = this.schema.indexes.concat(this.schema.primKey).filter(function (t) {\n      if (t.compound && n.every(function (e) {\n        return 0 <= t.keyPath.indexOf(e);\n      })) {\n        for (var e = 0; e < n.length; ++e) if (-1 === n.indexOf(t.keyPath[e])) return !1;\n        return !0;\n      }\n      return !1;\n    }).sort(function (e, t) {\n      return e.keyPath.length - t.keyPath.length;\n    })[0];\n    if (e && this.db._maxKey !== He) {\n      var t = e.keyPath.slice(0, n.length);\n      return this.where(t).equals(t.map(function (e) {\n        return o[e];\n      }));\n    }\n    !e && ie && console.warn(\"The query \".concat(JSON.stringify(o), \" on \").concat(this.name, \" would benefit from a \") + \"compound index [\".concat(n.join(\"+\"), \"]\"));\n    var a = this.schema.idxByName;\n    function u(e, t) {\n      return 0 === st(e, t);\n    }\n    var r = n.reduce(function (e, t) {\n        var n = e[0],\n          r = e[1],\n          e = a[t],\n          i = o[t];\n        return [n || e, n || !e ? it(r, e && e.multi ? function (e) {\n          e = O(e, t);\n          return k(e) && e.some(function (e) {\n            return u(i, e);\n          });\n        } : function (e) {\n          return u(i, O(e, t));\n        }) : r];\n      }, [null, null]),\n      t = r[0],\n      r = r[1];\n    return t ? this.where(t.name).equals(o[t.keyPath]).filter(r) : e ? this.filter(r) : this.where(n).equals(\"\");\n  }, ht.prototype.filter = function (e) {\n    return this.toCollection().and(e);\n  }, ht.prototype.count = function (e) {\n    return this.toCollection().count(e);\n  }, ht.prototype.offset = function (e) {\n    return this.toCollection().offset(e);\n  }, ht.prototype.limit = function (e) {\n    return this.toCollection().limit(e);\n  }, ht.prototype.each = function (e) {\n    return this.toCollection().each(e);\n  }, ht.prototype.toArray = function (e) {\n    return this.toCollection().toArray(e);\n  }, ht.prototype.toCollection = function () {\n    return new this.db.Collection(new this.db.WhereClause(this));\n  }, ht.prototype.orderBy = function (e) {\n    return new this.db.Collection(new this.db.WhereClause(this, k(e) ? \"[\".concat(e.join(\"+\"), \"]\") : e));\n  }, ht.prototype.reverse = function () {\n    return this.toCollection().reverse();\n  }, ht.prototype.mapToClass = function (r) {\n    var e,\n      t = this.db,\n      n = this.name;\n    function i() {\n      return null !== e && e.apply(this, arguments) || this;\n    }\n    (this.schema.mappedClass = r).prototype instanceof ut && (function (e, t) {\n      if (\"function\" != typeof t && null !== t) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n      function n() {\n        this.constructor = e;\n      }\n      s(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n    }(i, e = r), Object.defineProperty(i.prototype, \"db\", {\n      get: function () {\n        return t;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), i.prototype.table = function () {\n      return n;\n    }, r = i);\n    for (var o = new Set(), a = r.prototype; a; a = c(a)) Object.getOwnPropertyNames(a).forEach(function (e) {\n      return o.add(e);\n    });\n    function u(e) {\n      if (!e) return e;\n      var t,\n        n = Object.create(r.prototype);\n      for (t in e) if (!o.has(t)) try {\n        n[t] = e[t];\n      } catch (e) {}\n      return n;\n    }\n    return this.schema.readHook && this.hook.reading.unsubscribe(this.schema.readHook), this.schema.readHook = u, this.hook(\"reading\", u), r;\n  }, ht.prototype.defineClass = function () {\n    return this.mapToClass(function (e) {\n      a(this, e);\n    });\n  }, ht.prototype.add = function (t, n) {\n    var r = this,\n      e = this.schema.primKey,\n      i = e.auto,\n      o = e.keyPath,\n      a = t;\n    return o && i && (a = at(o)(t)), this._trans(\"readwrite\", function (e) {\n      return r.core.mutate({\n        trans: e,\n        type: \"add\",\n        keys: null != n ? [n] : null,\n        values: [a]\n      });\n    }).then(function (e) {\n      return e.numFailures ? _e.reject(e.failures[0]) : e.lastResult;\n    }).then(function (e) {\n      if (o) try {\n        P(t, o, e);\n      } catch (e) {}\n      return e;\n    });\n  }, ht.prototype.update = function (e, t) {\n    if (\"object\" != typeof e || k(e)) return this.where(\":id\").equals(e).modify(t);\n    e = O(e, this.schema.primKey.keyPath);\n    return void 0 === e ? Xe(new Y.InvalidArgument(\"Given object does not contain its primary key\")) : this.where(\":id\").equals(e).modify(t);\n  }, ht.prototype.put = function (t, n) {\n    var r = this,\n      e = this.schema.primKey,\n      i = e.auto,\n      o = e.keyPath,\n      a = t;\n    return o && i && (a = at(o)(t)), this._trans(\"readwrite\", function (e) {\n      return r.core.mutate({\n        trans: e,\n        type: \"put\",\n        values: [a],\n        keys: null != n ? [n] : null\n      });\n    }).then(function (e) {\n      return e.numFailures ? _e.reject(e.failures[0]) : e.lastResult;\n    }).then(function (e) {\n      if (o) try {\n        P(t, o, e);\n      } catch (e) {}\n      return e;\n    });\n  }, ht.prototype.delete = function (t) {\n    var n = this;\n    return this._trans(\"readwrite\", function (e) {\n      return n.core.mutate({\n        trans: e,\n        type: \"delete\",\n        keys: [t]\n      });\n    }).then(function (e) {\n      return e.numFailures ? _e.reject(e.failures[0]) : void 0;\n    });\n  }, ht.prototype.clear = function () {\n    var t = this;\n    return this._trans(\"readwrite\", function (e) {\n      return t.core.mutate({\n        trans: e,\n        type: \"deleteRange\",\n        range: ot\n      });\n    }).then(function (e) {\n      return e.numFailures ? _e.reject(e.failures[0]) : void 0;\n    });\n  }, ht.prototype.bulkGet = function (t) {\n    var n = this;\n    return this._trans(\"readonly\", function (e) {\n      return n.core.getMany({\n        keys: t,\n        trans: e\n      }).then(function (e) {\n        return e.map(function (e) {\n          return n.hook.reading.fire(e);\n        });\n      });\n    });\n  }, ht.prototype.bulkAdd = function (r, e, t) {\n    var o = this,\n      a = Array.isArray(e) ? e : void 0,\n      u = (t = t || (a ? void 0 : e)) ? t.allKeys : void 0;\n    return this._trans(\"readwrite\", function (e) {\n      var t = o.schema.primKey,\n        n = t.auto,\n        t = t.keyPath;\n      if (t && a) throw new Y.InvalidArgument(\"bulkAdd(): keys argument invalid on tables with inbound keys\");\n      if (a && a.length !== r.length) throw new Y.InvalidArgument(\"Arguments objects and keys must have the same length\");\n      var i = r.length,\n        t = t && n ? r.map(at(t)) : r;\n      return o.core.mutate({\n        trans: e,\n        type: \"add\",\n        keys: a,\n        values: t,\n        wantResults: u\n      }).then(function (e) {\n        var t = e.numFailures,\n          n = e.results,\n          r = e.lastResult,\n          e = e.failures;\n        if (0 === t) return u ? n : r;\n        throw new V(\"\".concat(o.name, \".bulkAdd(): \").concat(t, \" of \").concat(i, \" operations failed\"), e);\n      });\n    });\n  }, ht.prototype.bulkPut = function (r, e, t) {\n    var o = this,\n      a = Array.isArray(e) ? e : void 0,\n      u = (t = t || (a ? void 0 : e)) ? t.allKeys : void 0;\n    return this._trans(\"readwrite\", function (e) {\n      var t = o.schema.primKey,\n        n = t.auto,\n        t = t.keyPath;\n      if (t && a) throw new Y.InvalidArgument(\"bulkPut(): keys argument invalid on tables with inbound keys\");\n      if (a && a.length !== r.length) throw new Y.InvalidArgument(\"Arguments objects and keys must have the same length\");\n      var i = r.length,\n        t = t && n ? r.map(at(t)) : r;\n      return o.core.mutate({\n        trans: e,\n        type: \"put\",\n        keys: a,\n        values: t,\n        wantResults: u\n      }).then(function (e) {\n        var t = e.numFailures,\n          n = e.results,\n          r = e.lastResult,\n          e = e.failures;\n        if (0 === t) return u ? n : r;\n        throw new V(\"\".concat(o.name, \".bulkPut(): \").concat(t, \" of \").concat(i, \" operations failed\"), e);\n      });\n    });\n  }, ht.prototype.bulkUpdate = function (t) {\n    var h = this,\n      n = this.core,\n      r = t.map(function (e) {\n        return e.key;\n      }),\n      i = t.map(function (e) {\n        return e.changes;\n      }),\n      d = [];\n    return this._trans(\"readwrite\", function (e) {\n      return n.getMany({\n        trans: e,\n        keys: r,\n        cache: \"clone\"\n      }).then(function (c) {\n        var l = [],\n          f = [];\n        t.forEach(function (e, t) {\n          var n = e.key,\n            r = e.changes,\n            i = c[t];\n          if (i) {\n            for (var o = 0, a = Object.keys(r); o < a.length; o++) {\n              var u = a[o],\n                s = r[u];\n              if (u === h.schema.primKey.keyPath) {\n                if (0 !== st(s, n)) throw new Y.Constraint(\"Cannot update primary key in bulkUpdate()\");\n              } else P(i, u, s);\n            }\n            d.push(t), l.push(n), f.push(i);\n          }\n        });\n        var s = l.length;\n        return n.mutate({\n          trans: e,\n          type: \"put\",\n          keys: l,\n          values: f,\n          updates: {\n            keys: r,\n            changeSpecs: i\n          }\n        }).then(function (e) {\n          var t = e.numFailures,\n            n = e.failures;\n          if (0 === t) return s;\n          for (var r = 0, i = Object.keys(n); r < i.length; r++) {\n            var o,\n              a = i[r],\n              u = d[Number(a)];\n            null != u && (o = n[a], delete n[a], n[u] = o);\n          }\n          throw new V(\"\".concat(h.name, \".bulkUpdate(): \").concat(t, \" of \").concat(s, \" operations failed\"), n);\n        });\n      });\n    });\n  }, ht.prototype.bulkDelete = function (t) {\n    var r = this,\n      i = t.length;\n    return this._trans(\"readwrite\", function (e) {\n      return r.core.mutate({\n        trans: e,\n        type: \"delete\",\n        keys: t\n      });\n    }).then(function (e) {\n      var t = e.numFailures,\n        n = e.lastResult,\n        e = e.failures;\n      if (0 === t) return n;\n      throw new V(\"\".concat(r.name, \".bulkDelete(): \").concat(t, \" of \").concat(i, \" operations failed\"), e);\n    });\n  }, ht);\n  function ht() {}\n  function dt(i) {\n    function t(e, t) {\n      if (t) {\n        for (var n = arguments.length, r = new Array(n - 1); --n;) r[n - 1] = arguments[n];\n        return a[e].subscribe.apply(null, r), i;\n      }\n      if (\"string\" == typeof e) return a[e];\n    }\n    var a = {};\n    t.addEventType = u;\n    for (var e = 1, n = arguments.length; e < n; ++e) u(arguments[e]);\n    return t;\n    function u(e, n, r) {\n      if (\"object\" != typeof e) {\n        var i;\n        n = n || ne;\n        var o = {\n          subscribers: [],\n          fire: r = r || G,\n          subscribe: function (e) {\n            -1 === o.subscribers.indexOf(e) && (o.subscribers.push(e), o.fire = n(o.fire, e));\n          },\n          unsubscribe: function (t) {\n            o.subscribers = o.subscribers.filter(function (e) {\n              return e !== t;\n            }), o.fire = o.subscribers.reduce(n, r);\n          }\n        };\n        return a[e] = t[e] = o;\n      }\n      x(i = e).forEach(function (e) {\n        var t = i[e];\n        if (k(t)) u(e, i[e][0], i[e][1]);else {\n          if (\"asap\" !== t) throw new Y.InvalidArgument(\"Invalid event config\");\n          var n = u(e, X, function () {\n            for (var e = arguments.length, t = new Array(e); e--;) t[e] = arguments[e];\n            n.subscribers.forEach(function (e) {\n              v(function () {\n                e.apply(null, t);\n              });\n            });\n          });\n        }\n      });\n    }\n  }\n  function pt(e, t) {\n    return o(t).from({\n      prototype: e\n    }), t;\n  }\n  function yt(e, t) {\n    return !(e.filter || e.algorithm || e.or) && (t ? e.justLimit : !e.replayFilter);\n  }\n  function vt(e, t) {\n    e.filter = it(e.filter, t);\n  }\n  function mt(e, t, n) {\n    var r = e.replayFilter;\n    e.replayFilter = r ? function () {\n      return it(r(), t());\n    } : t, e.justLimit = n && !r;\n  }\n  function bt(e, t) {\n    if (e.isPrimKey) return t.primaryKey;\n    var n = t.getIndexByKeyPath(e.index);\n    if (!n) throw new Y.Schema(\"KeyPath \" + e.index + \" on object store \" + t.name + \" is not indexed\");\n    return n;\n  }\n  function gt(e, t, n) {\n    var r = bt(e, t.schema);\n    return t.openCursor({\n      trans: n,\n      values: !e.keysOnly,\n      reverse: \"prev\" === e.dir,\n      unique: !!e.unique,\n      query: {\n        index: r,\n        range: e.range\n      }\n    });\n  }\n  function wt(e, o, t, n) {\n    var a = e.replayFilter ? it(e.filter, e.replayFilter()) : e.filter;\n    if (e.or) {\n      var u = {},\n        r = function (e, t, n) {\n          var r, i;\n          a && !a(t, n, function (e) {\n            return t.stop(e);\n          }, function (e) {\n            return t.fail(e);\n          }) || (\"[object ArrayBuffer]\" === (i = \"\" + (r = t.primaryKey)) && (i = \"\" + new Uint8Array(r)), m(u, i) || (u[i] = !0, o(e, t, n)));\n        };\n      return Promise.all([e.or._iterate(r, t), _t(gt(e, n, t), e.algorithm, r, !e.keysOnly && e.valueMapper)]);\n    }\n    return _t(gt(e, n, t), it(e.algorithm, a), o, !e.keysOnly && e.valueMapper);\n  }\n  function _t(e, r, i, o) {\n    var a = qe(o ? function (e, t, n) {\n      return i(o(e), t, n);\n    } : i);\n    return e.then(function (n) {\n      if (n) return n.start(function () {\n        var t = function () {\n          return n.continue();\n        };\n        r && !r(n, function (e) {\n          return t = e;\n        }, function (e) {\n          n.stop(e), t = G;\n        }, function (e) {\n          n.fail(e), t = G;\n        }) || a(n.value, n, function (e) {\n          return t = e;\n        }), t();\n      });\n    });\n  }\n  var e = Symbol(),\n    xt = (kt.prototype.execute = function (e) {\n      if (void 0 !== this.add) {\n        var t = this.add;\n        if (k(t)) return i(i([], k(e) ? e : [], !0), t, !0).sort();\n        if (\"number\" == typeof t) return (Number(e) || 0) + t;\n        if (\"bigint\" == typeof t) try {\n          return BigInt(e) + t;\n        } catch (e) {\n          return BigInt(0) + t;\n        }\n        throw new TypeError(\"Invalid term \".concat(t));\n      }\n      if (void 0 !== this.remove) {\n        var n = this.remove;\n        if (k(n)) return k(e) ? e.filter(function (e) {\n          return !n.includes(e);\n        }).sort() : [];\n        if (\"number\" == typeof n) return Number(e) - n;\n        if (\"bigint\" == typeof n) try {\n          return BigInt(e) - n;\n        } catch (e) {\n          return BigInt(0) - n;\n        }\n        throw new TypeError(\"Invalid subtrahend \".concat(n));\n      }\n      t = null === (t = this.replacePrefix) || void 0 === t ? void 0 : t[0];\n      return t && \"string\" == typeof e && e.startsWith(t) ? this.replacePrefix[1] + e.substring(t.length) : e;\n    }, kt);\n  function kt(e) {\n    Object.assign(this, e);\n  }\n  var Ot = (Pt.prototype._read = function (e, t) {\n    var n = this._ctx;\n    return n.error ? n.table._trans(null, Xe.bind(null, n.error)) : n.table._trans(\"readonly\", e).then(t);\n  }, Pt.prototype._write = function (e) {\n    var t = this._ctx;\n    return t.error ? t.table._trans(null, Xe.bind(null, t.error)) : t.table._trans(\"readwrite\", e, \"locked\");\n  }, Pt.prototype._addAlgorithm = function (e) {\n    var t = this._ctx;\n    t.algorithm = it(t.algorithm, e);\n  }, Pt.prototype._iterate = function (e, t) {\n    return wt(this._ctx, e, t, this._ctx.table.core);\n  }, Pt.prototype.clone = function (e) {\n    var t = Object.create(this.constructor.prototype),\n      n = Object.create(this._ctx);\n    return e && a(n, e), t._ctx = n, t;\n  }, Pt.prototype.raw = function () {\n    return this._ctx.valueMapper = null, this;\n  }, Pt.prototype.each = function (t) {\n    var n = this._ctx;\n    return this._read(function (e) {\n      return wt(n, t, e, n.table.core);\n    });\n  }, Pt.prototype.count = function (e) {\n    var i = this;\n    return this._read(function (e) {\n      var t = i._ctx,\n        n = t.table.core;\n      if (yt(t, !0)) return n.count({\n        trans: e,\n        query: {\n          index: bt(t, n.schema),\n          range: t.range\n        }\n      }).then(function (e) {\n        return Math.min(e, t.limit);\n      });\n      var r = 0;\n      return wt(t, function () {\n        return ++r, !1;\n      }, e, n).then(function () {\n        return r;\n      });\n    }).then(e);\n  }, Pt.prototype.sortBy = function (e, t) {\n    var n = e.split(\".\").reverse(),\n      r = n[0],\n      i = n.length - 1;\n    function o(e, t) {\n      return t ? o(e[n[t]], t - 1) : e[r];\n    }\n    var a = \"next\" === this._ctx.dir ? 1 : -1;\n    function u(e, t) {\n      return st(o(e, i), o(t, i)) * a;\n    }\n    return this.toArray(function (e) {\n      return e.sort(u);\n    }).then(t);\n  }, Pt.prototype.toArray = function (e) {\n    var o = this;\n    return this._read(function (e) {\n      var t = o._ctx;\n      if (\"next\" === t.dir && yt(t, !0) && 0 < t.limit) {\n        var n = t.valueMapper,\n          r = bt(t, t.table.core.schema);\n        return t.table.core.query({\n          trans: e,\n          limit: t.limit,\n          values: !0,\n          query: {\n            index: r,\n            range: t.range\n          }\n        }).then(function (e) {\n          e = e.result;\n          return n ? e.map(n) : e;\n        });\n      }\n      var i = [];\n      return wt(t, function (e) {\n        return i.push(e);\n      }, e, t.table.core).then(function () {\n        return i;\n      });\n    }, e);\n  }, Pt.prototype.offset = function (t) {\n    var e = this._ctx;\n    return t <= 0 || (e.offset += t, yt(e) ? mt(e, function () {\n      var n = t;\n      return function (e, t) {\n        return 0 === n || (1 === n ? --n : t(function () {\n          e.advance(n), n = 0;\n        }), !1);\n      };\n    }) : mt(e, function () {\n      var e = t;\n      return function () {\n        return --e < 0;\n      };\n    })), this;\n  }, Pt.prototype.limit = function (e) {\n    return this._ctx.limit = Math.min(this._ctx.limit, e), mt(this._ctx, function () {\n      var r = e;\n      return function (e, t, n) {\n        return --r <= 0 && t(n), 0 <= r;\n      };\n    }, !0), this;\n  }, Pt.prototype.until = function (r, i) {\n    return vt(this._ctx, function (e, t, n) {\n      return !r(e.value) || (t(n), i);\n    }), this;\n  }, Pt.prototype.first = function (e) {\n    return this.limit(1).toArray(function (e) {\n      return e[0];\n    }).then(e);\n  }, Pt.prototype.last = function (e) {\n    return this.reverse().first(e);\n  }, Pt.prototype.filter = function (t) {\n    var e;\n    return vt(this._ctx, function (e) {\n      return t(e.value);\n    }), (e = this._ctx).isMatch = it(e.isMatch, t), this;\n  }, Pt.prototype.and = function (e) {\n    return this.filter(e);\n  }, Pt.prototype.or = function (e) {\n    return new this.db.WhereClause(this._ctx.table, e, this);\n  }, Pt.prototype.reverse = function () {\n    return this._ctx.dir = \"prev\" === this._ctx.dir ? \"next\" : \"prev\", this._ondirectionchange && this._ondirectionchange(this._ctx.dir), this;\n  }, Pt.prototype.desc = function () {\n    return this.reverse();\n  }, Pt.prototype.eachKey = function (n) {\n    var e = this._ctx;\n    return e.keysOnly = !e.isMatch, this.each(function (e, t) {\n      n(t.key, t);\n    });\n  }, Pt.prototype.eachUniqueKey = function (e) {\n    return this._ctx.unique = \"unique\", this.eachKey(e);\n  }, Pt.prototype.eachPrimaryKey = function (n) {\n    var e = this._ctx;\n    return e.keysOnly = !e.isMatch, this.each(function (e, t) {\n      n(t.primaryKey, t);\n    });\n  }, Pt.prototype.keys = function (e) {\n    var t = this._ctx;\n    t.keysOnly = !t.isMatch;\n    var n = [];\n    return this.each(function (e, t) {\n      n.push(t.key);\n    }).then(function () {\n      return n;\n    }).then(e);\n  }, Pt.prototype.primaryKeys = function (e) {\n    var n = this._ctx;\n    if (\"next\" === n.dir && yt(n, !0) && 0 < n.limit) return this._read(function (e) {\n      var t = bt(n, n.table.core.schema);\n      return n.table.core.query({\n        trans: e,\n        values: !1,\n        limit: n.limit,\n        query: {\n          index: t,\n          range: n.range\n        }\n      });\n    }).then(function (e) {\n      return e.result;\n    }).then(e);\n    n.keysOnly = !n.isMatch;\n    var r = [];\n    return this.each(function (e, t) {\n      r.push(t.primaryKey);\n    }).then(function () {\n      return r;\n    }).then(e);\n  }, Pt.prototype.uniqueKeys = function (e) {\n    return this._ctx.unique = \"unique\", this.keys(e);\n  }, Pt.prototype.firstKey = function (e) {\n    return this.limit(1).keys(function (e) {\n      return e[0];\n    }).then(e);\n  }, Pt.prototype.lastKey = function (e) {\n    return this.reverse().firstKey(e);\n  }, Pt.prototype.distinct = function () {\n    var e = this._ctx,\n      e = e.index && e.table.schema.idxByName[e.index];\n    if (!e || !e.multi) return this;\n    var n = {};\n    return vt(this._ctx, function (e) {\n      var t = e.primaryKey.toString(),\n        e = m(n, t);\n      return n[t] = !0, !e;\n    }), this;\n  }, Pt.prototype.modify = function (w) {\n    var n = this,\n      r = this._ctx;\n    return this._write(function (d) {\n      var a, u, p;\n      p = \"function\" == typeof w ? w : (a = x(w), u = a.length, function (e) {\n        for (var t = !1, n = 0; n < u; ++n) {\n          var r = a[n],\n            i = w[r],\n            o = O(e, r);\n          i instanceof xt ? (P(e, r, i.execute(o)), t = !0) : o !== i && (P(e, r, i), t = !0);\n        }\n        return t;\n      });\n      var y = r.table.core,\n        e = y.schema.primaryKey,\n        v = e.outbound,\n        m = e.extractKey,\n        b = 200,\n        e = n.db._options.modifyChunkSize;\n      e && (b = \"object\" == typeof e ? e[y.name] || e[\"*\"] || 200 : e);\n      function g(e, t) {\n        var n = t.failures,\n          t = t.numFailures;\n        c += e - t;\n        for (var r = 0, i = x(n); r < i.length; r++) {\n          var o = i[r];\n          s.push(n[o]);\n        }\n      }\n      var s = [],\n        c = 0,\n        t = [];\n      return n.clone().primaryKeys().then(function (l) {\n        function f(s) {\n          var c = Math.min(b, l.length - s);\n          return y.getMany({\n            trans: d,\n            keys: l.slice(s, s + c),\n            cache: \"immutable\"\n          }).then(function (e) {\n            for (var n = [], t = [], r = v ? [] : null, i = [], o = 0; o < c; ++o) {\n              var a = e[o],\n                u = {\n                  value: S(a),\n                  primKey: l[s + o]\n                };\n              !1 !== p.call(u, u.value, u) && (null == u.value ? i.push(l[s + o]) : v || 0 === st(m(a), m(u.value)) ? (t.push(u.value), v && r.push(l[s + o])) : (i.push(l[s + o]), n.push(u.value)));\n            }\n            return Promise.resolve(0 < n.length && y.mutate({\n              trans: d,\n              type: \"add\",\n              values: n\n            }).then(function (e) {\n              for (var t in e.failures) i.splice(parseInt(t), 1);\n              g(n.length, e);\n            })).then(function () {\n              return (0 < t.length || h && \"object\" == typeof w) && y.mutate({\n                trans: d,\n                type: \"put\",\n                keys: r,\n                values: t,\n                criteria: h,\n                changeSpec: \"function\" != typeof w && w,\n                isAdditionalChunk: 0 < s\n              }).then(function (e) {\n                return g(t.length, e);\n              });\n            }).then(function () {\n              return (0 < i.length || h && w === Kt) && y.mutate({\n                trans: d,\n                type: \"delete\",\n                keys: i,\n                criteria: h,\n                isAdditionalChunk: 0 < s\n              }).then(function (e) {\n                return g(i.length, e);\n              });\n            }).then(function () {\n              return l.length > s + c && f(s + b);\n            });\n          });\n        }\n        var h = yt(r) && r.limit === 1 / 0 && (\"function\" != typeof w || w === Kt) && {\n          index: r.index,\n          range: r.range\n        };\n        return f(0).then(function () {\n          if (0 < s.length) throw new U(\"Error modifying one or more objects\", s, c, t);\n          return l.length;\n        });\n      });\n    });\n  }, Pt.prototype.delete = function () {\n    var i = this._ctx,\n      n = i.range;\n    return yt(i) && (i.isPrimKey || 3 === n.type) ? this._write(function (e) {\n      var t = i.table.core.schema.primaryKey,\n        r = n;\n      return i.table.core.count({\n        trans: e,\n        query: {\n          index: t,\n          range: r\n        }\n      }).then(function (n) {\n        return i.table.core.mutate({\n          trans: e,\n          type: \"deleteRange\",\n          range: r\n        }).then(function (e) {\n          var t = e.failures;\n          e.lastResult, e.results;\n          e = e.numFailures;\n          if (e) throw new U(\"Could not delete some values\", Object.keys(t).map(function (e) {\n            return t[e];\n          }), n - e);\n          return n - e;\n        });\n      });\n    }) : this.modify(Kt);\n  }, Pt);\n  function Pt() {}\n  var Kt = function (e, t) {\n    return t.value = null;\n  };\n  function Et(e, t) {\n    return e < t ? -1 : e === t ? 0 : 1;\n  }\n  function St(e, t) {\n    return t < e ? -1 : e === t ? 0 : 1;\n  }\n  function jt(e, t, n) {\n    e = e instanceof Dt ? new e.Collection(e) : e;\n    return e._ctx.error = new (n || TypeError)(t), e;\n  }\n  function At(e) {\n    return new e.Collection(e, function () {\n      return qt(\"\");\n    }).limit(0);\n  }\n  function Ct(e, s, n, r) {\n    var i,\n      c,\n      l,\n      f,\n      h,\n      d,\n      p,\n      y = n.length;\n    if (!n.every(function (e) {\n      return \"string\" == typeof e;\n    })) return jt(e, Ze);\n    function t(e) {\n      i = \"next\" === e ? function (e) {\n        return e.toUpperCase();\n      } : function (e) {\n        return e.toLowerCase();\n      }, c = \"next\" === e ? function (e) {\n        return e.toLowerCase();\n      } : function (e) {\n        return e.toUpperCase();\n      }, l = \"next\" === e ? Et : St;\n      var t = n.map(function (e) {\n        return {\n          lower: c(e),\n          upper: i(e)\n        };\n      }).sort(function (e, t) {\n        return l(e.lower, t.lower);\n      });\n      f = t.map(function (e) {\n        return e.upper;\n      }), h = t.map(function (e) {\n        return e.lower;\n      }), p = \"next\" === (d = e) ? \"\" : r;\n    }\n    t(\"next\");\n    e = new e.Collection(e, function () {\n      return Tt(f[0], h[y - 1] + r);\n    });\n    e._ondirectionchange = function (e) {\n      t(e);\n    };\n    var v = 0;\n    return e._addAlgorithm(function (e, t, n) {\n      var r = e.key;\n      if (\"string\" != typeof r) return !1;\n      var i = c(r);\n      if (s(i, h, v)) return !0;\n      for (var o = null, a = v; a < y; ++a) {\n        var u = function (e, t, n, r, i, o) {\n          for (var a = Math.min(e.length, r.length), u = -1, s = 0; s < a; ++s) {\n            var c = t[s];\n            if (c !== r[s]) return i(e[s], n[s]) < 0 ? e.substr(0, s) + n[s] + n.substr(s + 1) : i(e[s], r[s]) < 0 ? e.substr(0, s) + r[s] + n.substr(s + 1) : 0 <= u ? e.substr(0, u) + t[u] + n.substr(u + 1) : null;\n            i(e[s], c) < 0 && (u = s);\n          }\n          return a < r.length && \"next\" === o ? e + n.substr(e.length) : a < e.length && \"prev\" === o ? e.substr(0, n.length) : u < 0 ? null : e.substr(0, u) + r[u] + n.substr(u + 1);\n        }(r, i, f[a], h[a], l, d);\n        null === u && null === o ? v = a + 1 : (null === o || 0 < l(o, u)) && (o = u);\n      }\n      return t(null !== o ? function () {\n        e.continue(o + p);\n      } : n), !1;\n    }), e;\n  }\n  function Tt(e, t, n, r) {\n    return {\n      type: 2,\n      lower: e,\n      upper: t,\n      lowerOpen: n,\n      upperOpen: r\n    };\n  }\n  function qt(e) {\n    return {\n      type: 1,\n      lower: e,\n      upper: e\n    };\n  }\n  var Dt = (Object.defineProperty(It.prototype, \"Collection\", {\n    get: function () {\n      return this._ctx.table.db.Collection;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), It.prototype.between = function (e, t, n, r) {\n    n = !1 !== n, r = !0 === r;\n    try {\n      return 0 < this._cmp(e, t) || 0 === this._cmp(e, t) && (n || r) && (!n || !r) ? At(this) : new this.Collection(this, function () {\n        return Tt(e, t, !n, !r);\n      });\n    } catch (e) {\n      return jt(this, Je);\n    }\n  }, It.prototype.equals = function (e) {\n    return null == e ? jt(this, Je) : new this.Collection(this, function () {\n      return qt(e);\n    });\n  }, It.prototype.above = function (e) {\n    return null == e ? jt(this, Je) : new this.Collection(this, function () {\n      return Tt(e, void 0, !0);\n    });\n  }, It.prototype.aboveOrEqual = function (e) {\n    return null == e ? jt(this, Je) : new this.Collection(this, function () {\n      return Tt(e, void 0, !1);\n    });\n  }, It.prototype.below = function (e) {\n    return null == e ? jt(this, Je) : new this.Collection(this, function () {\n      return Tt(void 0, e, !1, !0);\n    });\n  }, It.prototype.belowOrEqual = function (e) {\n    return null == e ? jt(this, Je) : new this.Collection(this, function () {\n      return Tt(void 0, e);\n    });\n  }, It.prototype.startsWith = function (e) {\n    return \"string\" != typeof e ? jt(this, Ze) : this.between(e, e + He, !0, !0);\n  }, It.prototype.startsWithIgnoreCase = function (e) {\n    return \"\" === e ? this.startsWith(e) : Ct(this, function (e, t) {\n      return 0 === e.indexOf(t[0]);\n    }, [e], He);\n  }, It.prototype.equalsIgnoreCase = function (e) {\n    return Ct(this, function (e, t) {\n      return e === t[0];\n    }, [e], \"\");\n  }, It.prototype.anyOfIgnoreCase = function () {\n    var e = I.apply(D, arguments);\n    return 0 === e.length ? At(this) : Ct(this, function (e, t) {\n      return -1 !== t.indexOf(e);\n    }, e, \"\");\n  }, It.prototype.startsWithAnyOfIgnoreCase = function () {\n    var e = I.apply(D, arguments);\n    return 0 === e.length ? At(this) : Ct(this, function (t, e) {\n      return e.some(function (e) {\n        return 0 === t.indexOf(e);\n      });\n    }, e, He);\n  }, It.prototype.anyOf = function () {\n    var t = this,\n      i = I.apply(D, arguments),\n      o = this._cmp;\n    try {\n      i.sort(o);\n    } catch (e) {\n      return jt(this, Je);\n    }\n    if (0 === i.length) return At(this);\n    var e = new this.Collection(this, function () {\n      return Tt(i[0], i[i.length - 1]);\n    });\n    e._ondirectionchange = function (e) {\n      o = \"next\" === e ? t._ascending : t._descending, i.sort(o);\n    };\n    var a = 0;\n    return e._addAlgorithm(function (e, t, n) {\n      for (var r = e.key; 0 < o(r, i[a]);) if (++a === i.length) return t(n), !1;\n      return 0 === o(r, i[a]) || (t(function () {\n        e.continue(i[a]);\n      }), !1);\n    }), e;\n  }, It.prototype.notEqual = function (e) {\n    return this.inAnyRange([[-1 / 0, e], [e, this.db._maxKey]], {\n      includeLowers: !1,\n      includeUppers: !1\n    });\n  }, It.prototype.noneOf = function () {\n    var e = I.apply(D, arguments);\n    if (0 === e.length) return new this.Collection(this);\n    try {\n      e.sort(this._ascending);\n    } catch (e) {\n      return jt(this, Je);\n    }\n    var t = e.reduce(function (e, t) {\n      return e ? e.concat([[e[e.length - 1][1], t]]) : [[-1 / 0, t]];\n    }, null);\n    return t.push([e[e.length - 1], this.db._maxKey]), this.inAnyRange(t, {\n      includeLowers: !1,\n      includeUppers: !1\n    });\n  }, It.prototype.inAnyRange = function (e, t) {\n    var o = this,\n      a = this._cmp,\n      u = this._ascending,\n      n = this._descending,\n      s = this._min,\n      c = this._max;\n    if (0 === e.length) return At(this);\n    if (!e.every(function (e) {\n      return void 0 !== e[0] && void 0 !== e[1] && u(e[0], e[1]) <= 0;\n    })) return jt(this, \"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower\", Y.InvalidArgument);\n    var r = !t || !1 !== t.includeLowers,\n      i = t && !0 === t.includeUppers;\n    var l,\n      f = u;\n    function h(e, t) {\n      return f(e[0], t[0]);\n    }\n    try {\n      (l = e.reduce(function (e, t) {\n        for (var n = 0, r = e.length; n < r; ++n) {\n          var i = e[n];\n          if (a(t[0], i[1]) < 0 && 0 < a(t[1], i[0])) {\n            i[0] = s(i[0], t[0]), i[1] = c(i[1], t[1]);\n            break;\n          }\n        }\n        return n === r && e.push(t), e;\n      }, [])).sort(h);\n    } catch (e) {\n      return jt(this, Je);\n    }\n    var d = 0,\n      p = i ? function (e) {\n        return 0 < u(e, l[d][1]);\n      } : function (e) {\n        return 0 <= u(e, l[d][1]);\n      },\n      y = r ? function (e) {\n        return 0 < n(e, l[d][0]);\n      } : function (e) {\n        return 0 <= n(e, l[d][0]);\n      };\n    var v = p,\n      e = new this.Collection(this, function () {\n        return Tt(l[0][0], l[l.length - 1][1], !r, !i);\n      });\n    return e._ondirectionchange = function (e) {\n      f = \"next\" === e ? (v = p, u) : (v = y, n), l.sort(h);\n    }, e._addAlgorithm(function (e, t, n) {\n      for (var r, i = e.key; v(i);) if (++d === l.length) return t(n), !1;\n      return !p(r = i) && !y(r) || (0 === o._cmp(i, l[d][1]) || 0 === o._cmp(i, l[d][0]) || t(function () {\n        f === u ? e.continue(l[d][0]) : e.continue(l[d][1]);\n      }), !1);\n    }), e;\n  }, It.prototype.startsWithAnyOf = function () {\n    var e = I.apply(D, arguments);\n    return e.every(function (e) {\n      return \"string\" == typeof e;\n    }) ? 0 === e.length ? At(this) : this.inAnyRange(e.map(function (e) {\n      return [e, e + He];\n    })) : jt(this, \"startsWithAnyOf() only works with strings\");\n  }, It);\n  function It() {}\n  function Bt(t) {\n    return qe(function (e) {\n      return Rt(e), t(e.target.error), !1;\n    });\n  }\n  function Rt(e) {\n    e.stopPropagation && e.stopPropagation(), e.preventDefault && e.preventDefault();\n  }\n  var Mt = \"storagemutated\",\n    Ft = \"x-storagemutated-1\",\n    Nt = dt(null, Mt),\n    Lt = (Ut.prototype._lock = function () {\n      return y(!me.global), ++this._reculock, 1 !== this._reculock || me.global || (me.lockOwnerFor = this), this;\n    }, Ut.prototype._unlock = function () {\n      if (y(!me.global), 0 == --this._reculock) for (me.global || (me.lockOwnerFor = null); 0 < this._blockedFuncs.length && !this._locked();) {\n        var e = this._blockedFuncs.shift();\n        try {\n          $e(e[1], e[0]);\n        } catch (e) {}\n      }\n      return this;\n    }, Ut.prototype._locked = function () {\n      return this._reculock && me.lockOwnerFor !== this;\n    }, Ut.prototype.create = function (t) {\n      var n = this;\n      if (!this.mode) return this;\n      var e = this.db.idbdb,\n        r = this.db._state.dbOpenError;\n      if (y(!this.idbtrans), !t && !e) switch (r && r.name) {\n        case \"DatabaseClosedError\":\n          throw new Y.DatabaseClosed(r);\n        case \"MissingAPIError\":\n          throw new Y.MissingAPI(r.message, r);\n        default:\n          throw new Y.OpenFailed(r);\n      }\n      if (!this.active) throw new Y.TransactionInactive();\n      return y(null === this._completion._state), (t = this.idbtrans = t || (this.db.core || e).transaction(this.storeNames, this.mode, {\n        durability: this.chromeTransactionDurability\n      })).onerror = qe(function (e) {\n        Rt(e), n._reject(t.error);\n      }), t.onabort = qe(function (e) {\n        Rt(e), n.active && n._reject(new Y.Abort(t.error)), n.active = !1, n.on(\"abort\").fire(e);\n      }), t.oncomplete = qe(function () {\n        n.active = !1, n._resolve(), \"mutatedParts\" in t && Nt.storagemutated.fire(t.mutatedParts);\n      }), this;\n    }, Ut.prototype._promise = function (n, r, i) {\n      var o = this;\n      if (\"readwrite\" === n && \"readwrite\" !== this.mode) return Xe(new Y.ReadOnly(\"Transaction is readonly\"));\n      if (!this.active) return Xe(new Y.TransactionInactive());\n      if (this._locked()) return new _e(function (e, t) {\n        o._blockedFuncs.push([function () {\n          o._promise(n, r, i).then(e, t);\n        }, me]);\n      });\n      if (i) return Ne(function () {\n        var e = new _e(function (e, t) {\n          o._lock();\n          var n = r(e, t, o);\n          n && n.then && n.then(e, t);\n        });\n        return e.finally(function () {\n          return o._unlock();\n        }), e._lib = !0, e;\n      });\n      var e = new _e(function (e, t) {\n        var n = r(e, t, o);\n        n && n.then && n.then(e, t);\n      });\n      return e._lib = !0, e;\n    }, Ut.prototype._root = function () {\n      return this.parent ? this.parent._root() : this;\n    }, Ut.prototype.waitFor = function (e) {\n      var t,\n        r = this._root(),\n        i = _e.resolve(e);\n      r._waitingFor ? r._waitingFor = r._waitingFor.then(function () {\n        return i;\n      }) : (r._waitingFor = i, r._waitingQueue = [], t = r.idbtrans.objectStore(r.storeNames[0]), function e() {\n        for (++r._spinCount; r._waitingQueue.length;) r._waitingQueue.shift()();\n        r._waitingFor && (t.get(-1 / 0).onsuccess = e);\n      }());\n      var o = r._waitingFor;\n      return new _e(function (t, n) {\n        i.then(function (e) {\n          return r._waitingQueue.push(qe(t.bind(null, e)));\n        }, function (e) {\n          return r._waitingQueue.push(qe(n.bind(null, e)));\n        }).finally(function () {\n          r._waitingFor === o && (r._waitingFor = null);\n        });\n      });\n    }, Ut.prototype.abort = function () {\n      this.active && (this.active = !1, this.idbtrans && this.idbtrans.abort(), this._reject(new Y.Abort()));\n    }, Ut.prototype.table = function (e) {\n      var t = this._memoizedTables || (this._memoizedTables = {});\n      if (m(t, e)) return t[e];\n      var n = this.schema[e];\n      if (!n) throw new Y.NotFound(\"Table \" + e + \" not part of transaction\");\n      n = new this.db.Table(e, n, this);\n      return n.core = this.db.core.table(e), t[e] = n;\n    }, Ut);\n  function Ut() {}\n  function Vt(e, t, n, r, i, o, a) {\n    return {\n      name: e,\n      keyPath: t,\n      unique: n,\n      multi: r,\n      auto: i,\n      compound: o,\n      src: (n && !a ? \"&\" : \"\") + (r ? \"*\" : \"\") + (i ? \"++\" : \"\") + zt(t)\n    };\n  }\n  function zt(e) {\n    return \"string\" == typeof e ? e : e ? \"[\" + [].join.call(e, \"+\") + \"]\" : \"\";\n  }\n  function Wt(e, t, n) {\n    return {\n      name: e,\n      primKey: t,\n      indexes: n,\n      mappedClass: null,\n      idxByName: (r = function (e) {\n        return [e.name, e];\n      }, n.reduce(function (e, t, n) {\n        n = r(t, n);\n        return n && (e[n[0]] = n[1]), e;\n      }, {}))\n    };\n    var r;\n  }\n  var Yt = function (e) {\n    try {\n      return e.only([[]]), Yt = function () {\n        return [[]];\n      }, [[]];\n    } catch (e) {\n      return Yt = function () {\n        return He;\n      }, He;\n    }\n  };\n  function $t(t) {\n    return null == t ? function () {} : \"string\" == typeof t ? 1 === (n = t).split(\".\").length ? function (e) {\n      return e[n];\n    } : function (e) {\n      return O(e, n);\n    } : function (e) {\n      return O(e, t);\n    };\n    var n;\n  }\n  function Qt(e) {\n    return [].slice.call(e);\n  }\n  var Gt = 0;\n  function Xt(e) {\n    return null == e ? \":id\" : \"string\" == typeof e ? e : \"[\".concat(e.join(\"+\"), \"]\");\n  }\n  function Ht(e, i, t) {\n    function _(e) {\n      if (3 === e.type) return null;\n      if (4 === e.type) throw new Error(\"Cannot convert never type to IDBKeyRange\");\n      var t = e.lower,\n        n = e.upper,\n        r = e.lowerOpen,\n        e = e.upperOpen;\n      return void 0 === t ? void 0 === n ? null : i.upperBound(n, !!e) : void 0 === n ? i.lowerBound(t, !!r) : i.bound(t, n, !!r, !!e);\n    }\n    function n(e) {\n      var h,\n        w = e.name;\n      return {\n        name: w,\n        schema: e,\n        mutate: function (e) {\n          var y = e.trans,\n            v = e.type,\n            m = e.keys,\n            b = e.values,\n            g = e.range;\n          return new Promise(function (t, e) {\n            t = qe(t);\n            var n = y.objectStore(w),\n              r = null == n.keyPath,\n              i = \"put\" === v || \"add\" === v;\n            if (!i && \"delete\" !== v && \"deleteRange\" !== v) throw new Error(\"Invalid operation type: \" + v);\n            var o,\n              a = (m || b || {\n                length: 1\n              }).length;\n            if (m && b && m.length !== b.length) throw new Error(\"Given keys array must have same length as given values array.\");\n            if (0 === a) return t({\n              numFailures: 0,\n              failures: {},\n              results: [],\n              lastResult: void 0\n            });\n            function u(e) {\n              ++l, Rt(e);\n            }\n            var s = [],\n              c = [],\n              l = 0;\n            if (\"deleteRange\" === v) {\n              if (4 === g.type) return t({\n                numFailures: l,\n                failures: c,\n                results: [],\n                lastResult: void 0\n              });\n              3 === g.type ? s.push(o = n.clear()) : s.push(o = n.delete(_(g)));\n            } else {\n              var r = i ? r ? [b, m] : [b, null] : [m, null],\n                f = r[0],\n                h = r[1];\n              if (i) for (var d = 0; d < a; ++d) s.push(o = h && void 0 !== h[d] ? n[v](f[d], h[d]) : n[v](f[d])), o.onerror = u;else for (d = 0; d < a; ++d) s.push(o = n[v](f[d])), o.onerror = u;\n            }\n            function p(e) {\n              e = e.target.result, s.forEach(function (e, t) {\n                return null != e.error && (c[t] = e.error);\n              }), t({\n                numFailures: l,\n                failures: c,\n                results: \"delete\" === v ? m : s.map(function (e) {\n                  return e.result;\n                }),\n                lastResult: e\n              });\n            }\n            o.onerror = function (e) {\n              u(e), p(e);\n            }, o.onsuccess = p;\n          });\n        },\n        getMany: function (e) {\n          var f = e.trans,\n            h = e.keys;\n          return new Promise(function (t, e) {\n            t = qe(t);\n            for (var n, r = f.objectStore(w), i = h.length, o = new Array(i), a = 0, u = 0, s = function (e) {\n                e = e.target;\n                o[e._pos] = e.result, ++u === a && t(o);\n              }, c = Bt(e), l = 0; l < i; ++l) null != h[l] && ((n = r.get(h[l]))._pos = l, n.onsuccess = s, n.onerror = c, ++a);\n            0 === a && t(o);\n          });\n        },\n        get: function (e) {\n          var r = e.trans,\n            i = e.key;\n          return new Promise(function (t, e) {\n            t = qe(t);\n            var n = r.objectStore(w).get(i);\n            n.onsuccess = function (e) {\n              return t(e.target.result);\n            }, n.onerror = Bt(e);\n          });\n        },\n        query: (h = s, function (f) {\n          return new Promise(function (n, e) {\n            n = qe(n);\n            var r,\n              i,\n              o,\n              t = f.trans,\n              a = f.values,\n              u = f.limit,\n              s = f.query,\n              c = u === 1 / 0 ? void 0 : u,\n              l = s.index,\n              s = s.range,\n              t = t.objectStore(w),\n              l = l.isPrimaryKey ? t : t.index(l.name),\n              s = _(s);\n            if (0 === u) return n({\n              result: []\n            });\n            h ? ((c = a ? l.getAll(s, c) : l.getAllKeys(s, c)).onsuccess = function (e) {\n              return n({\n                result: e.target.result\n              });\n            }, c.onerror = Bt(e)) : (r = 0, i = !a && \"openKeyCursor\" in l ? l.openKeyCursor(s) : l.openCursor(s), o = [], i.onsuccess = function (e) {\n              var t = i.result;\n              return t ? (o.push(a ? t.value : t.primaryKey), ++r === u ? n({\n                result: o\n              }) : void t.continue()) : n({\n                result: o\n              });\n            }, i.onerror = Bt(e));\n          });\n        }),\n        openCursor: function (e) {\n          var c = e.trans,\n            o = e.values,\n            a = e.query,\n            u = e.reverse,\n            l = e.unique;\n          return new Promise(function (t, n) {\n            t = qe(t);\n            var e = a.index,\n              r = a.range,\n              i = c.objectStore(w),\n              i = e.isPrimaryKey ? i : i.index(e.name),\n              e = u ? l ? \"prevunique\" : \"prev\" : l ? \"nextunique\" : \"next\",\n              s = !o && \"openKeyCursor\" in i ? i.openKeyCursor(_(r), e) : i.openCursor(_(r), e);\n            s.onerror = Bt(n), s.onsuccess = qe(function (e) {\n              var r,\n                i,\n                o,\n                a,\n                u = s.result;\n              u ? (u.___id = ++Gt, u.done = !1, r = u.continue.bind(u), i = (i = u.continuePrimaryKey) && i.bind(u), o = u.advance.bind(u), a = function () {\n                throw new Error(\"Cursor not stopped\");\n              }, u.trans = c, u.stop = u.continue = u.continuePrimaryKey = u.advance = function () {\n                throw new Error(\"Cursor not started\");\n              }, u.fail = qe(n), u.next = function () {\n                var e = this,\n                  t = 1;\n                return this.start(function () {\n                  return t-- ? e.continue() : e.stop();\n                }).then(function () {\n                  return e;\n                });\n              }, u.start = function (e) {\n                function t() {\n                  if (s.result) try {\n                    e();\n                  } catch (e) {\n                    u.fail(e);\n                  } else u.done = !0, u.start = function () {\n                    throw new Error(\"Cursor behind last entry\");\n                  }, u.stop();\n                }\n                var n = new Promise(function (t, e) {\n                  t = qe(t), s.onerror = Bt(e), u.fail = e, u.stop = function (e) {\n                    u.stop = u.continue = u.continuePrimaryKey = u.advance = a, t(e);\n                  };\n                });\n                return s.onsuccess = qe(function (e) {\n                  s.onsuccess = t, t();\n                }), u.continue = r, u.continuePrimaryKey = i, u.advance = o, t(), n;\n              }, t(u)) : t(null);\n            }, n);\n          });\n        },\n        count: function (e) {\n          var t = e.query,\n            i = e.trans,\n            o = t.index,\n            a = t.range;\n          return new Promise(function (t, e) {\n            var n = i.objectStore(w),\n              r = o.isPrimaryKey ? n : n.index(o.name),\n              n = _(a),\n              r = n ? r.count(n) : r.count();\n            r.onsuccess = qe(function (e) {\n              return t(e.target.result);\n            }), r.onerror = Bt(e);\n          });\n        }\n      };\n    }\n    var r,\n      o,\n      a,\n      u = (o = t, a = Qt((r = e).objectStoreNames), {\n        schema: {\n          name: r.name,\n          tables: a.map(function (e) {\n            return o.objectStore(e);\n          }).map(function (t) {\n            var e = t.keyPath,\n              n = t.autoIncrement,\n              r = k(e),\n              i = {},\n              n = {\n                name: t.name,\n                primaryKey: {\n                  name: null,\n                  isPrimaryKey: !0,\n                  outbound: null == e,\n                  compound: r,\n                  keyPath: e,\n                  autoIncrement: n,\n                  unique: !0,\n                  extractKey: $t(e)\n                },\n                indexes: Qt(t.indexNames).map(function (e) {\n                  return t.index(e);\n                }).map(function (e) {\n                  var t = e.name,\n                    n = e.unique,\n                    r = e.multiEntry,\n                    e = e.keyPath,\n                    r = {\n                      name: t,\n                      compound: k(e),\n                      keyPath: e,\n                      unique: n,\n                      multiEntry: r,\n                      extractKey: $t(e)\n                    };\n                  return i[Xt(e)] = r;\n                }),\n                getIndexByKeyPath: function (e) {\n                  return i[Xt(e)];\n                }\n              };\n            return i[\":id\"] = n.primaryKey, null != e && (i[Xt(e)] = n.primaryKey), n;\n          })\n        },\n        hasGetAll: 0 < a.length && \"getAll\" in o.objectStore(a[0]) && !(\"undefined\" != typeof navigator && /Safari/.test(navigator.userAgent) && !/(Chrome\\/|Edge\\/)/.test(navigator.userAgent) && [].concat(navigator.userAgent.match(/Safari\\/(\\d*)/))[1] < 604)\n      }),\n      t = u.schema,\n      s = u.hasGetAll,\n      u = t.tables.map(n),\n      c = {};\n    return u.forEach(function (e) {\n      return c[e.name] = e;\n    }), {\n      stack: \"dbcore\",\n      transaction: e.transaction.bind(e),\n      table: function (e) {\n        if (!c[e]) throw new Error(\"Table '\".concat(e, \"' not found\"));\n        return c[e];\n      },\n      MIN_KEY: -1 / 0,\n      MAX_KEY: Yt(i),\n      schema: t\n    };\n  }\n  function Jt(e, t, n, r) {\n    var i = n.IDBKeyRange;\n    return n.indexedDB, {\n      dbcore: (r = Ht(t, i, r), e.dbcore.reduce(function (e, t) {\n        t = t.create;\n        return _(_({}, e), t(e));\n      }, r))\n    };\n  }\n  function Zt(n, e) {\n    var t = e.db,\n      e = Jt(n._middlewares, t, n._deps, e);\n    n.core = e.dbcore, n.tables.forEach(function (e) {\n      var t = e.name;\n      n.core.schema.tables.some(function (e) {\n        return e.name === t;\n      }) && (e.core = n.core.table(t), n[t] instanceof n.Table && (n[t].core = e.core));\n    });\n  }\n  function en(i, e, t, o) {\n    t.forEach(function (n) {\n      var r = o[n];\n      e.forEach(function (e) {\n        var t = function e(t, n) {\n          return h(t, n) || (t = c(t)) && e(t, n);\n        }(e, n);\n        (!t || \"value\" in t && void 0 === t.value) && (e === i.Transaction.prototype || e instanceof i.Transaction ? l(e, n, {\n          get: function () {\n            return this.table(n);\n          },\n          set: function (e) {\n            u(this, n, {\n              value: e,\n              writable: !0,\n              configurable: !0,\n              enumerable: !0\n            });\n          }\n        }) : e[n] = new i.Table(n, r));\n      });\n    });\n  }\n  function tn(n, e) {\n    e.forEach(function (e) {\n      for (var t in e) e[t] instanceof n.Table && delete e[t];\n    });\n  }\n  function nn(e, t) {\n    return e._cfg.version - t._cfg.version;\n  }\n  function rn(n, r, i, e) {\n    var o = n._dbSchema;\n    i.objectStoreNames.contains(\"$meta\") && !o.$meta && (o.$meta = Wt(\"$meta\", hn(\"\")[0], []), n._storeNames.push(\"$meta\"));\n    var a = n._createTransaction(\"readwrite\", n._storeNames, o);\n    a.create(i), a._completion.catch(e);\n    var u = a._reject.bind(a),\n      s = me.transless || me;\n    Ne(function () {\n      return me.trans = a, me.transless = s, 0 !== r ? (Zt(n, i), t = r, ((e = a).storeNames.includes(\"$meta\") ? e.table(\"$meta\").get(\"version\").then(function (e) {\n        return null != e ? e : t;\n      }) : _e.resolve(t)).then(function (e) {\n        return c = e, l = a, f = i, t = [], e = (s = n)._versions, h = s._dbSchema = ln(0, s.idbdb, f), 0 !== (e = e.filter(function (e) {\n          return e._cfg.version >= c;\n        })).length ? (e.forEach(function (u) {\n          t.push(function () {\n            var t = h,\n              e = u._cfg.dbschema;\n            fn(s, t, f), fn(s, e, f), h = s._dbSchema = e;\n            var n = an(t, e);\n            n.add.forEach(function (e) {\n              un(f, e[0], e[1].primKey, e[1].indexes);\n            }), n.change.forEach(function (e) {\n              if (e.recreate) throw new Y.Upgrade(\"Not yet support for changing primary key\");\n              var t = f.objectStore(e.name);\n              e.add.forEach(function (e) {\n                return cn(t, e);\n              }), e.change.forEach(function (e) {\n                t.deleteIndex(e.name), cn(t, e);\n              }), e.del.forEach(function (e) {\n                return t.deleteIndex(e);\n              });\n            });\n            var r = u._cfg.contentUpgrade;\n            if (r && u._cfg.version > c) {\n              Zt(s, f), l._memoizedTables = {};\n              var i = g(e);\n              n.del.forEach(function (e) {\n                i[e] = t[e];\n              }), tn(s, [s.Transaction.prototype]), en(s, [s.Transaction.prototype], x(i), i), l.schema = i;\n              var o,\n                a = B(r);\n              a && Le();\n              n = _e.follow(function () {\n                var e;\n                (o = r(l)) && a && (e = Ue.bind(null, null), o.then(e, e));\n              });\n              return o && \"function\" == typeof o.then ? _e.resolve(o) : n.then(function () {\n                return o;\n              });\n            }\n          }), t.push(function (e) {\n            var t,\n              n,\n              r = u._cfg.dbschema;\n            t = r, n = e, [].slice.call(n.db.objectStoreNames).forEach(function (e) {\n              return null == t[e] && n.db.deleteObjectStore(e);\n            }), tn(s, [s.Transaction.prototype]), en(s, [s.Transaction.prototype], s._storeNames, s._dbSchema), l.schema = s._dbSchema;\n          }), t.push(function (e) {\n            s.idbdb.objectStoreNames.contains(\"$meta\") && (Math.ceil(s.idbdb.version / 10) === u._cfg.version ? (s.idbdb.deleteObjectStore(\"$meta\"), delete s._dbSchema.$meta, s._storeNames = s._storeNames.filter(function (e) {\n              return \"$meta\" !== e;\n            })) : e.objectStore(\"$meta\").put(u._cfg.version, \"version\"));\n          });\n        }), function e() {\n          return t.length ? _e.resolve(t.shift()(l.idbtrans)).then(e) : _e.resolve();\n        }().then(function () {\n          sn(h, f);\n        })) : _e.resolve();\n        var s, c, l, f, t, h;\n      }).catch(u)) : (x(o).forEach(function (e) {\n        un(i, e, o[e].primKey, o[e].indexes);\n      }), Zt(n, i), void _e.follow(function () {\n        return n.on.populate.fire(a);\n      }).catch(u));\n      var e, t;\n    });\n  }\n  function on(e, r) {\n    sn(e._dbSchema, r), r.db.version % 10 != 0 || r.objectStoreNames.contains(\"$meta\") || r.db.createObjectStore(\"$meta\").add(Math.ceil(r.db.version / 10 - 1), \"version\");\n    var t = ln(0, e.idbdb, r);\n    fn(e, e._dbSchema, r);\n    for (var n = 0, i = an(t, e._dbSchema).change; n < i.length; n++) {\n      var o = function (t) {\n        if (t.change.length || t.recreate) return console.warn(\"Unable to patch indexes of table \".concat(t.name, \" because it has changes on the type of index or primary key.\")), {\n          value: void 0\n        };\n        var n = r.objectStore(t.name);\n        t.add.forEach(function (e) {\n          ie && console.debug(\"Dexie upgrade patch: Creating missing index \".concat(t.name, \".\").concat(e.src)), cn(n, e);\n        });\n      }(i[n]);\n      if (\"object\" == typeof o) return o.value;\n    }\n  }\n  function an(e, t) {\n    var n,\n      r = {\n        del: [],\n        add: [],\n        change: []\n      };\n    for (n in e) t[n] || r.del.push(n);\n    for (n in t) {\n      var i = e[n],\n        o = t[n];\n      if (i) {\n        var a = {\n          name: n,\n          def: o,\n          recreate: !1,\n          del: [],\n          add: [],\n          change: []\n        };\n        if (\"\" + (i.primKey.keyPath || \"\") != \"\" + (o.primKey.keyPath || \"\") || i.primKey.auto !== o.primKey.auto) a.recreate = !0, r.change.push(a);else {\n          var u = i.idxByName,\n            s = o.idxByName,\n            c = void 0;\n          for (c in u) s[c] || a.del.push(c);\n          for (c in s) {\n            var l = u[c],\n              f = s[c];\n            l ? l.src !== f.src && a.change.push(f) : a.add.push(f);\n          }\n          (0 < a.del.length || 0 < a.add.length || 0 < a.change.length) && r.change.push(a);\n        }\n      } else r.add.push([n, o]);\n    }\n    return r;\n  }\n  function un(e, t, n, r) {\n    var i = e.db.createObjectStore(t, n.keyPath ? {\n      keyPath: n.keyPath,\n      autoIncrement: n.auto\n    } : {\n      autoIncrement: n.auto\n    });\n    return r.forEach(function (e) {\n      return cn(i, e);\n    }), i;\n  }\n  function sn(t, n) {\n    x(t).forEach(function (e) {\n      n.db.objectStoreNames.contains(e) || (ie && console.debug(\"Dexie: Creating missing table\", e), un(n, e, t[e].primKey, t[e].indexes));\n    });\n  }\n  function cn(e, t) {\n    e.createIndex(t.name, t.keyPath, {\n      unique: t.unique,\n      multiEntry: t.multi\n    });\n  }\n  function ln(e, t, u) {\n    var s = {};\n    return b(t.objectStoreNames, 0).forEach(function (e) {\n      for (var t = u.objectStore(e), n = Vt(zt(a = t.keyPath), a || \"\", !0, !1, !!t.autoIncrement, a && \"string\" != typeof a, !0), r = [], i = 0; i < t.indexNames.length; ++i) {\n        var o = t.index(t.indexNames[i]),\n          a = o.keyPath,\n          o = Vt(o.name, a, !!o.unique, !!o.multiEntry, !1, a && \"string\" != typeof a, !1);\n        r.push(o);\n      }\n      s[e] = Wt(e, n, r);\n    }), s;\n  }\n  function fn(e, t, n) {\n    for (var r = n.db.objectStoreNames, i = 0; i < r.length; ++i) {\n      var o = r[i],\n        a = n.objectStore(o);\n      e._hasGetAll = \"getAll\" in a;\n      for (var u = 0; u < a.indexNames.length; ++u) {\n        var s = a.indexNames[u],\n          c = a.index(s).keyPath,\n          l = \"string\" == typeof c ? c : \"[\" + b(c).join(\"+\") + \"]\";\n        !t[o] || (c = t[o].idxByName[l]) && (c.name = s, delete t[o].idxByName[l], t[o].idxByName[s] = c);\n      }\n    }\n    \"undefined\" != typeof navigator && /Safari/.test(navigator.userAgent) && !/(Chrome\\/|Edge\\/)/.test(navigator.userAgent) && f.WorkerGlobalScope && f instanceof f.WorkerGlobalScope && [].concat(navigator.userAgent.match(/Safari\\/(\\d*)/))[1] < 604 && (e._hasGetAll = !1);\n  }\n  function hn(e) {\n    return e.split(\",\").map(function (e, t) {\n      var n = (e = e.trim()).replace(/([&*]|\\+\\+)/g, \"\"),\n        r = /^\\[/.test(n) ? n.match(/^\\[(.*)\\]$/)[1].split(\"+\") : n;\n      return Vt(n, r || null, /\\&/.test(e), /\\*/.test(e), /\\+\\+/.test(e), k(r), 0 === t);\n    });\n  }\n  var dn = (pn.prototype._parseStoresSpec = function (r, i) {\n    x(r).forEach(function (e) {\n      if (null !== r[e]) {\n        var t = hn(r[e]),\n          n = t.shift();\n        if (n.unique = !0, n.multi) throw new Y.Schema(\"Primary key cannot be multi-valued\");\n        t.forEach(function (e) {\n          if (e.auto) throw new Y.Schema(\"Only primary key can be marked as autoIncrement (++)\");\n          if (!e.keyPath) throw new Y.Schema(\"Index must have a name and cannot be an empty string\");\n        }), i[e] = Wt(e, n, t);\n      }\n    });\n  }, pn.prototype.stores = function (e) {\n    var t = this.db;\n    this._cfg.storesSource = this._cfg.storesSource ? a(this._cfg.storesSource, e) : e;\n    var e = t._versions,\n      n = {},\n      r = {};\n    return e.forEach(function (e) {\n      a(n, e._cfg.storesSource), r = e._cfg.dbschema = {}, e._parseStoresSpec(n, r);\n    }), t._dbSchema = r, tn(t, [t._allTables, t, t.Transaction.prototype]), en(t, [t._allTables, t, t.Transaction.prototype, this._cfg.tables], x(r), r), t._storeNames = x(r), this;\n  }, pn.prototype.upgrade = function (e) {\n    return this._cfg.contentUpgrade = re(this._cfg.contentUpgrade || G, e), this;\n  }, pn);\n  function pn() {}\n  function yn(e, t) {\n    var n = e._dbNamesDB;\n    return n || (n = e._dbNamesDB = new er(tt, {\n      addons: [],\n      indexedDB: e,\n      IDBKeyRange: t\n    })).version(1).stores({\n      dbnames: \"name\"\n    }), n.table(\"dbnames\");\n  }\n  function vn(e) {\n    return e && \"function\" == typeof e.databases;\n  }\n  function mn(e) {\n    return Ne(function () {\n      return me.letThrough = !0, e();\n    });\n  }\n  function bn(e) {\n    return !(\"from\" in e);\n  }\n  var gn = function (e, t) {\n    if (!this) {\n      var n = new gn();\n      return e && \"d\" in e && a(n, e), n;\n    }\n    a(this, arguments.length ? {\n      d: 1,\n      from: e,\n      to: 1 < arguments.length ? t : e\n    } : {\n      d: 0\n    });\n  };\n  function wn(e, t, n) {\n    var r = st(t, n);\n    if (!isNaN(r)) {\n      if (0 < r) throw RangeError();\n      if (bn(e)) return a(e, {\n        from: t,\n        to: n,\n        d: 1\n      });\n      var i = e.l,\n        r = e.r;\n      if (st(n, e.from) < 0) return i ? wn(i, t, n) : e.l = {\n        from: t,\n        to: n,\n        d: 1,\n        l: null,\n        r: null\n      }, On(e);\n      if (0 < st(t, e.to)) return r ? wn(r, t, n) : e.r = {\n        from: t,\n        to: n,\n        d: 1,\n        l: null,\n        r: null\n      }, On(e);\n      st(t, e.from) < 0 && (e.from = t, e.l = null, e.d = r ? r.d + 1 : 1), 0 < st(n, e.to) && (e.to = n, e.r = null, e.d = e.l ? e.l.d + 1 : 1);\n      n = !e.r;\n      i && !e.l && _n(e, i), r && n && _n(e, r);\n    }\n  }\n  function _n(e, t) {\n    bn(t) || function e(t, n) {\n      var r = n.from,\n        i = n.to,\n        o = n.l,\n        n = n.r;\n      wn(t, r, i), o && e(t, o), n && e(t, n);\n    }(e, t);\n  }\n  function xn(e, t) {\n    var n = kn(t),\n      r = n.next();\n    if (r.done) return !1;\n    for (var i = r.value, o = kn(e), a = o.next(i.from), u = a.value; !r.done && !a.done;) {\n      if (st(u.from, i.to) <= 0 && 0 <= st(u.to, i.from)) return !0;\n      st(i.from, u.from) < 0 ? i = (r = n.next(u.from)).value : u = (a = o.next(i.from)).value;\n    }\n    return !1;\n  }\n  function kn(e) {\n    var n = bn(e) ? null : {\n      s: 0,\n      n: e\n    };\n    return {\n      next: function (e) {\n        for (var t = 0 < arguments.length; n;) switch (n.s) {\n          case 0:\n            if (n.s = 1, t) for (; n.n.l && st(e, n.n.from) < 0;) n = {\n              up: n,\n              n: n.n.l,\n              s: 1\n            };else for (; n.n.l;) n = {\n              up: n,\n              n: n.n.l,\n              s: 1\n            };\n          case 1:\n            if (n.s = 2, !t || st(e, n.n.to) <= 0) return {\n              value: n.n,\n              done: !1\n            };\n          case 2:\n            if (n.n.r) {\n              n.s = 3, n = {\n                up: n,\n                n: n.n.r,\n                s: 0\n              };\n              continue;\n            }\n          case 3:\n            n = n.up;\n        }\n        return {\n          done: !0\n        };\n      }\n    };\n  }\n  function On(e) {\n    var t,\n      n,\n      r = ((null === (t = e.r) || void 0 === t ? void 0 : t.d) || 0) - ((null === (n = e.l) || void 0 === n ? void 0 : n.d) || 0),\n      i = 1 < r ? \"r\" : r < -1 ? \"l\" : \"\";\n    i && (t = \"r\" == i ? \"l\" : \"r\", n = _({}, e), r = e[i], e.from = r.from, e.to = r.to, e[i] = r[i], n[i] = r[t], (e[t] = n).d = Pn(n)), e.d = Pn(e);\n  }\n  function Pn(e) {\n    var t = e.r,\n      e = e.l;\n    return (t ? e ? Math.max(t.d, e.d) : t.d : e ? e.d : 0) + 1;\n  }\n  function Kn(t, n) {\n    return x(n).forEach(function (e) {\n      t[e] ? _n(t[e], n[e]) : t[e] = function e(t) {\n        var n,\n          r,\n          i = {};\n        for (n in t) m(t, n) && (r = t[n], i[n] = !r || \"object\" != typeof r || K.has(r.constructor) ? r : e(r));\n        return i;\n      }(n[e]);\n    }), t;\n  }\n  function En(t, n) {\n    return t.all || n.all || Object.keys(t).some(function (e) {\n      return n[e] && xn(n[e], t[e]);\n    });\n  }\n  r(gn.prototype, ((M = {\n    add: function (e) {\n      return _n(this, e), this;\n    },\n    addKey: function (e) {\n      return wn(this, e, e), this;\n    },\n    addKeys: function (e) {\n      var t = this;\n      return e.forEach(function (e) {\n        return wn(t, e, e);\n      }), this;\n    },\n    hasKey: function (e) {\n      var t = kn(this).next(e).value;\n      return t && st(t.from, e) <= 0 && 0 <= st(t.to, e);\n    }\n  })[C] = function () {\n    return kn(this);\n  }, M));\n  var Sn = {},\n    jn = {},\n    An = !1;\n  function Cn(e) {\n    Kn(jn, e), An || (An = !0, setTimeout(function () {\n      An = !1, Tn(jn, !(jn = {}));\n    }, 0));\n  }\n  function Tn(e, t) {\n    void 0 === t && (t = !1);\n    var n = new Set();\n    if (e.all) for (var r = 0, i = Object.values(Sn); r < i.length; r++) qn(a = i[r], e, n, t);else for (var o in e) {\n      var a,\n        u = /^idb\\:\\/\\/(.*)\\/(.*)\\//.exec(o);\n      u && (o = u[1], u = u[2], (a = Sn[\"idb://\".concat(o, \"/\").concat(u)]) && qn(a, e, n, t));\n    }\n    n.forEach(function (e) {\n      return e();\n    });\n  }\n  function qn(e, t, n, r) {\n    for (var i = [], o = 0, a = Object.entries(e.queries.query); o < a.length; o++) {\n      for (var u = a[o], s = u[0], c = [], l = 0, f = u[1]; l < f.length; l++) {\n        var h = f[l];\n        En(t, h.obsSet) ? h.subscribers.forEach(function (e) {\n          return n.add(e);\n        }) : r && c.push(h);\n      }\n      r && i.push([s, c]);\n    }\n    if (r) for (var d = 0, p = i; d < p.length; d++) {\n      var y = p[d],\n        s = y[0],\n        c = y[1];\n      e.queries.query[s] = c;\n    }\n  }\n  function Dn(f) {\n    var h = f._state,\n      r = f._deps.indexedDB;\n    if (h.isBeingOpened || f.idbdb) return h.dbReadyPromise.then(function () {\n      return h.dbOpenError ? Xe(h.dbOpenError) : f;\n    });\n    h.isBeingOpened = !0, h.dbOpenError = null, h.openComplete = !1;\n    var t = h.openCanceller,\n      d = Math.round(10 * f.verno),\n      p = !1;\n    function e() {\n      if (h.openCanceller !== t) throw new Y.DatabaseClosed(\"db.open() was cancelled\");\n    }\n    function y() {\n      return new _e(function (s, n) {\n        if (e(), !r) throw new Y.MissingAPI();\n        var c = f.name,\n          l = h.autoSchema || !d ? r.open(c) : r.open(c, d);\n        if (!l) throw new Y.MissingAPI();\n        l.onerror = Bt(n), l.onblocked = qe(f._fireOnBlocked), l.onupgradeneeded = qe(function (e) {\n          var t;\n          v = l.transaction, h.autoSchema && !f._options.allowEmptyDB ? (l.onerror = Rt, v.abort(), l.result.close(), (t = r.deleteDatabase(c)).onsuccess = t.onerror = qe(function () {\n            n(new Y.NoSuchDatabase(\"Database \".concat(c, \" doesnt exist\")));\n          })) : (v.onerror = Bt(n), e = e.oldVersion > Math.pow(2, 62) ? 0 : e.oldVersion, m = e < 1, f.idbdb = l.result, p && on(f, v), rn(f, e / 10, v, n));\n        }, n), l.onsuccess = qe(function () {\n          v = null;\n          var e,\n            t,\n            n,\n            r,\n            i,\n            o = f.idbdb = l.result,\n            a = b(o.objectStoreNames);\n          if (0 < a.length) try {\n            var u = o.transaction(1 === (r = a).length ? r[0] : r, \"readonly\");\n            if (h.autoSchema) t = o, n = u, (e = f).verno = t.version / 10, n = e._dbSchema = ln(0, t, n), e._storeNames = b(t.objectStoreNames, 0), en(e, [e._allTables], x(n), n);else if (fn(f, f._dbSchema, u), ((i = an(ln(0, (i = f).idbdb, u), i._dbSchema)).add.length || i.change.some(function (e) {\n              return e.add.length || e.change.length;\n            })) && !p) return console.warn(\"Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this.\"), o.close(), d = o.version + 1, p = !0, s(y());\n            Zt(f, u);\n          } catch (e) {}\n          et.push(f), o.onversionchange = qe(function (e) {\n            h.vcFired = !0, f.on(\"versionchange\").fire(e);\n          }), o.onclose = qe(function (e) {\n            f.on(\"close\").fire(e);\n          }), m && (i = f._deps, u = c, o = i.indexedDB, i = i.IDBKeyRange, vn(o) || u === tt || yn(o, i).put({\n            name: u\n          }).catch(G)), s();\n        }, n);\n      }).catch(function (e) {\n        switch (null == e ? void 0 : e.name) {\n          case \"UnknownError\":\n            if (0 < h.PR1398_maxLoop) return h.PR1398_maxLoop--, console.warn(\"Dexie: Workaround for Chrome UnknownError on open()\"), y();\n            break;\n          case \"VersionError\":\n            if (0 < d) return d = 0, y();\n        }\n        return _e.reject(e);\n      });\n    }\n    var n,\n      i = h.dbReadyResolve,\n      v = null,\n      m = !1;\n    return _e.race([t, (\"undefined\" == typeof navigator ? _e.resolve() : !navigator.userAgentData && /Safari\\//.test(navigator.userAgent) && !/Chrom(e|ium)\\//.test(navigator.userAgent) && indexedDB.databases ? new Promise(function (e) {\n      function t() {\n        return indexedDB.databases().finally(e);\n      }\n      n = setInterval(t, 100), t();\n    }).finally(function () {\n      return clearInterval(n);\n    }) : Promise.resolve()).then(y)]).then(function () {\n      return e(), h.onReadyBeingFired = [], _e.resolve(mn(function () {\n        return f.on.ready.fire(f.vip);\n      })).then(function e() {\n        if (0 < h.onReadyBeingFired.length) {\n          var t = h.onReadyBeingFired.reduce(re, G);\n          return h.onReadyBeingFired = [], _e.resolve(mn(function () {\n            return t(f.vip);\n          })).then(e);\n        }\n      });\n    }).finally(function () {\n      h.openCanceller === t && (h.onReadyBeingFired = null, h.isBeingOpened = !1);\n    }).catch(function (e) {\n      h.dbOpenError = e;\n      try {\n        v && v.abort();\n      } catch (e) {}\n      return t === h.openCanceller && f._close(), Xe(e);\n    }).finally(function () {\n      h.openComplete = !0, i();\n    }).then(function () {\n      var n;\n      return m && (n = {}, f.tables.forEach(function (t) {\n        t.schema.indexes.forEach(function (e) {\n          e.name && (n[\"idb://\".concat(f.name, \"/\").concat(t.name, \"/\").concat(e.name)] = new gn(-1 / 0, [[[]]]));\n        }), n[\"idb://\".concat(f.name, \"/\").concat(t.name, \"/\")] = n[\"idb://\".concat(f.name, \"/\").concat(t.name, \"/:dels\")] = new gn(-1 / 0, [[[]]]);\n      }), Nt(Mt).fire(n), Tn(n, !0)), f;\n    });\n  }\n  function In(t) {\n    function e(e) {\n      return t.next(e);\n    }\n    var r = n(e),\n      i = n(function (e) {\n        return t.throw(e);\n      });\n    function n(n) {\n      return function (e) {\n        var t = n(e),\n          e = t.value;\n        return t.done ? e : e && \"function\" == typeof e.then ? e.then(r, i) : k(e) ? Promise.all(e).then(r, i) : r(e);\n      };\n    }\n    return n(e)();\n  }\n  function Bn(e, t, n) {\n    for (var r = k(e) ? e.slice() : [e], i = 0; i < n; ++i) r.push(t);\n    return r;\n  }\n  var Rn = {\n    stack: \"dbcore\",\n    name: \"VirtualIndexMiddleware\",\n    level: 1,\n    create: function (f) {\n      return _(_({}, f), {\n        table: function (e) {\n          var a = f.table(e),\n            t = a.schema,\n            u = {},\n            s = [];\n          function c(e, t, n) {\n            var r = Xt(e),\n              i = u[r] = u[r] || [],\n              o = null == e ? 0 : \"string\" == typeof e ? 1 : e.length,\n              a = 0 < t,\n              a = _(_({}, n), {\n                name: a ? \"\".concat(r, \"(virtual-from:\").concat(n.name, \")\") : n.name,\n                lowLevelIndex: n,\n                isVirtual: a,\n                keyTail: t,\n                keyLength: o,\n                extractKey: $t(e),\n                unique: !a && n.unique\n              });\n            return i.push(a), a.isPrimaryKey || s.push(a), 1 < o && c(2 === o ? e[0] : e.slice(0, o - 1), t + 1, n), i.sort(function (e, t) {\n              return e.keyTail - t.keyTail;\n            }), a;\n          }\n          e = c(t.primaryKey.keyPath, 0, t.primaryKey);\n          u[\":id\"] = [e];\n          for (var n = 0, r = t.indexes; n < r.length; n++) {\n            var i = r[n];\n            c(i.keyPath, 0, i);\n          }\n          function l(e) {\n            var t,\n              n = e.query.index;\n            return n.isVirtual ? _(_({}, e), {\n              query: {\n                index: n.lowLevelIndex,\n                range: (t = e.query.range, n = n.keyTail, {\n                  type: 1 === t.type ? 2 : t.type,\n                  lower: Bn(t.lower, t.lowerOpen ? f.MAX_KEY : f.MIN_KEY, n),\n                  lowerOpen: !0,\n                  upper: Bn(t.upper, t.upperOpen ? f.MIN_KEY : f.MAX_KEY, n),\n                  upperOpen: !0\n                })\n              }\n            }) : e;\n          }\n          return _(_({}, a), {\n            schema: _(_({}, t), {\n              primaryKey: e,\n              indexes: s,\n              getIndexByKeyPath: function (e) {\n                return (e = u[Xt(e)]) && e[0];\n              }\n            }),\n            count: function (e) {\n              return a.count(l(e));\n            },\n            query: function (e) {\n              return a.query(l(e));\n            },\n            openCursor: function (t) {\n              var e = t.query.index,\n                r = e.keyTail,\n                n = e.isVirtual,\n                i = e.keyLength;\n              return n ? a.openCursor(l(t)).then(function (e) {\n                return e && o(e);\n              }) : a.openCursor(t);\n              function o(n) {\n                return Object.create(n, {\n                  continue: {\n                    value: function (e) {\n                      null != e ? n.continue(Bn(e, t.reverse ? f.MAX_KEY : f.MIN_KEY, r)) : t.unique ? n.continue(n.key.slice(0, i).concat(t.reverse ? f.MIN_KEY : f.MAX_KEY, r)) : n.continue();\n                    }\n                  },\n                  continuePrimaryKey: {\n                    value: function (e, t) {\n                      n.continuePrimaryKey(Bn(e, f.MAX_KEY, r), t);\n                    }\n                  },\n                  primaryKey: {\n                    get: function () {\n                      return n.primaryKey;\n                    }\n                  },\n                  key: {\n                    get: function () {\n                      var e = n.key;\n                      return 1 === i ? e[0] : e.slice(0, i);\n                    }\n                  },\n                  value: {\n                    get: function () {\n                      return n.value;\n                    }\n                  }\n                });\n              }\n            }\n          });\n        }\n      });\n    }\n  };\n  function Mn(i, o, a, u) {\n    return a = a || {}, u = u || \"\", x(i).forEach(function (e) {\n      var t, n, r;\n      m(o, e) ? (t = i[e], n = o[e], \"object\" == typeof t && \"object\" == typeof n && t && n ? (r = A(t)) !== A(n) ? a[u + e] = o[e] : \"Object\" === r ? Mn(t, n, a, u + e + \".\") : t !== n && (a[u + e] = o[e]) : t !== n && (a[u + e] = o[e])) : a[u + e] = void 0;\n    }), x(o).forEach(function (e) {\n      m(i, e) || (a[u + e] = o[e]);\n    }), a;\n  }\n  function Fn(e, t) {\n    return \"delete\" === t.type ? t.keys : t.keys || t.values.map(e.extractKey);\n  }\n  var Nn = {\n    stack: \"dbcore\",\n    name: \"HooksMiddleware\",\n    level: 2,\n    create: function (e) {\n      return _(_({}, e), {\n        table: function (r) {\n          var y = e.table(r),\n            v = y.schema.primaryKey;\n          return _(_({}, y), {\n            mutate: function (e) {\n              var t = me.trans,\n                n = t.table(r).hook,\n                h = n.deleting,\n                d = n.creating,\n                p = n.updating;\n              switch (e.type) {\n                case \"add\":\n                  if (d.fire === G) break;\n                  return t._promise(\"readwrite\", function () {\n                    return a(e);\n                  }, !0);\n                case \"put\":\n                  if (d.fire === G && p.fire === G) break;\n                  return t._promise(\"readwrite\", function () {\n                    return a(e);\n                  }, !0);\n                case \"delete\":\n                  if (h.fire === G) break;\n                  return t._promise(\"readwrite\", function () {\n                    return a(e);\n                  }, !0);\n                case \"deleteRange\":\n                  if (h.fire === G) break;\n                  return t._promise(\"readwrite\", function () {\n                    return function n(r, i, o) {\n                      return y.query({\n                        trans: r,\n                        values: !1,\n                        query: {\n                          index: v,\n                          range: i\n                        },\n                        limit: o\n                      }).then(function (e) {\n                        var t = e.result;\n                        return a({\n                          type: \"delete\",\n                          keys: t,\n                          trans: r\n                        }).then(function (e) {\n                          return 0 < e.numFailures ? Promise.reject(e.failures[0]) : t.length < o ? {\n                            failures: [],\n                            numFailures: 0,\n                            lastResult: void 0\n                          } : n(r, _(_({}, i), {\n                            lower: t[t.length - 1],\n                            lowerOpen: !0\n                          }), o);\n                        });\n                      });\n                    }(e.trans, e.range, 1e4);\n                  }, !0);\n              }\n              return y.mutate(e);\n              function a(c) {\n                var e,\n                  t,\n                  n,\n                  l = me.trans,\n                  f = c.keys || Fn(v, c);\n                if (!f) throw new Error(\"Keys missing\");\n                return \"delete\" !== (c = \"add\" === c.type || \"put\" === c.type ? _(_({}, c), {\n                  keys: f\n                }) : _({}, c)).type && (c.values = i([], c.values, !0)), c.keys && (c.keys = i([], c.keys, !0)), e = y, n = f, (\"add\" === (t = c).type ? Promise.resolve([]) : e.getMany({\n                  trans: t.trans,\n                  keys: n,\n                  cache: \"immutable\"\n                })).then(function (u) {\n                  var s = f.map(function (e, t) {\n                    var n,\n                      r,\n                      i,\n                      o = u[t],\n                      a = {\n                        onerror: null,\n                        onsuccess: null\n                      };\n                    return \"delete\" === c.type ? h.fire.call(a, e, o, l) : \"add\" === c.type || void 0 === o ? (n = d.fire.call(a, e, c.values[t], l), null == e && null != n && (c.keys[t] = e = n, v.outbound || P(c.values[t], v.keyPath, e))) : (n = Mn(o, c.values[t]), (r = p.fire.call(a, n, e, o, l)) && (i = c.values[t], Object.keys(r).forEach(function (e) {\n                      m(i, e) ? i[e] = r[e] : P(i, e, r[e]);\n                    }))), a;\n                  });\n                  return y.mutate(c).then(function (e) {\n                    for (var t = e.failures, n = e.results, r = e.numFailures, e = e.lastResult, i = 0; i < f.length; ++i) {\n                      var o = (n || f)[i],\n                        a = s[i];\n                      null == o ? a.onerror && a.onerror(t[i]) : a.onsuccess && a.onsuccess(\"put\" === c.type && u[i] ? c.values[i] : o);\n                    }\n                    return {\n                      failures: t,\n                      results: n,\n                      numFailures: r,\n                      lastResult: e\n                    };\n                  }).catch(function (t) {\n                    return s.forEach(function (e) {\n                      return e.onerror && e.onerror(t);\n                    }), Promise.reject(t);\n                  });\n                });\n              }\n            }\n          });\n        }\n      });\n    }\n  };\n  function Ln(e, t, n) {\n    try {\n      if (!t) return null;\n      if (t.keys.length < e.length) return null;\n      for (var r = [], i = 0, o = 0; i < t.keys.length && o < e.length; ++i) 0 === st(t.keys[i], e[o]) && (r.push(n ? S(t.values[i]) : t.values[i]), ++o);\n      return r.length === e.length ? r : null;\n    } catch (e) {\n      return null;\n    }\n  }\n  var Un = {\n    stack: \"dbcore\",\n    level: -1,\n    create: function (t) {\n      return {\n        table: function (e) {\n          var n = t.table(e);\n          return _(_({}, n), {\n            getMany: function (t) {\n              if (!t.cache) return n.getMany(t);\n              var e = Ln(t.keys, t.trans._cache, \"clone\" === t.cache);\n              return e ? _e.resolve(e) : n.getMany(t).then(function (e) {\n                return t.trans._cache = {\n                  keys: t.keys,\n                  values: \"clone\" === t.cache ? S(e) : e\n                }, e;\n              });\n            },\n            mutate: function (e) {\n              return \"add\" !== e.type && (e.trans._cache = null), n.mutate(e);\n            }\n          });\n        }\n      };\n    }\n  };\n  function Vn(e, t) {\n    return \"readonly\" === e.trans.mode && !!e.subscr && !e.trans.explicit && \"disabled\" !== e.trans.db._options.cache && !t.schema.primaryKey.outbound;\n  }\n  function zn(e, t) {\n    switch (e) {\n      case \"query\":\n        return t.values && !t.unique;\n      case \"get\":\n      case \"getMany\":\n      case \"count\":\n      case \"openCursor\":\n        return !1;\n    }\n  }\n  var Wn = {\n    stack: \"dbcore\",\n    level: 0,\n    name: \"Observability\",\n    create: function (b) {\n      var g = b.schema.name,\n        w = new gn(b.MIN_KEY, b.MAX_KEY);\n      return _(_({}, b), {\n        transaction: function (e, t, n) {\n          if (me.subscr && \"readonly\" !== t) throw new Y.ReadOnly(\"Readwrite transaction in liveQuery context. Querier source: \".concat(me.querier));\n          return b.transaction(e, t, n);\n        },\n        table: function (d) {\n          var p = b.table(d),\n            y = p.schema,\n            v = y.primaryKey,\n            e = y.indexes,\n            c = v.extractKey,\n            l = v.outbound,\n            m = v.autoIncrement && e.filter(function (e) {\n              return e.compound && e.keyPath.includes(v.keyPath);\n            }),\n            t = _(_({}, p), {\n              mutate: function (a) {\n                function u(e) {\n                  return e = \"idb://\".concat(g, \"/\").concat(d, \"/\").concat(e), n[e] || (n[e] = new gn());\n                }\n                var e,\n                  o,\n                  s,\n                  t = a.trans,\n                  n = a.mutatedParts || (a.mutatedParts = {}),\n                  r = u(\"\"),\n                  i = u(\":dels\"),\n                  c = a.type,\n                  l = \"deleteRange\" === a.type ? [a.range] : \"delete\" === a.type ? [a.keys] : a.values.length < 50 ? [Fn(v, a).filter(function (e) {\n                    return e;\n                  }), a.values] : [],\n                  f = l[0],\n                  h = l[1],\n                  l = a.trans._cache;\n                return k(f) ? (r.addKeys(f), (l = \"delete\" === c || f.length === h.length ? Ln(f, l) : null) || i.addKeys(f), (l || h) && (e = u, o = l, s = h, y.indexes.forEach(function (t) {\n                  var n = e(t.name || \"\");\n                  function r(e) {\n                    return null != e ? t.extractKey(e) : null;\n                  }\n                  function i(e) {\n                    return t.multiEntry && k(e) ? e.forEach(function (e) {\n                      return n.addKey(e);\n                    }) : n.addKey(e);\n                  }\n                  (o || s).forEach(function (e, t) {\n                    var n = o && r(o[t]),\n                      t = s && r(s[t]);\n                    0 !== st(n, t) && (null != n && i(n), null != t && i(t));\n                  });\n                }))) : f ? (h = {\n                  from: null !== (h = f.lower) && void 0 !== h ? h : b.MIN_KEY,\n                  to: null !== (h = f.upper) && void 0 !== h ? h : b.MAX_KEY\n                }, i.add(h), r.add(h)) : (r.add(w), i.add(w), y.indexes.forEach(function (e) {\n                  return u(e.name).add(w);\n                })), p.mutate(a).then(function (o) {\n                  return !f || \"add\" !== a.type && \"put\" !== a.type || (r.addKeys(o.results), m && m.forEach(function (t) {\n                    for (var e = a.values.map(function (e) {\n                        return t.extractKey(e);\n                      }), n = t.keyPath.findIndex(function (e) {\n                        return e === v.keyPath;\n                      }), r = 0, i = o.results.length; r < i; ++r) e[r][n] = o.results[r];\n                    u(t.name).addKeys(e);\n                  })), t.mutatedParts = Kn(t.mutatedParts || {}, n), o;\n                });\n              }\n            }),\n            e = function (e) {\n              var t = e.query,\n                e = t.index,\n                t = t.range;\n              return [e, new gn(null !== (e = t.lower) && void 0 !== e ? e : b.MIN_KEY, null !== (t = t.upper) && void 0 !== t ? t : b.MAX_KEY)];\n            },\n            f = {\n              get: function (e) {\n                return [v, new gn(e.key)];\n              },\n              getMany: function (e) {\n                return [v, new gn().addKeys(e.keys)];\n              },\n              count: e,\n              query: e,\n              openCursor: e\n            };\n          return x(f).forEach(function (s) {\n            t[s] = function (i) {\n              var e = me.subscr,\n                t = !!e,\n                n = Vn(me, p) && zn(s, i) ? i.obsSet = {} : e;\n              if (t) {\n                var r = function (e) {\n                    e = \"idb://\".concat(g, \"/\").concat(d, \"/\").concat(e);\n                    return n[e] || (n[e] = new gn());\n                  },\n                  o = r(\"\"),\n                  a = r(\":dels\"),\n                  e = f[s](i),\n                  t = e[0],\n                  e = e[1];\n                if ((\"query\" === s && t.isPrimaryKey && !i.values ? a : r(t.name || \"\")).add(e), !t.isPrimaryKey) {\n                  if (\"count\" !== s) {\n                    var u = \"query\" === s && l && i.values && p.query(_(_({}, i), {\n                      values: !1\n                    }));\n                    return p[s].apply(this, arguments).then(function (t) {\n                      if (\"query\" === s) {\n                        if (l && i.values) return u.then(function (e) {\n                          e = e.result;\n                          return o.addKeys(e), t;\n                        });\n                        var e = i.values ? t.result.map(c) : t.result;\n                        (i.values ? o : a).addKeys(e);\n                      } else if (\"openCursor\" === s) {\n                        var n = t,\n                          r = i.values;\n                        return n && Object.create(n, {\n                          key: {\n                            get: function () {\n                              return a.addKey(n.primaryKey), n.key;\n                            }\n                          },\n                          primaryKey: {\n                            get: function () {\n                              var e = n.primaryKey;\n                              return a.addKey(e), e;\n                            }\n                          },\n                          value: {\n                            get: function () {\n                              return r && o.addKey(n.primaryKey), n.value;\n                            }\n                          }\n                        });\n                      }\n                      return t;\n                    });\n                  }\n                  a.add(w);\n                }\n              }\n              return p[s].apply(this, arguments);\n            };\n          }), t;\n        }\n      });\n    }\n  };\n  function Yn(e, t, n) {\n    if (0 === n.numFailures) return t;\n    if (\"deleteRange\" === t.type) return null;\n    var r = t.keys ? t.keys.length : \"values\" in t && t.values ? t.values.length : 1;\n    if (n.numFailures === r) return null;\n    t = _({}, t);\n    return k(t.keys) && (t.keys = t.keys.filter(function (e, t) {\n      return !(t in n.failures);\n    })), \"values\" in t && k(t.values) && (t.values = t.values.filter(function (e, t) {\n      return !(t in n.failures);\n    })), t;\n  }\n  function $n(e, t) {\n    return n = e, (void 0 === (r = t).lower || (r.lowerOpen ? 0 < st(n, r.lower) : 0 <= st(n, r.lower))) && (e = e, void 0 === (t = t).upper || (t.upperOpen ? st(e, t.upper) < 0 : st(e, t.upper) <= 0));\n    var n, r;\n  }\n  function Qn(e, d, t, n, r, i) {\n    if (!t || 0 === t.length) return e;\n    var o = d.query.index,\n      p = o.multiEntry,\n      y = d.query.range,\n      v = n.schema.primaryKey.extractKey,\n      m = o.extractKey,\n      a = (o.lowLevelIndex || o).extractKey,\n      t = t.reduce(function (e, t) {\n        var n = e,\n          r = [];\n        if (\"add\" === t.type || \"put\" === t.type) for (var i = new gn(), o = t.values.length - 1; 0 <= o; --o) {\n          var a,\n            u = t.values[o],\n            s = v(u);\n          i.hasKey(s) || (a = m(u), (p && k(a) ? a.some(function (e) {\n            return $n(e, y);\n          }) : $n(a, y)) && (i.addKey(s), r.push(u)));\n        }\n        switch (t.type) {\n          case \"add\":\n            var c = new gn().addKeys(d.values ? e.map(function (e) {\n                return v(e);\n              }) : e),\n              n = e.concat(d.values ? r.filter(function (e) {\n                e = v(e);\n                return !c.hasKey(e) && (c.addKey(e), !0);\n              }) : r.map(function (e) {\n                return v(e);\n              }).filter(function (e) {\n                return !c.hasKey(e) && (c.addKey(e), !0);\n              }));\n            break;\n          case \"put\":\n            var l = new gn().addKeys(t.values.map(function (e) {\n              return v(e);\n            }));\n            n = e.filter(function (e) {\n              return !l.hasKey(d.values ? v(e) : e);\n            }).concat(d.values ? r : r.map(function (e) {\n              return v(e);\n            }));\n            break;\n          case \"delete\":\n            var f = new gn().addKeys(t.keys);\n            n = e.filter(function (e) {\n              return !f.hasKey(d.values ? v(e) : e);\n            });\n            break;\n          case \"deleteRange\":\n            var h = t.range;\n            n = e.filter(function (e) {\n              return !$n(v(e), h);\n            });\n        }\n        return n;\n      }, e);\n    return t === e ? e : (t.sort(function (e, t) {\n      return st(a(e), a(t)) || st(v(e), v(t));\n    }), d.limit && d.limit < 1 / 0 && (t.length > d.limit ? t.length = d.limit : e.length === d.limit && t.length < d.limit && (r.dirty = !0)), i ? Object.freeze(t) : t);\n  }\n  function Gn(e, t) {\n    return 0 === st(e.lower, t.lower) && 0 === st(e.upper, t.upper) && !!e.lowerOpen == !!t.lowerOpen && !!e.upperOpen == !!t.upperOpen;\n  }\n  function Xn(e, t) {\n    return function (e, t, n, r) {\n      if (void 0 === e) return void 0 !== t ? -1 : 0;\n      if (void 0 === t) return 1;\n      if (0 === (t = st(e, t))) {\n        if (n && r) return 0;\n        if (n) return 1;\n        if (r) return -1;\n      }\n      return t;\n    }(e.lower, t.lower, e.lowerOpen, t.lowerOpen) <= 0 && 0 <= function (e, t, n, r) {\n      if (void 0 === e) return void 0 !== t ? 1 : 0;\n      if (void 0 === t) return -1;\n      if (0 === (t = st(e, t))) {\n        if (n && r) return 0;\n        if (n) return -1;\n        if (r) return 1;\n      }\n      return t;\n    }(e.upper, t.upper, e.upperOpen, t.upperOpen);\n  }\n  function Hn(n, r, i, e) {\n    n.subscribers.add(i), e.addEventListener(\"abort\", function () {\n      var e, t;\n      n.subscribers.delete(i), 0 === n.subscribers.size && (e = n, t = r, setTimeout(function () {\n        0 === e.subscribers.size && q(t, e);\n      }, 3e3));\n    });\n  }\n  var Jn = {\n    stack: \"dbcore\",\n    level: 0,\n    name: \"Cache\",\n    create: function (k) {\n      var O = k.schema.name;\n      return _(_({}, k), {\n        transaction: function (g, w, e) {\n          var _,\n            t,\n            x = k.transaction(g, w, e);\n          return \"readwrite\" === w && (t = (_ = new AbortController()).signal, e = function (b) {\n            return function () {\n              if (_.abort(), \"readwrite\" === w) {\n                for (var t = new Set(), e = 0, n = g; e < n.length; e++) {\n                  var r = n[e],\n                    i = Sn[\"idb://\".concat(O, \"/\").concat(r)];\n                  if (i) {\n                    var o = k.table(r),\n                      a = i.optimisticOps.filter(function (e) {\n                        return e.trans === x;\n                      });\n                    if (x._explicit && b && x.mutatedParts) for (var u = 0, s = Object.values(i.queries.query); u < s.length; u++) for (var c = 0, l = (d = s[u]).slice(); c < l.length; c++) En((p = l[c]).obsSet, x.mutatedParts) && (q(d, p), p.subscribers.forEach(function (e) {\n                      return t.add(e);\n                    }));else if (0 < a.length) {\n                      i.optimisticOps = i.optimisticOps.filter(function (e) {\n                        return e.trans !== x;\n                      });\n                      for (var f = 0, h = Object.values(i.queries.query); f < h.length; f++) for (var d, p, y, v = 0, m = (d = h[f]).slice(); v < m.length; v++) null != (p = m[v]).res && x.mutatedParts && (b && !p.dirty ? (y = Object.isFrozen(p.res), y = Qn(p.res, p.req, a, o, p, y), p.dirty ? (q(d, p), p.subscribers.forEach(function (e) {\n                        return t.add(e);\n                      })) : y !== p.res && (p.res = y, p.promise = _e.resolve({\n                        result: y\n                      }))) : (p.dirty && q(d, p), p.subscribers.forEach(function (e) {\n                        return t.add(e);\n                      })));\n                    }\n                  }\n                }\n                t.forEach(function (e) {\n                  return e();\n                });\n              }\n            };\n          }, x.addEventListener(\"abort\", e(!1), {\n            signal: t\n          }), x.addEventListener(\"error\", e(!1), {\n            signal: t\n          }), x.addEventListener(\"complete\", e(!0), {\n            signal: t\n          })), x;\n        },\n        table: function (c) {\n          var l = k.table(c),\n            i = l.schema.primaryKey;\n          return _(_({}, l), {\n            mutate: function (t) {\n              var e = me.trans;\n              if (i.outbound || \"disabled\" === e.db._options.cache || e.explicit || \"readwrite\" !== e.idbtrans.mode) return l.mutate(t);\n              var n = Sn[\"idb://\".concat(O, \"/\").concat(c)];\n              if (!n) return l.mutate(t);\n              e = l.mutate(t);\n              return \"add\" !== t.type && \"put\" !== t.type || !(50 <= t.values.length || Fn(i, t).some(function (e) {\n                return null == e;\n              })) ? (n.optimisticOps.push(t), t.mutatedParts && Cn(t.mutatedParts), e.then(function (e) {\n                0 < e.numFailures && (q(n.optimisticOps, t), (e = Yn(0, t, e)) && n.optimisticOps.push(e), t.mutatedParts && Cn(t.mutatedParts));\n              }), e.catch(function () {\n                q(n.optimisticOps, t), t.mutatedParts && Cn(t.mutatedParts);\n              })) : e.then(function (r) {\n                var e = Yn(0, _(_({}, t), {\n                  values: t.values.map(function (e, t) {\n                    var n;\n                    if (r.failures[t]) return e;\n                    e = null !== (n = i.keyPath) && void 0 !== n && n.includes(\".\") ? S(e) : _({}, e);\n                    return P(e, i.keyPath, r.results[t]), e;\n                  })\n                }), r);\n                n.optimisticOps.push(e), queueMicrotask(function () {\n                  return t.mutatedParts && Cn(t.mutatedParts);\n                });\n              }), e;\n            },\n            query: function (t) {\n              if (!Vn(me, l) || !zn(\"query\", t)) return l.query(t);\n              var i = \"immutable\" === (null === (o = me.trans) || void 0 === o ? void 0 : o.db._options.cache),\n                e = me,\n                n = e.requery,\n                r = e.signal,\n                o = function (e, t, n, r) {\n                  var i = Sn[\"idb://\".concat(e, \"/\").concat(t)];\n                  if (!i) return [];\n                  if (!(t = i.queries[n])) return [null, !1, i, null];\n                  var o = t[(r.query ? r.query.index.name : null) || \"\"];\n                  if (!o) return [null, !1, i, null];\n                  switch (n) {\n                    case \"query\":\n                      var a = o.find(function (e) {\n                        return e.req.limit === r.limit && e.req.values === r.values && Gn(e.req.query.range, r.query.range);\n                      });\n                      return a ? [a, !0, i, o] : [o.find(function (e) {\n                        return (\"limit\" in e.req ? e.req.limit : 1 / 0) >= r.limit && (!r.values || e.req.values) && Xn(e.req.query.range, r.query.range);\n                      }), !1, i, o];\n                    case \"count\":\n                      a = o.find(function (e) {\n                        return Gn(e.req.query.range, r.query.range);\n                      });\n                      return [a, !!a, i, o];\n                  }\n                }(O, c, \"query\", t),\n                a = o[0],\n                e = o[1],\n                u = o[2],\n                s = o[3];\n              return a && e ? a.obsSet = t.obsSet : (e = l.query(t).then(function (e) {\n                var t = e.result;\n                if (a && (a.res = t), i) {\n                  for (var n = 0, r = t.length; n < r; ++n) Object.freeze(t[n]);\n                  Object.freeze(t);\n                } else e.result = S(t);\n                return e;\n              }).catch(function (e) {\n                return s && a && q(s, a), Promise.reject(e);\n              }), a = {\n                obsSet: t.obsSet,\n                promise: e,\n                subscribers: new Set(),\n                type: \"query\",\n                req: t,\n                dirty: !1\n              }, s ? s.push(a) : (s = [a], (u = u || (Sn[\"idb://\".concat(O, \"/\").concat(c)] = {\n                queries: {\n                  query: {},\n                  count: {}\n                },\n                objs: new Map(),\n                optimisticOps: [],\n                unsignaledParts: {}\n              })).queries.query[t.query.index.name || \"\"] = s)), Hn(a, s, n, r), a.promise.then(function (e) {\n                return {\n                  result: Qn(e.result, t, null == u ? void 0 : u.optimisticOps, l, a, i)\n                };\n              });\n            }\n          });\n        }\n      });\n    }\n  };\n  function Zn(e, r) {\n    return new Proxy(e, {\n      get: function (e, t, n) {\n        return \"db\" === t ? r : Reflect.get(e, t, n);\n      }\n    });\n  }\n  var er = (tr.prototype.version = function (t) {\n    if (isNaN(t) || t < .1) throw new Y.Type(\"Given version is not a positive number\");\n    if (t = Math.round(10 * t) / 10, this.idbdb || this._state.isBeingOpened) throw new Y.Schema(\"Cannot add version when database is open\");\n    this.verno = Math.max(this.verno, t);\n    var e = this._versions,\n      n = e.filter(function (e) {\n        return e._cfg.version === t;\n      })[0];\n    return n || (n = new this.Version(t), e.push(n), e.sort(nn), n.stores({}), this._state.autoSchema = !1, n);\n  }, tr.prototype._whenReady = function (e) {\n    var n = this;\n    return this.idbdb && (this._state.openComplete || me.letThrough || this._vip) ? e() : new _e(function (e, t) {\n      if (n._state.openComplete) return t(new Y.DatabaseClosed(n._state.dbOpenError));\n      if (!n._state.isBeingOpened) {\n        if (!n._state.autoOpen) return void t(new Y.DatabaseClosed());\n        n.open().catch(G);\n      }\n      n._state.dbReadyPromise.then(e, t);\n    }).then(e);\n  }, tr.prototype.use = function (e) {\n    var t = e.stack,\n      n = e.create,\n      r = e.level,\n      i = e.name;\n    i && this.unuse({\n      stack: t,\n      name: i\n    });\n    e = this._middlewares[t] || (this._middlewares[t] = []);\n    return e.push({\n      stack: t,\n      create: n,\n      level: null == r ? 10 : r,\n      name: i\n    }), e.sort(function (e, t) {\n      return e.level - t.level;\n    }), this;\n  }, tr.prototype.unuse = function (e) {\n    var t = e.stack,\n      n = e.name,\n      r = e.create;\n    return t && this._middlewares[t] && (this._middlewares[t] = this._middlewares[t].filter(function (e) {\n      return r ? e.create !== r : !!n && e.name !== n;\n    })), this;\n  }, tr.prototype.open = function () {\n    var e = this;\n    return $e(ve, function () {\n      return Dn(e);\n    });\n  }, tr.prototype._close = function () {\n    var n = this._state,\n      e = et.indexOf(this);\n    if (0 <= e && et.splice(e, 1), this.idbdb) {\n      try {\n        this.idbdb.close();\n      } catch (e) {}\n      this.idbdb = null;\n    }\n    n.isBeingOpened || (n.dbReadyPromise = new _e(function (e) {\n      n.dbReadyResolve = e;\n    }), n.openCanceller = new _e(function (e, t) {\n      n.cancelOpen = t;\n    }));\n  }, tr.prototype.close = function (e) {\n    var t = (void 0 === e ? {\n        disableAutoOpen: !0\n      } : e).disableAutoOpen,\n      e = this._state;\n    t ? (e.isBeingOpened && e.cancelOpen(new Y.DatabaseClosed()), this._close(), e.autoOpen = !1, e.dbOpenError = new Y.DatabaseClosed()) : (this._close(), e.autoOpen = this._options.autoOpen || e.isBeingOpened, e.openComplete = !1, e.dbOpenError = null);\n  }, tr.prototype.delete = function (n) {\n    var i = this;\n    void 0 === n && (n = {\n      disableAutoOpen: !0\n    });\n    var o = 0 < arguments.length && \"object\" != typeof arguments[0],\n      a = this._state;\n    return new _e(function (r, t) {\n      function e() {\n        i.close(n);\n        var e = i._deps.indexedDB.deleteDatabase(i.name);\n        e.onsuccess = qe(function () {\n          var e, t, n;\n          e = i._deps, t = i.name, n = e.indexedDB, e = e.IDBKeyRange, vn(n) || t === tt || yn(n, e).delete(t).catch(G), r();\n        }), e.onerror = Bt(t), e.onblocked = i._fireOnBlocked;\n      }\n      if (o) throw new Y.InvalidArgument(\"Invalid closeOptions argument to db.delete()\");\n      a.isBeingOpened ? a.dbReadyPromise.then(e) : e();\n    });\n  }, tr.prototype.backendDB = function () {\n    return this.idbdb;\n  }, tr.prototype.isOpen = function () {\n    return null !== this.idbdb;\n  }, tr.prototype.hasBeenClosed = function () {\n    var e = this._state.dbOpenError;\n    return e && \"DatabaseClosed\" === e.name;\n  }, tr.prototype.hasFailed = function () {\n    return null !== this._state.dbOpenError;\n  }, tr.prototype.dynamicallyOpened = function () {\n    return this._state.autoSchema;\n  }, Object.defineProperty(tr.prototype, \"tables\", {\n    get: function () {\n      var t = this;\n      return x(this._allTables).map(function (e) {\n        return t._allTables[e];\n      });\n    },\n    enumerable: !1,\n    configurable: !0\n  }), tr.prototype.transaction = function () {\n    var e = function (e, t, n) {\n      var r = arguments.length;\n      if (r < 2) throw new Y.InvalidArgument(\"Too few arguments\");\n      for (var i = new Array(r - 1); --r;) i[r - 1] = arguments[r];\n      return n = i.pop(), [e, w(i), n];\n    }.apply(this, arguments);\n    return this._transaction.apply(this, e);\n  }, tr.prototype._transaction = function (e, t, n) {\n    var r = this,\n      i = me.trans;\n    i && i.db === this && -1 === e.indexOf(\"!\") || (i = null);\n    var o,\n      a,\n      u = -1 !== e.indexOf(\"?\");\n    e = e.replace(\"!\", \"\").replace(\"?\", \"\");\n    try {\n      if (a = t.map(function (e) {\n        e = e instanceof r.Table ? e.name : e;\n        if (\"string\" != typeof e) throw new TypeError(\"Invalid table argument to Dexie.transaction(). Only Table or String are allowed\");\n        return e;\n      }), \"r\" == e || e === nt) o = nt;else {\n        if (\"rw\" != e && e != rt) throw new Y.InvalidArgument(\"Invalid transaction mode: \" + e);\n        o = rt;\n      }\n      if (i) {\n        if (i.mode === nt && o === rt) {\n          if (!u) throw new Y.SubTransaction(\"Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY\");\n          i = null;\n        }\n        i && a.forEach(function (e) {\n          if (i && -1 === i.storeNames.indexOf(e)) {\n            if (!u) throw new Y.SubTransaction(\"Table \" + e + \" not included in parent transaction.\");\n            i = null;\n          }\n        }), u && i && !i.active && (i = null);\n      }\n    } catch (n) {\n      return i ? i._promise(null, function (e, t) {\n        t(n);\n      }) : Xe(n);\n    }\n    var s = function i(o, a, u, s, c) {\n      return _e.resolve().then(function () {\n        var e = me.transless || me,\n          t = o._createTransaction(a, u, o._dbSchema, s);\n        if (t.explicit = !0, e = {\n          trans: t,\n          transless: e\n        }, s) t.idbtrans = s.idbtrans;else try {\n          t.create(), t.idbtrans._explicit = !0, o._state.PR1398_maxLoop = 3;\n        } catch (e) {\n          return e.name === z.InvalidState && o.isOpen() && 0 < --o._state.PR1398_maxLoop ? (console.warn(\"Dexie: Need to reopen db\"), o.close({\n            disableAutoOpen: !1\n          }), o.open().then(function () {\n            return i(o, a, u, null, c);\n          })) : Xe(e);\n        }\n        var n,\n          r = B(c);\n        return r && Le(), e = _e.follow(function () {\n          var e;\n          (n = c.call(t, t)) && (r ? (e = Ue.bind(null, null), n.then(e, e)) : \"function\" == typeof n.next && \"function\" == typeof n.throw && (n = In(n)));\n        }, e), (n && \"function\" == typeof n.then ? _e.resolve(n).then(function (e) {\n          return t.active ? e : Xe(new Y.PrematureCommit(\"Transaction committed too early. See http://bit.ly/2kdckMn\"));\n        }) : e.then(function () {\n          return n;\n        })).then(function (e) {\n          return s && t._resolve(), t._completion.then(function () {\n            return e;\n          });\n        }).catch(function (e) {\n          return t._reject(e), Xe(e);\n        });\n      });\n    }.bind(null, this, o, a, i, n);\n    return i ? i._promise(o, s, \"lock\") : me.trans ? $e(me.transless, function () {\n      return r._whenReady(s);\n    }) : this._whenReady(s);\n  }, tr.prototype.table = function (e) {\n    if (!m(this._allTables, e)) throw new Y.InvalidTable(\"Table \".concat(e, \" does not exist\"));\n    return this._allTables[e];\n  }, tr);\n  function tr(e, t) {\n    var o = this;\n    this._middlewares = {}, this.verno = 0;\n    var n = tr.dependencies;\n    this._options = t = _({\n      addons: tr.addons,\n      autoOpen: !0,\n      indexedDB: n.indexedDB,\n      IDBKeyRange: n.IDBKeyRange,\n      cache: \"cloned\"\n    }, t), this._deps = {\n      indexedDB: t.indexedDB,\n      IDBKeyRange: t.IDBKeyRange\n    };\n    n = t.addons;\n    this._dbSchema = {}, this._versions = [], this._storeNames = [], this._allTables = {}, this.idbdb = null, this._novip = this;\n    var a,\n      r,\n      u,\n      i,\n      s,\n      c = {\n        dbOpenError: null,\n        isBeingOpened: !1,\n        onReadyBeingFired: null,\n        openComplete: !1,\n        dbReadyResolve: G,\n        dbReadyPromise: null,\n        cancelOpen: G,\n        openCanceller: null,\n        autoSchema: !0,\n        PR1398_maxLoop: 3,\n        autoOpen: t.autoOpen\n      };\n    c.dbReadyPromise = new _e(function (e) {\n      c.dbReadyResolve = e;\n    }), c.openCanceller = new _e(function (e, t) {\n      c.cancelOpen = t;\n    }), this._state = c, this.name = e, this.on = dt(this, \"populate\", \"blocked\", \"versionchange\", \"close\", {\n      ready: [re, G]\n    }), this.on.ready.subscribe = p(this.on.ready.subscribe, function (i) {\n      return function (n, r) {\n        tr.vip(function () {\n          var t,\n            e = o._state;\n          e.openComplete ? (e.dbOpenError || _e.resolve().then(n), r && i(n)) : e.onReadyBeingFired ? (e.onReadyBeingFired.push(n), r && i(n)) : (i(n), t = o, r || i(function e() {\n            t.on.ready.unsubscribe(n), t.on.ready.unsubscribe(e);\n          }));\n        });\n      };\n    }), this.Collection = (a = this, pt(Ot.prototype, function (e, t) {\n      this.db = a;\n      var n = ot,\n        r = null;\n      if (t) try {\n        n = t();\n      } catch (e) {\n        r = e;\n      }\n      var i = e._ctx,\n        t = i.table,\n        e = t.hook.reading.fire;\n      this._ctx = {\n        table: t,\n        index: i.index,\n        isPrimKey: !i.index || t.schema.primKey.keyPath && i.index === t.schema.primKey.name,\n        range: n,\n        keysOnly: !1,\n        dir: \"next\",\n        unique: \"\",\n        algorithm: null,\n        filter: null,\n        replayFilter: null,\n        justLimit: !0,\n        isMatch: null,\n        offset: 0,\n        limit: 1 / 0,\n        error: r,\n        or: i.or,\n        valueMapper: e !== X ? e : null\n      };\n    })), this.Table = (r = this, pt(ft.prototype, function (e, t, n) {\n      this.db = r, this._tx = n, this.name = e, this.schema = t, this.hook = r._allTables[e] ? r._allTables[e].hook : dt(null, {\n        creating: [Z, G],\n        reading: [H, X],\n        updating: [te, G],\n        deleting: [ee, G]\n      });\n    })), this.Transaction = (u = this, pt(Lt.prototype, function (e, t, n, r, i) {\n      var o = this;\n      this.db = u, this.mode = e, this.storeNames = t, this.schema = n, this.chromeTransactionDurability = r, this.idbtrans = null, this.on = dt(this, \"complete\", \"error\", \"abort\"), this.parent = i || null, this.active = !0, this._reculock = 0, this._blockedFuncs = [], this._resolve = null, this._reject = null, this._waitingFor = null, this._waitingQueue = null, this._spinCount = 0, this._completion = new _e(function (e, t) {\n        o._resolve = e, o._reject = t;\n      }), this._completion.then(function () {\n        o.active = !1, o.on.complete.fire();\n      }, function (e) {\n        var t = o.active;\n        return o.active = !1, o.on.error.fire(e), o.parent ? o.parent._reject(e) : t && o.idbtrans && o.idbtrans.abort(), Xe(e);\n      });\n    })), this.Version = (i = this, pt(dn.prototype, function (e) {\n      this.db = i, this._cfg = {\n        version: e,\n        storesSource: null,\n        dbschema: {},\n        tables: {},\n        contentUpgrade: null\n      };\n    })), this.WhereClause = (s = this, pt(Dt.prototype, function (e, t, n) {\n      if (this.db = s, this._ctx = {\n        table: e,\n        index: \":id\" === t ? null : t,\n        or: n\n      }, this._cmp = this._ascending = st, this._descending = function (e, t) {\n        return st(t, e);\n      }, this._max = function (e, t) {\n        return 0 < st(e, t) ? e : t;\n      }, this._min = function (e, t) {\n        return st(e, t) < 0 ? e : t;\n      }, this._IDBKeyRange = s._deps.IDBKeyRange, !this._IDBKeyRange) throw new Y.MissingAPI();\n    })), this.on(\"versionchange\", function (e) {\n      0 < e.newVersion ? console.warn(\"Another connection wants to upgrade database '\".concat(o.name, \"'. Closing db now to resume the upgrade.\")) : console.warn(\"Another connection wants to delete database '\".concat(o.name, \"'. Closing db now to resume the delete request.\")), o.close({\n        disableAutoOpen: !1\n      });\n    }), this.on(\"blocked\", function (e) {\n      !e.newVersion || e.newVersion < e.oldVersion ? console.warn(\"Dexie.delete('\".concat(o.name, \"') was blocked\")) : console.warn(\"Upgrade '\".concat(o.name, \"' blocked by other connection holding version \").concat(e.oldVersion / 10));\n    }), this._maxKey = Yt(t.IDBKeyRange), this._createTransaction = function (e, t, n, r) {\n      return new o.Transaction(e, t, n, o._options.chromeTransactionDurability, r);\n    }, this._fireOnBlocked = function (t) {\n      o.on(\"blocked\").fire(t), et.filter(function (e) {\n        return e.name === o.name && e !== o && !e._state.vcFired;\n      }).map(function (e) {\n        return e.on(\"versionchange\").fire(t);\n      });\n    }, this.use(Un), this.use(Jn), this.use(Wn), this.use(Rn), this.use(Nn);\n    var l = new Proxy(this, {\n      get: function (e, t, n) {\n        if (\"_vip\" === t) return !0;\n        if (\"table\" === t) return function (e) {\n          return Zn(o.table(e), l);\n        };\n        var r = Reflect.get(e, t, n);\n        return r instanceof ft ? Zn(r, l) : \"tables\" === t ? r.map(function (e) {\n          return Zn(e, l);\n        }) : \"_createTransaction\" === t ? function () {\n          return Zn(r.apply(this, arguments), l);\n        } : r;\n      }\n    });\n    this.vip = l, n.forEach(function (e) {\n      return e(o);\n    });\n  }\n  var nr,\n    M = \"undefined\" != typeof Symbol && \"observable\" in Symbol ? Symbol.observable : \"@@observable\",\n    rr = (ir.prototype.subscribe = function (e, t, n) {\n      return this._subscribe(e && \"function\" != typeof e ? e : {\n        next: e,\n        error: t,\n        complete: n\n      });\n    }, ir.prototype[M] = function () {\n      return this;\n    }, ir);\n  function ir(e) {\n    this._subscribe = e;\n  }\n  try {\n    nr = {\n      indexedDB: f.indexedDB || f.mozIndexedDB || f.webkitIndexedDB || f.msIndexedDB,\n      IDBKeyRange: f.IDBKeyRange || f.webkitIDBKeyRange\n    };\n  } catch (e) {\n    nr = {\n      indexedDB: null,\n      IDBKeyRange: null\n    };\n  }\n  function or(h) {\n    var d,\n      p = !1,\n      e = new rr(function (r) {\n        var i = B(h);\n        var o,\n          a = !1,\n          u = {},\n          s = {},\n          e = {\n            get closed() {\n              return a;\n            },\n            unsubscribe: function () {\n              a || (a = !0, o && o.abort(), c && Nt.storagemutated.unsubscribe(f));\n            }\n          };\n        r.start && r.start(e);\n        var c = !1,\n          l = function () {\n            return Ge(t);\n          };\n        var f = function (e) {\n            Kn(u, e), En(s, u) && l();\n          },\n          t = function () {\n            var t, n, e;\n            !a && nr.indexedDB && (u = {}, t = {}, o && o.abort(), o = new AbortController(), e = function (e) {\n              var t = je();\n              try {\n                i && Le();\n                var n = Ne(h, e);\n                return n = i ? n.finally(Ue) : n;\n              } finally {\n                t && Ae();\n              }\n            }(n = {\n              subscr: t,\n              signal: o.signal,\n              requery: l,\n              querier: h,\n              trans: null\n            }), Promise.resolve(e).then(function (e) {\n              p = !0, d = e, a || n.signal.aborted || (u = {}, function (e) {\n                for (var t in e) if (m(e, t)) return;\n                return 1;\n              }(s = t) || c || (Nt(Mt, f), c = !0), Ge(function () {\n                return !a && r.next && r.next(e);\n              }));\n            }, function (e) {\n              p = !1, [\"DatabaseClosedError\", \"AbortError\"].includes(null == e ? void 0 : e.name) || a || Ge(function () {\n                a || r.error && r.error(e);\n              });\n            }));\n          };\n        return setTimeout(l, 0), e;\n      });\n    return e.hasValue = function () {\n      return p;\n    }, e.getValue = function () {\n      return d;\n    }, e;\n  }\n  var ar = er;\n  function ur(e) {\n    var t = cr;\n    try {\n      cr = !0, Nt.storagemutated.fire(e), Tn(e, !0);\n    } finally {\n      cr = t;\n    }\n  }\n  r(ar, _(_({}, Q), {\n    delete: function (e) {\n      return new ar(e, {\n        addons: []\n      }).delete();\n    },\n    exists: function (e) {\n      return new ar(e, {\n        addons: []\n      }).open().then(function (e) {\n        return e.close(), !0;\n      }).catch(\"NoSuchDatabaseError\", function () {\n        return !1;\n      });\n    },\n    getDatabaseNames: function (e) {\n      try {\n        return t = ar.dependencies, n = t.indexedDB, t = t.IDBKeyRange, (vn(n) ? Promise.resolve(n.databases()).then(function (e) {\n          return e.map(function (e) {\n            return e.name;\n          }).filter(function (e) {\n            return e !== tt;\n          });\n        }) : yn(n, t).toCollection().primaryKeys()).then(e);\n      } catch (e) {\n        return Xe(new Y.MissingAPI());\n      }\n      var t, n;\n    },\n    defineClass: function () {\n      return function (e) {\n        a(this, e);\n      };\n    },\n    ignoreTransaction: function (e) {\n      return me.trans ? $e(me.transless, e) : e();\n    },\n    vip: mn,\n    async: function (t) {\n      return function () {\n        try {\n          var e = In(t.apply(this, arguments));\n          return e && \"function\" == typeof e.then ? e : _e.resolve(e);\n        } catch (e) {\n          return Xe(e);\n        }\n      };\n    },\n    spawn: function (e, t, n) {\n      try {\n        var r = In(e.apply(n, t || []));\n        return r && \"function\" == typeof r.then ? r : _e.resolve(r);\n      } catch (e) {\n        return Xe(e);\n      }\n    },\n    currentTransaction: {\n      get: function () {\n        return me.trans || null;\n      }\n    },\n    waitFor: function (e, t) {\n      t = _e.resolve(\"function\" == typeof e ? ar.ignoreTransaction(e) : e).timeout(t || 6e4);\n      return me.trans ? me.trans.waitFor(t) : t;\n    },\n    Promise: _e,\n    debug: {\n      get: function () {\n        return ie;\n      },\n      set: function (e) {\n        oe(e);\n      }\n    },\n    derive: o,\n    extend: a,\n    props: r,\n    override: p,\n    Events: dt,\n    on: Nt,\n    liveQuery: or,\n    extendObservabilitySet: Kn,\n    getByKeyPath: O,\n    setByKeyPath: P,\n    delByKeyPath: function (t, e) {\n      \"string\" == typeof e ? P(t, e, void 0) : \"length\" in e && [].map.call(e, function (e) {\n        P(t, e, void 0);\n      });\n    },\n    shallowClone: g,\n    deepClone: S,\n    getObjectDiff: Mn,\n    cmp: st,\n    asap: v,\n    minKey: -1 / 0,\n    addons: [],\n    connections: et,\n    errnames: z,\n    dependencies: nr,\n    cache: Sn,\n    semVer: \"4.0.10\",\n    version: \"4.0.10\".split(\".\").map(function (e) {\n      return parseInt(e);\n    }).reduce(function (e, t, n) {\n      return e + t / Math.pow(10, 2 * n);\n    })\n  })), ar.maxKey = Yt(ar.dependencies.IDBKeyRange), \"undefined\" != typeof dispatchEvent && \"undefined\" != typeof addEventListener && (Nt(Mt, function (e) {\n    cr || (e = new CustomEvent(Ft, {\n      detail: e\n    }), cr = !0, dispatchEvent(e), cr = !1);\n  }), addEventListener(Ft, function (e) {\n    e = e.detail;\n    cr || ur(e);\n  }));\n  var sr,\n    cr = !1,\n    lr = function () {};\n  return \"undefined\" != typeof BroadcastChannel && ((lr = function () {\n    (sr = new BroadcastChannel(Ft)).onmessage = function (e) {\n      return e.data && ur(e.data);\n    };\n  })(), \"function\" == typeof sr.unref && sr.unref(), Nt(Mt, function (e) {\n    cr || sr.postMessage(e);\n  })), \"undefined\" != typeof addEventListener && (addEventListener(\"pagehide\", function (e) {\n    if (!er.disableBfCache && e.persisted) {\n      ie && console.debug(\"Dexie: handling persisted pagehide\"), null != sr && sr.close();\n      for (var t = 0, n = et; t < n.length; t++) n[t].close({\n        disableAutoOpen: !1\n      });\n    }\n  }), addEventListener(\"pageshow\", function (e) {\n    !er.disableBfCache && e.persisted && (ie && console.debug(\"Dexie: handling persisted pageshow\"), lr(), ur({\n      all: new gn(-1 / 0, [[]])\n    }));\n  })), _e.rejectionMapper = function (e, t) {\n    return !e || e instanceof N || e instanceof TypeError || e instanceof SyntaxError || !e.name || !$[e.name] ? e : (t = new $[e.name](t || e.message, e), \"stack\" in e && l(t, \"stack\", {\n      get: function () {\n        return this.inner.stack;\n      }\n    }), t);\n  }, oe(ie), _(er, Object.freeze({\n    __proto__: null,\n    Dexie: er,\n    liveQuery: or,\n    Entity: ut,\n    cmp: st,\n    PropModSymbol: e,\n    PropModification: xt,\n    replacePrefix: function (e, t) {\n      return new xt({\n        replacePrefix: [e, t]\n      });\n    },\n    add: function (e) {\n      return new xt({\n        add: e\n      });\n    },\n    remove: function (e) {\n      return new xt({\n        remove: e\n      });\n    },\n    default: er,\n    RangeSet: gn,\n    mergeRanges: _n,\n    rangesOverlap: xn\n  }), {\n    default: er\n  }), er;\n});","map":{"version":3,"names":["e","t","exports","module","define","amd","globalThis","self","Dexie","s","extendStatics","Object","setPrototypeOf","__proto__","Array","n","prototype","hasOwnProperty","call","_","__assign","assign","r","arguments","length","i","apply","o","slice","concat","f","window","global","x","keys","k","isArray","a","forEach","Promise","c","getPrototypeOf","m","Reflect","ownKeys","l","u","defineProperty","get","set","configurable","value","writable","from","create","extend","bind","h","getOwnPropertyDescriptor","d","b","p","y","Error","v","setImmediate","setTimeout","O","push","indexOf","substr","P","isFrozen","isNaN","parseInt","splice","g","w","split","map","filter","K","Set","E","S","WeakMap","has","constructor","j","toString","A","C","Symbol","iterator","T","q","D","I","next","done","B","toStringTag","R","M","F","VersionChanged","DatabaseClosed","Abort","TransactionInactive","MissingAPI","N","name","message","L","join","U","failures","failedKeys","successCount","V","failuresByPos","z","reduce","W","Y","inner","Syntax","SyntaxError","Type","TypeError","Range","RangeError","$","Q","G","X","H","J","Z","onsuccess","onerror","ee","te","ne","re","then","ModifyError","DexieError","BulkError","ie","location","test","href","oe","ae","ue","resolve","crypto","subtle","digest","Uint8Array","se","ce","le","asap","be","he","queueMicrotask","Se","fe","de","pe","ye","ve","id","ref","unhandleds","onunhandled","pgp","env","finalize","me","ge","we","_e","_listeners","_lib","_PSD","_state","_value","Oe","je","_then","Pe","Ae","xe","Me","Ue","Ke","ke","Qe","_consoleTask","onFulfilled","onRejected","reject","psd","some","Ce","Ee","run","$e","Te","qe","We","catch","finally","timeout","Timeout","clearTimeout","Ye","all","Ve","race","PSD","totalEchoes","newPSD","Ne","usePSD","scheduler","rejectionMapper","follow","fn","allSettled","status","reason","any","AggregateError","withResolvers","De","awaits","echoes","Ie","Be","Re","Fe","parent","PromiseProp","Le","Xe","ze","pop","Ge","enqueueNativeMicroTask","He","String","fromCharCode","Je","Ze","et","tt","nt","rt","it","ot","type","lower","lowerOpen","upper","upperOpen","at","ut","st","ct","NaN","lt","ArrayBuffer","isView","buffer","byteOffset","byteLength","ft","ht","_trans","_tx","trans","console","createTask","schema","NotFound","idbtrans","db","_novip","_promise","transless","idbdb","openComplete","letThrough","_vip","_createTransaction","_dbSchema","PR1398_maxLoop","InvalidState","isOpen","warn","close","disableAutoOpen","open","commit","_completion","dbOpenError","isBeingOpened","autoOpen","dbReadyPromise","trace","where","first","core","key","hook","reading","fire","WhereClause","equals","indexes","primKey","compound","every","keyPath","sort","_maxKey","JSON","stringify","idxByName","multi","toCollection","and","count","offset","limit","each","toArray","Collection","orderBy","reverse","mapToClass","mappedClass","enumerable","table","getOwnPropertyNames","add","readHook","unsubscribe","defineClass","auto","mutate","values","numFailures","lastResult","update","modify","InvalidArgument","put","delete","clear","range","bulkGet","getMany","bulkAdd","allKeys","wantResults","results","bulkPut","bulkUpdate","changes","cache","Constraint","updates","changeSpecs","Number","bulkDelete","dt","subscribe","addEventType","subscribers","pt","yt","algorithm","or","justLimit","replayFilter","vt","mt","bt","isPrimKey","primaryKey","getIndexByKeyPath","index","Schema","gt","openCursor","keysOnly","dir","unique","query","wt","union","stop","fail","_iterate","_t","valueMapper","start","continue","xt","kt","execute","BigInt","remove","includes","replacePrefix","startsWith","substring","Ot","Pt","_read","_ctx","error","_write","_addAlgorithm","clone","raw","Math","min","sortBy","result","advance","until","last","isMatch","_ondirectionchange","desc","eachKey","eachUniqueKey","eachPrimaryKey","primaryKeys","uniqueKeys","firstKey","lastKey","distinct","outbound","extractKey","_options","modifyChunkSize","criteria","changeSpec","isAdditionalChunk","Kt","deleteCallback","Et","St","jt","Dt","At","qt","Ct","toUpperCase","toLowerCase","Tt","It","between","_cmp","above","aboveOrEqual","below","belowOrEqual","startsWithIgnoreCase","equalsIgnoreCase","anyOfIgnoreCase","startsWithAnyOfIgnoreCase","anyOf","_ascending","_descending","notEqual","inAnyRange","includeLowers","includeUppers","noneOf","_min","_max","startsWithAnyOf","Bt","Rt","target","stopPropagation","preventDefault","Mt","Ft","Nt","Lt","Ut","_lock","_reculock","lockOwnerFor","_unlock","_blockedFuncs","_locked","shift","mode","OpenFailed","active","transaction","storeNames","durability","chromeTransactionDurability","_reject","onabort","on","oncomplete","_resolve","storagemutated","mutatedParts","ReadOnly","_root","waitFor","_waitingFor","_waitingQueue","objectStore","_spinCount","abort","_memoizedTables","Table","Vt","src","zt","Wt","extractor","Yt","getMaxKey","only","$t","Qt","Gt","Xt","Ht","upperBound","lowerBound","bound","successHandler","_pos","isPrimaryKey","getAll","getAllKeys","openKeyCursor","___id","continuePrimaryKey","doThrowCursorIsStopped","objectStoreNames","tables","autoIncrement","indexNames","multiEntry","hasGetAll","navigator","userAgent","match","stack","MIN_KEY","MAX_KEY","Jt","IDBKeyRange","indexedDB","dbcore","Zt","_middlewares","_deps","en","Transaction","tn","nn","_cfg","version","rn","contains","$meta","hn","_storeNames","_versions","ln","dbschema","an","un","change","recreate","Upgrade","cn","deleteIndex","del","contentUpgrade","deleteObjectStore","ceil","sn","populate","createObjectStore","debug","def","createIndex","_hasGetAll","WorkerGlobalScope","trim","replace","dn","pn","_parseStoresSpec","stores","storesSource","_allTables","upgrade","yn","_dbNamesDB","er","addons","dbnames","vn","databases","mn","bn","gn","RangeSet","to","wn","On","_n","xn","kn","up","Pn","max","Kn","En","addKey","addKeys","hasKey","Sn","jn","An","Cn","Tn","qn","exec","entries","queries","obsSet","Dn","openCanceller","round","verno","autoSchema","onblocked","_fireOnBlocked","onupgradeneeded","allowEmptyDB","deleteDatabase","NoSuchDatabase","oldVersion","pow","onversionchange","vcFired","onclose","dbReadyResolve","userAgentData","setInterval","clearInterval","onReadyBeingFired","ready","vip","_close","In","throw","Bn","Rn","level","lowLevelIndex","isVirtual","keyTail","keyLength","Mn","Fn","Nn","deleting","creating","updating","Ln","Un","_cache","Vn","subscr","explicit","zn","Wn","querier","findIndex","getRange","getRangeSet","Yn","$n","Qn","dirty","freeze","Gn","Xn","Hn","addEventListener","size","Jn","AbortController","signal","endTransaction","optimisticOps","_explicit","res","req","promise","requery","find","objs","Map","unsignaledParts","Zn","Proxy","tr","Version","_whenReady","use","unuse","cancelOpen","backendDB","hasBeenClosed","hasFailed","dynamicallyOpened","_transaction","SubTransaction","PrematureCommit","InvalidTable","dependencies","complete","_IDBKeyRange","newVersion","nr","observable","rr","ir","_subscribe","mozIndexedDB","webkitIndexedDB","msIndexedDB","webkitIDBKeyRange","closed","doQuery","mutationListener","_doQuery","aborted","hasValue","getValue","ar","ur","cr","exists","getDatabaseNames","ignoreTransaction","async","spawn","currentTransaction","derive","props","override","Events","liveQuery","extendObservabilitySet","getByKeyPath","setByKeyPath","delByKeyPath","shallowClone","deepClone","getObjectDiff","cmp","minKey","connections","errnames","semVer","maxKey","dispatchEvent","CustomEvent","detail","sr","lr","createBC","BroadcastChannel","onmessage","data","unref","postMessage","disableBfCache","persisted","Entity","PropModSymbol","PropModification","default","mergeRanges","rangesOverlap"],"sources":["/workspaces/recanti/node_modules/dexie/dist/dexie.js"],"sourcesContent":["/*\n * Dexie.js - a minimalistic wrapper for IndexedDB\n * ===============================================\n *\n * By David Fahlander, david.fahlander@gmail.com\n *\n * Version 4.0.10, Fri Nov 15 2024\n *\n * https://dexie.org\n *\n * Apache License Version 2.0, January 2004, http://www.apache.org/licenses/\n */\n \n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Dexie = factory());\n})(this, (function () { 'use strict';\n\n    /*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */\n    var extendStatics = function(d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    function __extends(d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    }\n    var __assign = function() {\n        __assign = Object.assign || function __assign(t) {\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\n                s = arguments[i];\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n            }\n            return t;\n        };\n        return __assign.apply(this, arguments);\n    };\n    function __spreadArray(to, from, pack) {\n        if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n            if (ar || !(i in from)) {\n                if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n                ar[i] = from[i];\n            }\n        }\n        return to.concat(ar || Array.prototype.slice.call(from));\n    }\n\n    var _global = typeof globalThis !== 'undefined' ? globalThis :\n        typeof self !== 'undefined' ? self :\n            typeof window !== 'undefined' ? window :\n                global;\n\n    var keys = Object.keys;\n    var isArray = Array.isArray;\n    if (typeof Promise !== 'undefined' && !_global.Promise) {\n        _global.Promise = Promise;\n    }\n    function extend(obj, extension) {\n        if (typeof extension !== 'object')\n            return obj;\n        keys(extension).forEach(function (key) {\n            obj[key] = extension[key];\n        });\n        return obj;\n    }\n    var getProto = Object.getPrototypeOf;\n    var _hasOwn = {}.hasOwnProperty;\n    function hasOwn(obj, prop) {\n        return _hasOwn.call(obj, prop);\n    }\n    function props(proto, extension) {\n        if (typeof extension === 'function')\n            extension = extension(getProto(proto));\n        (typeof Reflect === \"undefined\" ? keys : Reflect.ownKeys)(extension).forEach(function (key) {\n            setProp(proto, key, extension[key]);\n        });\n    }\n    var defineProperty = Object.defineProperty;\n    function setProp(obj, prop, functionOrGetSet, options) {\n        defineProperty(obj, prop, extend(functionOrGetSet && hasOwn(functionOrGetSet, \"get\") && typeof functionOrGetSet.get === 'function' ?\n            { get: functionOrGetSet.get, set: functionOrGetSet.set, configurable: true } :\n            { value: functionOrGetSet, configurable: true, writable: true }, options));\n    }\n    function derive(Child) {\n        return {\n            from: function (Parent) {\n                Child.prototype = Object.create(Parent.prototype);\n                setProp(Child.prototype, \"constructor\", Child);\n                return {\n                    extend: props.bind(null, Child.prototype)\n                };\n            }\n        };\n    }\n    var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n    function getPropertyDescriptor(obj, prop) {\n        var pd = getOwnPropertyDescriptor(obj, prop);\n        var proto;\n        return pd || (proto = getProto(obj)) && getPropertyDescriptor(proto, prop);\n    }\n    var _slice = [].slice;\n    function slice(args, start, end) {\n        return _slice.call(args, start, end);\n    }\n    function override(origFunc, overridedFactory) {\n        return overridedFactory(origFunc);\n    }\n    function assert(b) {\n        if (!b)\n            throw new Error(\"Assertion Failed\");\n    }\n    function asap$1(fn) {\n        if (_global.setImmediate)\n            setImmediate(fn);\n        else\n            setTimeout(fn, 0);\n    }\n    function arrayToObject(array, extractor) {\n        return array.reduce(function (result, item, i) {\n            var nameAndValue = extractor(item, i);\n            if (nameAndValue)\n                result[nameAndValue[0]] = nameAndValue[1];\n            return result;\n        }, {});\n    }\n    function getByKeyPath(obj, keyPath) {\n        if (typeof keyPath === 'string' && hasOwn(obj, keyPath))\n            return obj[keyPath];\n        if (!keyPath)\n            return obj;\n        if (typeof keyPath !== 'string') {\n            var rv = [];\n            for (var i = 0, l = keyPath.length; i < l; ++i) {\n                var val = getByKeyPath(obj, keyPath[i]);\n                rv.push(val);\n            }\n            return rv;\n        }\n        var period = keyPath.indexOf('.');\n        if (period !== -1) {\n            var innerObj = obj[keyPath.substr(0, period)];\n            return innerObj == null ? undefined : getByKeyPath(innerObj, keyPath.substr(period + 1));\n        }\n        return undefined;\n    }\n    function setByKeyPath(obj, keyPath, value) {\n        if (!obj || keyPath === undefined)\n            return;\n        if ('isFrozen' in Object && Object.isFrozen(obj))\n            return;\n        if (typeof keyPath !== 'string' && 'length' in keyPath) {\n            assert(typeof value !== 'string' && 'length' in value);\n            for (var i = 0, l = keyPath.length; i < l; ++i) {\n                setByKeyPath(obj, keyPath[i], value[i]);\n            }\n        }\n        else {\n            var period = keyPath.indexOf('.');\n            if (period !== -1) {\n                var currentKeyPath = keyPath.substr(0, period);\n                var remainingKeyPath = keyPath.substr(period + 1);\n                if (remainingKeyPath === \"\")\n                    if (value === undefined) {\n                        if (isArray(obj) && !isNaN(parseInt(currentKeyPath)))\n                            obj.splice(currentKeyPath, 1);\n                        else\n                            delete obj[currentKeyPath];\n                    }\n                    else\n                        obj[currentKeyPath] = value;\n                else {\n                    var innerObj = obj[currentKeyPath];\n                    if (!innerObj || !hasOwn(obj, currentKeyPath))\n                        innerObj = (obj[currentKeyPath] = {});\n                    setByKeyPath(innerObj, remainingKeyPath, value);\n                }\n            }\n            else {\n                if (value === undefined) {\n                    if (isArray(obj) && !isNaN(parseInt(keyPath)))\n                        obj.splice(keyPath, 1);\n                    else\n                        delete obj[keyPath];\n                }\n                else\n                    obj[keyPath] = value;\n            }\n        }\n    }\n    function delByKeyPath(obj, keyPath) {\n        if (typeof keyPath === 'string')\n            setByKeyPath(obj, keyPath, undefined);\n        else if ('length' in keyPath)\n            [].map.call(keyPath, function (kp) {\n                setByKeyPath(obj, kp, undefined);\n            });\n    }\n    function shallowClone(obj) {\n        var rv = {};\n        for (var m in obj) {\n            if (hasOwn(obj, m))\n                rv[m] = obj[m];\n        }\n        return rv;\n    }\n    var concat = [].concat;\n    function flatten(a) {\n        return concat.apply([], a);\n    }\n    var intrinsicTypeNames = \"BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey\"\n        .split(',').concat(flatten([8, 16, 32, 64].map(function (num) { return [\"Int\", \"Uint\", \"Float\"].map(function (t) { return t + num + \"Array\"; }); }))).filter(function (t) { return _global[t]; });\n    var intrinsicTypes = new Set(intrinsicTypeNames.map(function (t) { return _global[t]; }));\n    function cloneSimpleObjectTree(o) {\n        var rv = {};\n        for (var k in o)\n            if (hasOwn(o, k)) {\n                var v = o[k];\n                rv[k] = !v || typeof v !== 'object' || intrinsicTypes.has(v.constructor) ? v : cloneSimpleObjectTree(v);\n            }\n        return rv;\n    }\n    function objectIsEmpty(o) {\n        for (var k in o)\n            if (hasOwn(o, k))\n                return false;\n        return true;\n    }\n    var circularRefs = null;\n    function deepClone(any) {\n        circularRefs = new WeakMap();\n        var rv = innerDeepClone(any);\n        circularRefs = null;\n        return rv;\n    }\n    function innerDeepClone(x) {\n        if (!x || typeof x !== 'object')\n            return x;\n        var rv = circularRefs.get(x);\n        if (rv)\n            return rv;\n        if (isArray(x)) {\n            rv = [];\n            circularRefs.set(x, rv);\n            for (var i = 0, l = x.length; i < l; ++i) {\n                rv.push(innerDeepClone(x[i]));\n            }\n        }\n        else if (intrinsicTypes.has(x.constructor)) {\n            rv = x;\n        }\n        else {\n            var proto = getProto(x);\n            rv = proto === Object.prototype ? {} : Object.create(proto);\n            circularRefs.set(x, rv);\n            for (var prop in x) {\n                if (hasOwn(x, prop)) {\n                    rv[prop] = innerDeepClone(x[prop]);\n                }\n            }\n        }\n        return rv;\n    }\n    var toString = {}.toString;\n    function toStringTag(o) {\n        return toString.call(o).slice(8, -1);\n    }\n    var iteratorSymbol = typeof Symbol !== 'undefined' ?\n        Symbol.iterator :\n        '@@iterator';\n    var getIteratorOf = typeof iteratorSymbol === \"symbol\" ? function (x) {\n        var i;\n        return x != null && (i = x[iteratorSymbol]) && i.apply(x);\n    } : function () { return null; };\n    function delArrayItem(a, x) {\n        var i = a.indexOf(x);\n        if (i >= 0)\n            a.splice(i, 1);\n        return i >= 0;\n    }\n    var NO_CHAR_ARRAY = {};\n    function getArrayOf(arrayLike) {\n        var i, a, x, it;\n        if (arguments.length === 1) {\n            if (isArray(arrayLike))\n                return arrayLike.slice();\n            if (this === NO_CHAR_ARRAY && typeof arrayLike === 'string')\n                return [arrayLike];\n            if ((it = getIteratorOf(arrayLike))) {\n                a = [];\n                while ((x = it.next()), !x.done)\n                    a.push(x.value);\n                return a;\n            }\n            if (arrayLike == null)\n                return [arrayLike];\n            i = arrayLike.length;\n            if (typeof i === 'number') {\n                a = new Array(i);\n                while (i--)\n                    a[i] = arrayLike[i];\n                return a;\n            }\n            return [arrayLike];\n        }\n        i = arguments.length;\n        a = new Array(i);\n        while (i--)\n            a[i] = arguments[i];\n        return a;\n    }\n    var isAsyncFunction = typeof Symbol !== 'undefined'\n        ? function (fn) { return fn[Symbol.toStringTag] === 'AsyncFunction'; }\n        : function () { return false; };\n\n    var dexieErrorNames = [\n        'Modify',\n        'Bulk',\n        'OpenFailed',\n        'VersionChange',\n        'Schema',\n        'Upgrade',\n        'InvalidTable',\n        'MissingAPI',\n        'NoSuchDatabase',\n        'InvalidArgument',\n        'SubTransaction',\n        'Unsupported',\n        'Internal',\n        'DatabaseClosed',\n        'PrematureCommit',\n        'ForeignAwait'\n    ];\n    var idbDomErrorNames = [\n        'Unknown',\n        'Constraint',\n        'Data',\n        'TransactionInactive',\n        'ReadOnly',\n        'Version',\n        'NotFound',\n        'InvalidState',\n        'InvalidAccess',\n        'Abort',\n        'Timeout',\n        'QuotaExceeded',\n        'Syntax',\n        'DataClone'\n    ];\n    var errorList = dexieErrorNames.concat(idbDomErrorNames);\n    var defaultTexts = {\n        VersionChanged: \"Database version changed by other database connection\",\n        DatabaseClosed: \"Database has been closed\",\n        Abort: \"Transaction aborted\",\n        TransactionInactive: \"Transaction has already completed or failed\",\n        MissingAPI: \"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\"\n    };\n    function DexieError(name, msg) {\n        this.name = name;\n        this.message = msg;\n    }\n    derive(DexieError).from(Error).extend({\n        toString: function () { return this.name + \": \" + this.message; }\n    });\n    function getMultiErrorMessage(msg, failures) {\n        return msg + \". Errors: \" + Object.keys(failures)\n            .map(function (key) { return failures[key].toString(); })\n            .filter(function (v, i, s) { return s.indexOf(v) === i; })\n            .join('\\n');\n    }\n    function ModifyError(msg, failures, successCount, failedKeys) {\n        this.failures = failures;\n        this.failedKeys = failedKeys;\n        this.successCount = successCount;\n        this.message = getMultiErrorMessage(msg, failures);\n    }\n    derive(ModifyError).from(DexieError);\n    function BulkError(msg, failures) {\n        this.name = \"BulkError\";\n        this.failures = Object.keys(failures).map(function (pos) { return failures[pos]; });\n        this.failuresByPos = failures;\n        this.message = getMultiErrorMessage(msg, this.failures);\n    }\n    derive(BulkError).from(DexieError);\n    var errnames = errorList.reduce(function (obj, name) { return (obj[name] = name + \"Error\", obj); }, {});\n    var BaseException = DexieError;\n    var exceptions = errorList.reduce(function (obj, name) {\n        var fullName = name + \"Error\";\n        function DexieError(msgOrInner, inner) {\n            this.name = fullName;\n            if (!msgOrInner) {\n                this.message = defaultTexts[name] || fullName;\n                this.inner = null;\n            }\n            else if (typeof msgOrInner === 'string') {\n                this.message = \"\".concat(msgOrInner).concat(!inner ? '' : '\\n ' + inner);\n                this.inner = inner || null;\n            }\n            else if (typeof msgOrInner === 'object') {\n                this.message = \"\".concat(msgOrInner.name, \" \").concat(msgOrInner.message);\n                this.inner = msgOrInner;\n            }\n        }\n        derive(DexieError).from(BaseException);\n        obj[name] = DexieError;\n        return obj;\n    }, {});\n    exceptions.Syntax = SyntaxError;\n    exceptions.Type = TypeError;\n    exceptions.Range = RangeError;\n    var exceptionMap = idbDomErrorNames.reduce(function (obj, name) {\n        obj[name + \"Error\"] = exceptions[name];\n        return obj;\n    }, {});\n    function mapError(domError, message) {\n        if (!domError || domError instanceof DexieError || domError instanceof TypeError || domError instanceof SyntaxError || !domError.name || !exceptionMap[domError.name])\n            return domError;\n        var rv = new exceptionMap[domError.name](message || domError.message, domError);\n        if (\"stack\" in domError) {\n            setProp(rv, \"stack\", { get: function () {\n                    return this.inner.stack;\n                } });\n        }\n        return rv;\n    }\n    var fullNameExceptions = errorList.reduce(function (obj, name) {\n        if ([\"Syntax\", \"Type\", \"Range\"].indexOf(name) === -1)\n            obj[name + \"Error\"] = exceptions[name];\n        return obj;\n    }, {});\n    fullNameExceptions.ModifyError = ModifyError;\n    fullNameExceptions.DexieError = DexieError;\n    fullNameExceptions.BulkError = BulkError;\n\n    function nop() { }\n    function mirror(val) { return val; }\n    function pureFunctionChain(f1, f2) {\n        if (f1 == null || f1 === mirror)\n            return f2;\n        return function (val) {\n            return f2(f1(val));\n        };\n    }\n    function callBoth(on1, on2) {\n        return function () {\n            on1.apply(this, arguments);\n            on2.apply(this, arguments);\n        };\n    }\n    function hookCreatingChain(f1, f2) {\n        if (f1 === nop)\n            return f2;\n        return function () {\n            var res = f1.apply(this, arguments);\n            if (res !== undefined)\n                arguments[0] = res;\n            var onsuccess = this.onsuccess,\n            onerror = this.onerror;\n            this.onsuccess = null;\n            this.onerror = null;\n            var res2 = f2.apply(this, arguments);\n            if (onsuccess)\n                this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;\n            if (onerror)\n                this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;\n            return res2 !== undefined ? res2 : res;\n        };\n    }\n    function hookDeletingChain(f1, f2) {\n        if (f1 === nop)\n            return f2;\n        return function () {\n            f1.apply(this, arguments);\n            var onsuccess = this.onsuccess,\n            onerror = this.onerror;\n            this.onsuccess = this.onerror = null;\n            f2.apply(this, arguments);\n            if (onsuccess)\n                this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;\n            if (onerror)\n                this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;\n        };\n    }\n    function hookUpdatingChain(f1, f2) {\n        if (f1 === nop)\n            return f2;\n        return function (modifications) {\n            var res = f1.apply(this, arguments);\n            extend(modifications, res);\n            var onsuccess = this.onsuccess,\n            onerror = this.onerror;\n            this.onsuccess = null;\n            this.onerror = null;\n            var res2 = f2.apply(this, arguments);\n            if (onsuccess)\n                this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;\n            if (onerror)\n                this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;\n            return res === undefined ?\n                (res2 === undefined ? undefined : res2) :\n                (extend(res, res2));\n        };\n    }\n    function reverseStoppableEventChain(f1, f2) {\n        if (f1 === nop)\n            return f2;\n        return function () {\n            if (f2.apply(this, arguments) === false)\n                return false;\n            return f1.apply(this, arguments);\n        };\n    }\n    function promisableChain(f1, f2) {\n        if (f1 === nop)\n            return f2;\n        return function () {\n            var res = f1.apply(this, arguments);\n            if (res && typeof res.then === 'function') {\n                var thiz = this, i = arguments.length, args = new Array(i);\n                while (i--)\n                    args[i] = arguments[i];\n                return res.then(function () {\n                    return f2.apply(thiz, args);\n                });\n            }\n            return f2.apply(this, arguments);\n        };\n    }\n\n    var debug = typeof location !== 'undefined' &&\n        /^(http|https):\\/\\/(localhost|127\\.0\\.0\\.1)/.test(location.href);\n    function setDebug(value, filter) {\n        debug = value;\n    }\n\n    var INTERNAL = {};\n    var ZONE_ECHO_LIMIT = 100, _a$1 = typeof Promise === 'undefined' ?\n        [] :\n        (function () {\n            var globalP = Promise.resolve();\n            if (typeof crypto === 'undefined' || !crypto.subtle)\n                return [globalP, getProto(globalP), globalP];\n            var nativeP = crypto.subtle.digest(\"SHA-512\", new Uint8Array([0]));\n            return [\n                nativeP,\n                getProto(nativeP),\n                globalP\n            ];\n        })(), resolvedNativePromise = _a$1[0], nativePromiseProto = _a$1[1], resolvedGlobalPromise = _a$1[2], nativePromiseThen = nativePromiseProto && nativePromiseProto.then;\n    var NativePromise = resolvedNativePromise && resolvedNativePromise.constructor;\n    var patchGlobalPromise = !!resolvedGlobalPromise;\n    function schedulePhysicalTick() {\n        queueMicrotask(physicalTick);\n    }\n    var asap = function (callback, args) {\n        microtickQueue.push([callback, args]);\n        if (needsNewPhysicalTick) {\n            schedulePhysicalTick();\n            needsNewPhysicalTick = false;\n        }\n    };\n    var isOutsideMicroTick = true,\n    needsNewPhysicalTick = true,\n    unhandledErrors = [],\n    rejectingErrors = [],\n    rejectionMapper = mirror;\n    var globalPSD = {\n        id: 'global',\n        global: true,\n        ref: 0,\n        unhandleds: [],\n        onunhandled: nop,\n        pgp: false,\n        env: {},\n        finalize: nop\n    };\n    var PSD = globalPSD;\n    var microtickQueue = [];\n    var numScheduledCalls = 0;\n    var tickFinalizers = [];\n    function DexiePromise(fn) {\n        if (typeof this !== 'object')\n            throw new TypeError('Promises must be constructed via new');\n        this._listeners = [];\n        this._lib = false;\n        var psd = (this._PSD = PSD);\n        if (typeof fn !== 'function') {\n            if (fn !== INTERNAL)\n                throw new TypeError('Not a function');\n            this._state = arguments[1];\n            this._value = arguments[2];\n            if (this._state === false)\n                handleRejection(this, this._value);\n            return;\n        }\n        this._state = null;\n        this._value = null;\n        ++psd.ref;\n        executePromiseTask(this, fn);\n    }\n    var thenProp = {\n        get: function () {\n            var psd = PSD, microTaskId = totalEchoes;\n            function then(onFulfilled, onRejected) {\n                var _this = this;\n                var possibleAwait = !psd.global && (psd !== PSD || microTaskId !== totalEchoes);\n                var cleanup = possibleAwait && !decrementExpectedAwaits();\n                var rv = new DexiePromise(function (resolve, reject) {\n                    propagateToListener(_this, new Listener(nativeAwaitCompatibleWrap(onFulfilled, psd, possibleAwait, cleanup), nativeAwaitCompatibleWrap(onRejected, psd, possibleAwait, cleanup), resolve, reject, psd));\n                });\n                if (this._consoleTask)\n                    rv._consoleTask = this._consoleTask;\n                return rv;\n            }\n            then.prototype = INTERNAL;\n            return then;\n        },\n        set: function (value) {\n            setProp(this, 'then', value && value.prototype === INTERNAL ?\n                thenProp :\n                {\n                    get: function () {\n                        return value;\n                    },\n                    set: thenProp.set\n                });\n        }\n    };\n    props(DexiePromise.prototype, {\n        then: thenProp,\n        _then: function (onFulfilled, onRejected) {\n            propagateToListener(this, new Listener(null, null, onFulfilled, onRejected, PSD));\n        },\n        catch: function (onRejected) {\n            if (arguments.length === 1)\n                return this.then(null, onRejected);\n            var type = arguments[0], handler = arguments[1];\n            return typeof type === 'function' ? this.then(null, function (err) {\n                return err instanceof type ? handler(err) : PromiseReject(err);\n            })\n                : this.then(null, function (err) {\n                    return err && err.name === type ? handler(err) : PromiseReject(err);\n                });\n        },\n        finally: function (onFinally) {\n            return this.then(function (value) {\n                return DexiePromise.resolve(onFinally()).then(function () { return value; });\n            }, function (err) {\n                return DexiePromise.resolve(onFinally()).then(function () { return PromiseReject(err); });\n            });\n        },\n        timeout: function (ms, msg) {\n            var _this = this;\n            return ms < Infinity ?\n                new DexiePromise(function (resolve, reject) {\n                    var handle = setTimeout(function () { return reject(new exceptions.Timeout(msg)); }, ms);\n                    _this.then(resolve, reject).finally(clearTimeout.bind(null, handle));\n                }) : this;\n        }\n    });\n    if (typeof Symbol !== 'undefined' && Symbol.toStringTag)\n        setProp(DexiePromise.prototype, Symbol.toStringTag, 'Dexie.Promise');\n    globalPSD.env = snapShot();\n    function Listener(onFulfilled, onRejected, resolve, reject, zone) {\n        this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n        this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n        this.resolve = resolve;\n        this.reject = reject;\n        this.psd = zone;\n    }\n    props(DexiePromise, {\n        all: function () {\n            var values = getArrayOf.apply(null, arguments)\n                .map(onPossibleParallellAsync);\n            return new DexiePromise(function (resolve, reject) {\n                if (values.length === 0)\n                    resolve([]);\n                var remaining = values.length;\n                values.forEach(function (a, i) { return DexiePromise.resolve(a).then(function (x) {\n                    values[i] = x;\n                    if (!--remaining)\n                        resolve(values);\n                }, reject); });\n            });\n        },\n        resolve: function (value) {\n            if (value instanceof DexiePromise)\n                return value;\n            if (value && typeof value.then === 'function')\n                return new DexiePromise(function (resolve, reject) {\n                    value.then(resolve, reject);\n                });\n            var rv = new DexiePromise(INTERNAL, true, value);\n            return rv;\n        },\n        reject: PromiseReject,\n        race: function () {\n            var values = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);\n            return new DexiePromise(function (resolve, reject) {\n                values.map(function (value) { return DexiePromise.resolve(value).then(resolve, reject); });\n            });\n        },\n        PSD: {\n            get: function () { return PSD; },\n            set: function (value) { return PSD = value; }\n        },\n        totalEchoes: { get: function () { return totalEchoes; } },\n        newPSD: newScope,\n        usePSD: usePSD,\n        scheduler: {\n            get: function () { return asap; },\n            set: function (value) { asap = value; }\n        },\n        rejectionMapper: {\n            get: function () { return rejectionMapper; },\n            set: function (value) { rejectionMapper = value; }\n        },\n        follow: function (fn, zoneProps) {\n            return new DexiePromise(function (resolve, reject) {\n                return newScope(function (resolve, reject) {\n                    var psd = PSD;\n                    psd.unhandleds = [];\n                    psd.onunhandled = reject;\n                    psd.finalize = callBoth(function () {\n                        var _this = this;\n                        run_at_end_of_this_or_next_physical_tick(function () {\n                            _this.unhandleds.length === 0 ? resolve() : reject(_this.unhandleds[0]);\n                        });\n                    }, psd.finalize);\n                    fn();\n                }, zoneProps, resolve, reject);\n            });\n        }\n    });\n    if (NativePromise) {\n        if (NativePromise.allSettled)\n            setProp(DexiePromise, \"allSettled\", function () {\n                var possiblePromises = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);\n                return new DexiePromise(function (resolve) {\n                    if (possiblePromises.length === 0)\n                        resolve([]);\n                    var remaining = possiblePromises.length;\n                    var results = new Array(remaining);\n                    possiblePromises.forEach(function (p, i) { return DexiePromise.resolve(p).then(function (value) { return results[i] = { status: \"fulfilled\", value: value }; }, function (reason) { return results[i] = { status: \"rejected\", reason: reason }; })\n                        .then(function () { return --remaining || resolve(results); }); });\n                });\n            });\n        if (NativePromise.any && typeof AggregateError !== 'undefined')\n            setProp(DexiePromise, \"any\", function () {\n                var possiblePromises = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);\n                return new DexiePromise(function (resolve, reject) {\n                    if (possiblePromises.length === 0)\n                        reject(new AggregateError([]));\n                    var remaining = possiblePromises.length;\n                    var failures = new Array(remaining);\n                    possiblePromises.forEach(function (p, i) { return DexiePromise.resolve(p).then(function (value) { return resolve(value); }, function (failure) {\n                        failures[i] = failure;\n                        if (!--remaining)\n                            reject(new AggregateError(failures));\n                    }); });\n                });\n            });\n        if (NativePromise.withResolvers)\n            DexiePromise.withResolvers = NativePromise.withResolvers;\n    }\n    function executePromiseTask(promise, fn) {\n        try {\n            fn(function (value) {\n                if (promise._state !== null)\n                    return;\n                if (value === promise)\n                    throw new TypeError('A promise cannot be resolved with itself.');\n                var shouldExecuteTick = promise._lib && beginMicroTickScope();\n                if (value && typeof value.then === 'function') {\n                    executePromiseTask(promise, function (resolve, reject) {\n                        value instanceof DexiePromise ?\n                            value._then(resolve, reject) :\n                            value.then(resolve, reject);\n                    });\n                }\n                else {\n                    promise._state = true;\n                    promise._value = value;\n                    propagateAllListeners(promise);\n                }\n                if (shouldExecuteTick)\n                    endMicroTickScope();\n            }, handleRejection.bind(null, promise));\n        }\n        catch (ex) {\n            handleRejection(promise, ex);\n        }\n    }\n    function handleRejection(promise, reason) {\n        rejectingErrors.push(reason);\n        if (promise._state !== null)\n            return;\n        var shouldExecuteTick = promise._lib && beginMicroTickScope();\n        reason = rejectionMapper(reason);\n        promise._state = false;\n        promise._value = reason;\n        addPossiblyUnhandledError(promise);\n        propagateAllListeners(promise);\n        if (shouldExecuteTick)\n            endMicroTickScope();\n    }\n    function propagateAllListeners(promise) {\n        var listeners = promise._listeners;\n        promise._listeners = [];\n        for (var i = 0, len = listeners.length; i < len; ++i) {\n            propagateToListener(promise, listeners[i]);\n        }\n        var psd = promise._PSD;\n        --psd.ref || psd.finalize();\n        if (numScheduledCalls === 0) {\n            ++numScheduledCalls;\n            asap(function () {\n                if (--numScheduledCalls === 0)\n                    finalizePhysicalTick();\n            }, []);\n        }\n    }\n    function propagateToListener(promise, listener) {\n        if (promise._state === null) {\n            promise._listeners.push(listener);\n            return;\n        }\n        var cb = promise._state ? listener.onFulfilled : listener.onRejected;\n        if (cb === null) {\n            return (promise._state ? listener.resolve : listener.reject)(promise._value);\n        }\n        ++listener.psd.ref;\n        ++numScheduledCalls;\n        asap(callListener, [cb, promise, listener]);\n    }\n    function callListener(cb, promise, listener) {\n        try {\n            var ret, value = promise._value;\n            if (!promise._state && rejectingErrors.length)\n                rejectingErrors = [];\n            ret = debug && promise._consoleTask ? promise._consoleTask.run(function () { return cb(value); }) : cb(value);\n            if (!promise._state && rejectingErrors.indexOf(value) === -1) {\n                markErrorAsHandled(promise);\n            }\n            listener.resolve(ret);\n        }\n        catch (e) {\n            listener.reject(e);\n        }\n        finally {\n            if (--numScheduledCalls === 0)\n                finalizePhysicalTick();\n            --listener.psd.ref || listener.psd.finalize();\n        }\n    }\n    function physicalTick() {\n        usePSD(globalPSD, function () {\n            beginMicroTickScope() && endMicroTickScope();\n        });\n    }\n    function beginMicroTickScope() {\n        var wasRootExec = isOutsideMicroTick;\n        isOutsideMicroTick = false;\n        needsNewPhysicalTick = false;\n        return wasRootExec;\n    }\n    function endMicroTickScope() {\n        var callbacks, i, l;\n        do {\n            while (microtickQueue.length > 0) {\n                callbacks = microtickQueue;\n                microtickQueue = [];\n                l = callbacks.length;\n                for (i = 0; i < l; ++i) {\n                    var item = callbacks[i];\n                    item[0].apply(null, item[1]);\n                }\n            }\n        } while (microtickQueue.length > 0);\n        isOutsideMicroTick = true;\n        needsNewPhysicalTick = true;\n    }\n    function finalizePhysicalTick() {\n        var unhandledErrs = unhandledErrors;\n        unhandledErrors = [];\n        unhandledErrs.forEach(function (p) {\n            p._PSD.onunhandled.call(null, p._value, p);\n        });\n        var finalizers = tickFinalizers.slice(0);\n        var i = finalizers.length;\n        while (i)\n            finalizers[--i]();\n    }\n    function run_at_end_of_this_or_next_physical_tick(fn) {\n        function finalizer() {\n            fn();\n            tickFinalizers.splice(tickFinalizers.indexOf(finalizer), 1);\n        }\n        tickFinalizers.push(finalizer);\n        ++numScheduledCalls;\n        asap(function () {\n            if (--numScheduledCalls === 0)\n                finalizePhysicalTick();\n        }, []);\n    }\n    function addPossiblyUnhandledError(promise) {\n        if (!unhandledErrors.some(function (p) { return p._value === promise._value; }))\n            unhandledErrors.push(promise);\n    }\n    function markErrorAsHandled(promise) {\n        var i = unhandledErrors.length;\n        while (i)\n            if (unhandledErrors[--i]._value === promise._value) {\n                unhandledErrors.splice(i, 1);\n                return;\n            }\n    }\n    function PromiseReject(reason) {\n        return new DexiePromise(INTERNAL, false, reason);\n    }\n    function wrap(fn, errorCatcher) {\n        var psd = PSD;\n        return function () {\n            var wasRootExec = beginMicroTickScope(), outerScope = PSD;\n            try {\n                switchToZone(psd, true);\n                return fn.apply(this, arguments);\n            }\n            catch (e) {\n                errorCatcher && errorCatcher(e);\n            }\n            finally {\n                switchToZone(outerScope, false);\n                if (wasRootExec)\n                    endMicroTickScope();\n            }\n        };\n    }\n    var task = { awaits: 0, echoes: 0, id: 0 };\n    var taskCounter = 0;\n    var zoneStack = [];\n    var zoneEchoes = 0;\n    var totalEchoes = 0;\n    var zone_id_counter = 0;\n    function newScope(fn, props, a1, a2) {\n        var parent = PSD, psd = Object.create(parent);\n        psd.parent = parent;\n        psd.ref = 0;\n        psd.global = false;\n        psd.id = ++zone_id_counter;\n        globalPSD.env;\n        psd.env = patchGlobalPromise ? {\n            Promise: DexiePromise,\n            PromiseProp: { value: DexiePromise, configurable: true, writable: true },\n            all: DexiePromise.all,\n            race: DexiePromise.race,\n            allSettled: DexiePromise.allSettled,\n            any: DexiePromise.any,\n            resolve: DexiePromise.resolve,\n            reject: DexiePromise.reject,\n        } : {};\n        if (props)\n            extend(psd, props);\n        ++parent.ref;\n        psd.finalize = function () {\n            --this.parent.ref || this.parent.finalize();\n        };\n        var rv = usePSD(psd, fn, a1, a2);\n        if (psd.ref === 0)\n            psd.finalize();\n        return rv;\n    }\n    function incrementExpectedAwaits() {\n        if (!task.id)\n            task.id = ++taskCounter;\n        ++task.awaits;\n        task.echoes += ZONE_ECHO_LIMIT;\n        return task.id;\n    }\n    function decrementExpectedAwaits() {\n        if (!task.awaits)\n            return false;\n        if (--task.awaits === 0)\n            task.id = 0;\n        task.echoes = task.awaits * ZONE_ECHO_LIMIT;\n        return true;\n    }\n    if (('' + nativePromiseThen).indexOf('[native code]') === -1) {\n        incrementExpectedAwaits = decrementExpectedAwaits = nop;\n    }\n    function onPossibleParallellAsync(possiblePromise) {\n        if (task.echoes && possiblePromise && possiblePromise.constructor === NativePromise) {\n            incrementExpectedAwaits();\n            return possiblePromise.then(function (x) {\n                decrementExpectedAwaits();\n                return x;\n            }, function (e) {\n                decrementExpectedAwaits();\n                return rejection(e);\n            });\n        }\n        return possiblePromise;\n    }\n    function zoneEnterEcho(targetZone) {\n        ++totalEchoes;\n        if (!task.echoes || --task.echoes === 0) {\n            task.echoes = task.awaits = task.id = 0;\n        }\n        zoneStack.push(PSD);\n        switchToZone(targetZone, true);\n    }\n    function zoneLeaveEcho() {\n        var zone = zoneStack[zoneStack.length - 1];\n        zoneStack.pop();\n        switchToZone(zone, false);\n    }\n    function switchToZone(targetZone, bEnteringZone) {\n        var currentZone = PSD;\n        if (bEnteringZone ? task.echoes && (!zoneEchoes++ || targetZone !== PSD) : zoneEchoes && (!--zoneEchoes || targetZone !== PSD)) {\n            queueMicrotask(bEnteringZone ? zoneEnterEcho.bind(null, targetZone) : zoneLeaveEcho);\n        }\n        if (targetZone === PSD)\n            return;\n        PSD = targetZone;\n        if (currentZone === globalPSD)\n            globalPSD.env = snapShot();\n        if (patchGlobalPromise) {\n            var GlobalPromise = globalPSD.env.Promise;\n            var targetEnv = targetZone.env;\n            if (currentZone.global || targetZone.global) {\n                Object.defineProperty(_global, 'Promise', targetEnv.PromiseProp);\n                GlobalPromise.all = targetEnv.all;\n                GlobalPromise.race = targetEnv.race;\n                GlobalPromise.resolve = targetEnv.resolve;\n                GlobalPromise.reject = targetEnv.reject;\n                if (targetEnv.allSettled)\n                    GlobalPromise.allSettled = targetEnv.allSettled;\n                if (targetEnv.any)\n                    GlobalPromise.any = targetEnv.any;\n            }\n        }\n    }\n    function snapShot() {\n        var GlobalPromise = _global.Promise;\n        return patchGlobalPromise ? {\n            Promise: GlobalPromise,\n            PromiseProp: Object.getOwnPropertyDescriptor(_global, \"Promise\"),\n            all: GlobalPromise.all,\n            race: GlobalPromise.race,\n            allSettled: GlobalPromise.allSettled,\n            any: GlobalPromise.any,\n            resolve: GlobalPromise.resolve,\n            reject: GlobalPromise.reject,\n        } : {};\n    }\n    function usePSD(psd, fn, a1, a2, a3) {\n        var outerScope = PSD;\n        try {\n            switchToZone(psd, true);\n            return fn(a1, a2, a3);\n        }\n        finally {\n            switchToZone(outerScope, false);\n        }\n    }\n    function nativeAwaitCompatibleWrap(fn, zone, possibleAwait, cleanup) {\n        return typeof fn !== 'function' ? fn : function () {\n            var outerZone = PSD;\n            if (possibleAwait)\n                incrementExpectedAwaits();\n            switchToZone(zone, true);\n            try {\n                return fn.apply(this, arguments);\n            }\n            finally {\n                switchToZone(outerZone, false);\n                if (cleanup)\n                    queueMicrotask(decrementExpectedAwaits);\n            }\n        };\n    }\n    function execInGlobalContext(cb) {\n        if (Promise === NativePromise && task.echoes === 0) {\n            if (zoneEchoes === 0) {\n                cb();\n            }\n            else {\n                enqueueNativeMicroTask(cb);\n            }\n        }\n        else {\n            setTimeout(cb, 0);\n        }\n    }\n    var rejection = DexiePromise.reject;\n\n    function tempTransaction(db, mode, storeNames, fn) {\n        if (!db.idbdb || (!db._state.openComplete && (!PSD.letThrough && !db._vip))) {\n            if (db._state.openComplete) {\n                return rejection(new exceptions.DatabaseClosed(db._state.dbOpenError));\n            }\n            if (!db._state.isBeingOpened) {\n                if (!db._state.autoOpen)\n                    return rejection(new exceptions.DatabaseClosed());\n                db.open().catch(nop);\n            }\n            return db._state.dbReadyPromise.then(function () { return tempTransaction(db, mode, storeNames, fn); });\n        }\n        else {\n            var trans = db._createTransaction(mode, storeNames, db._dbSchema);\n            try {\n                trans.create();\n                db._state.PR1398_maxLoop = 3;\n            }\n            catch (ex) {\n                if (ex.name === errnames.InvalidState && db.isOpen() && --db._state.PR1398_maxLoop > 0) {\n                    console.warn('Dexie: Need to reopen db');\n                    db.close({ disableAutoOpen: false });\n                    return db.open().then(function () { return tempTransaction(db, mode, storeNames, fn); });\n                }\n                return rejection(ex);\n            }\n            return trans._promise(mode, function (resolve, reject) {\n                return newScope(function () {\n                    PSD.trans = trans;\n                    return fn(resolve, reject, trans);\n                });\n            }).then(function (result) {\n                if (mode === 'readwrite')\n                    try {\n                        trans.idbtrans.commit();\n                    }\n                    catch (_a) { }\n                return mode === 'readonly' ? result : trans._completion.then(function () { return result; });\n            });\n        }\n    }\n\n    var DEXIE_VERSION = '4.0.10';\n    var maxString = String.fromCharCode(65535);\n    var minKey = -Infinity;\n    var INVALID_KEY_ARGUMENT = \"Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.\";\n    var STRING_EXPECTED = \"String expected.\";\n    var connections = [];\n    var DBNAMES_DB = '__dbnames';\n    var READONLY = 'readonly';\n    var READWRITE = 'readwrite';\n\n    function combine(filter1, filter2) {\n        return filter1 ?\n            filter2 ?\n                function () { return filter1.apply(this, arguments) && filter2.apply(this, arguments); } :\n                filter1 :\n            filter2;\n    }\n\n    var AnyRange = {\n        type: 3 ,\n        lower: -Infinity,\n        lowerOpen: false,\n        upper: [[]],\n        upperOpen: false\n    };\n\n    function workaroundForUndefinedPrimKey(keyPath) {\n        return typeof keyPath === \"string\" && !/\\./.test(keyPath)\n            ? function (obj) {\n                if (obj[keyPath] === undefined && (keyPath in obj)) {\n                    obj = deepClone(obj);\n                    delete obj[keyPath];\n                }\n                return obj;\n            }\n            : function (obj) { return obj; };\n    }\n\n    function Entity() {\n        throw exceptions.Type();\n    }\n\n    function cmp(a, b) {\n        try {\n            var ta = type(a);\n            var tb = type(b);\n            if (ta !== tb) {\n                if (ta === 'Array')\n                    return 1;\n                if (tb === 'Array')\n                    return -1;\n                if (ta === 'binary')\n                    return 1;\n                if (tb === 'binary')\n                    return -1;\n                if (ta === 'string')\n                    return 1;\n                if (tb === 'string')\n                    return -1;\n                if (ta === 'Date')\n                    return 1;\n                if (tb !== 'Date')\n                    return NaN;\n                return -1;\n            }\n            switch (ta) {\n                case 'number':\n                case 'Date':\n                case 'string':\n                    return a > b ? 1 : a < b ? -1 : 0;\n                case 'binary': {\n                    return compareUint8Arrays(getUint8Array(a), getUint8Array(b));\n                }\n                case 'Array':\n                    return compareArrays(a, b);\n            }\n        }\n        catch (_a) { }\n        return NaN;\n    }\n    function compareArrays(a, b) {\n        var al = a.length;\n        var bl = b.length;\n        var l = al < bl ? al : bl;\n        for (var i = 0; i < l; ++i) {\n            var res = cmp(a[i], b[i]);\n            if (res !== 0)\n                return res;\n        }\n        return al === bl ? 0 : al < bl ? -1 : 1;\n    }\n    function compareUint8Arrays(a, b) {\n        var al = a.length;\n        var bl = b.length;\n        var l = al < bl ? al : bl;\n        for (var i = 0; i < l; ++i) {\n            if (a[i] !== b[i])\n                return a[i] < b[i] ? -1 : 1;\n        }\n        return al === bl ? 0 : al < bl ? -1 : 1;\n    }\n    function type(x) {\n        var t = typeof x;\n        if (t !== 'object')\n            return t;\n        if (ArrayBuffer.isView(x))\n            return 'binary';\n        var tsTag = toStringTag(x);\n        return tsTag === 'ArrayBuffer' ? 'binary' : tsTag;\n    }\n    function getUint8Array(a) {\n        if (a instanceof Uint8Array)\n            return a;\n        if (ArrayBuffer.isView(a))\n            return new Uint8Array(a.buffer, a.byteOffset, a.byteLength);\n        return new Uint8Array(a);\n    }\n\n    var Table =  (function () {\n        function Table() {\n        }\n        Table.prototype._trans = function (mode, fn, writeLocked) {\n            var trans = this._tx || PSD.trans;\n            var tableName = this.name;\n            var task = debug && typeof console !== 'undefined' && console.createTask && console.createTask(\"Dexie: \".concat(mode === 'readonly' ? 'read' : 'write', \" \").concat(this.name));\n            function checkTableInTransaction(resolve, reject, trans) {\n                if (!trans.schema[tableName])\n                    throw new exceptions.NotFound(\"Table \" + tableName + \" not part of transaction\");\n                return fn(trans.idbtrans, trans);\n            }\n            var wasRootExec = beginMicroTickScope();\n            try {\n                var p = trans && trans.db._novip === this.db._novip ?\n                    trans === PSD.trans ?\n                        trans._promise(mode, checkTableInTransaction, writeLocked) :\n                        newScope(function () { return trans._promise(mode, checkTableInTransaction, writeLocked); }, { trans: trans, transless: PSD.transless || PSD }) :\n                    tempTransaction(this.db, mode, [this.name], checkTableInTransaction);\n                if (task) {\n                    p._consoleTask = task;\n                    p = p.catch(function (err) {\n                        console.trace(err);\n                        return rejection(err);\n                    });\n                }\n                return p;\n            }\n            finally {\n                if (wasRootExec)\n                    endMicroTickScope();\n            }\n        };\n        Table.prototype.get = function (keyOrCrit, cb) {\n            var _this = this;\n            if (keyOrCrit && keyOrCrit.constructor === Object)\n                return this.where(keyOrCrit).first(cb);\n            if (keyOrCrit == null)\n                return rejection(new exceptions.Type(\"Invalid argument to Table.get()\"));\n            return this._trans('readonly', function (trans) {\n                return _this.core.get({ trans: trans, key: keyOrCrit })\n                    .then(function (res) { return _this.hook.reading.fire(res); });\n            }).then(cb);\n        };\n        Table.prototype.where = function (indexOrCrit) {\n            if (typeof indexOrCrit === 'string')\n                return new this.db.WhereClause(this, indexOrCrit);\n            if (isArray(indexOrCrit))\n                return new this.db.WhereClause(this, \"[\".concat(indexOrCrit.join('+'), \"]\"));\n            var keyPaths = keys(indexOrCrit);\n            if (keyPaths.length === 1)\n                return this\n                    .where(keyPaths[0])\n                    .equals(indexOrCrit[keyPaths[0]]);\n            var compoundIndex = this.schema.indexes.concat(this.schema.primKey).filter(function (ix) {\n                if (ix.compound &&\n                    keyPaths.every(function (keyPath) { return ix.keyPath.indexOf(keyPath) >= 0; })) {\n                    for (var i = 0; i < keyPaths.length; ++i) {\n                        if (keyPaths.indexOf(ix.keyPath[i]) === -1)\n                            return false;\n                    }\n                    return true;\n                }\n                return false;\n            }).sort(function (a, b) { return a.keyPath.length - b.keyPath.length; })[0];\n            if (compoundIndex && this.db._maxKey !== maxString) {\n                var keyPathsInValidOrder = compoundIndex.keyPath.slice(0, keyPaths.length);\n                return this\n                    .where(keyPathsInValidOrder)\n                    .equals(keyPathsInValidOrder.map(function (kp) { return indexOrCrit[kp]; }));\n            }\n            if (!compoundIndex && debug)\n                console.warn(\"The query \".concat(JSON.stringify(indexOrCrit), \" on \").concat(this.name, \" would benefit from a \") +\n                    \"compound index [\".concat(keyPaths.join('+'), \"]\"));\n            var idxByName = this.schema.idxByName;\n            function equals(a, b) {\n                return cmp(a, b) === 0;\n            }\n            var _a = keyPaths.reduce(function (_a, keyPath) {\n                var prevIndex = _a[0], prevFilterFn = _a[1];\n                var index = idxByName[keyPath];\n                var value = indexOrCrit[keyPath];\n                return [\n                    prevIndex || index,\n                    prevIndex || !index ?\n                        combine(prevFilterFn, index && index.multi ?\n                            function (x) {\n                                var prop = getByKeyPath(x, keyPath);\n                                return isArray(prop) && prop.some(function (item) { return equals(value, item); });\n                            } : function (x) { return equals(value, getByKeyPath(x, keyPath)); })\n                        : prevFilterFn\n                ];\n            }, [null, null]), idx = _a[0], filterFunction = _a[1];\n            return idx ?\n                this.where(idx.name).equals(indexOrCrit[idx.keyPath])\n                    .filter(filterFunction) :\n                compoundIndex ?\n                    this.filter(filterFunction) :\n                    this.where(keyPaths).equals('');\n        };\n        Table.prototype.filter = function (filterFunction) {\n            return this.toCollection().and(filterFunction);\n        };\n        Table.prototype.count = function (thenShortcut) {\n            return this.toCollection().count(thenShortcut);\n        };\n        Table.prototype.offset = function (offset) {\n            return this.toCollection().offset(offset);\n        };\n        Table.prototype.limit = function (numRows) {\n            return this.toCollection().limit(numRows);\n        };\n        Table.prototype.each = function (callback) {\n            return this.toCollection().each(callback);\n        };\n        Table.prototype.toArray = function (thenShortcut) {\n            return this.toCollection().toArray(thenShortcut);\n        };\n        Table.prototype.toCollection = function () {\n            return new this.db.Collection(new this.db.WhereClause(this));\n        };\n        Table.prototype.orderBy = function (index) {\n            return new this.db.Collection(new this.db.WhereClause(this, isArray(index) ?\n                \"[\".concat(index.join('+'), \"]\") :\n                index));\n        };\n        Table.prototype.reverse = function () {\n            return this.toCollection().reverse();\n        };\n        Table.prototype.mapToClass = function (constructor) {\n            var _a = this, db = _a.db, tableName = _a.name;\n            this.schema.mappedClass = constructor;\n            if (constructor.prototype instanceof Entity) {\n                constructor =  (function (_super) {\n                    __extends(class_1, _super);\n                    function class_1() {\n                        return _super !== null && _super.apply(this, arguments) || this;\n                    }\n                    Object.defineProperty(class_1.prototype, \"db\", {\n                        get: function () { return db; },\n                        enumerable: false,\n                        configurable: true\n                    });\n                    class_1.prototype.table = function () { return tableName; };\n                    return class_1;\n                }(constructor));\n            }\n            var inheritedProps = new Set();\n            for (var proto = constructor.prototype; proto; proto = getProto(proto)) {\n                Object.getOwnPropertyNames(proto).forEach(function (propName) { return inheritedProps.add(propName); });\n            }\n            var readHook = function (obj) {\n                if (!obj)\n                    return obj;\n                var res = Object.create(constructor.prototype);\n                for (var m in obj)\n                    if (!inheritedProps.has(m))\n                        try {\n                            res[m] = obj[m];\n                        }\n                        catch (_) { }\n                return res;\n            };\n            if (this.schema.readHook) {\n                this.hook.reading.unsubscribe(this.schema.readHook);\n            }\n            this.schema.readHook = readHook;\n            this.hook(\"reading\", readHook);\n            return constructor;\n        };\n        Table.prototype.defineClass = function () {\n            function Class(content) {\n                extend(this, content);\n            }\n            return this.mapToClass(Class);\n        };\n        Table.prototype.add = function (obj, key) {\n            var _this = this;\n            var _a = this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;\n            var objToAdd = obj;\n            if (keyPath && auto) {\n                objToAdd = workaroundForUndefinedPrimKey(keyPath)(obj);\n            }\n            return this._trans('readwrite', function (trans) {\n                return _this.core.mutate({ trans: trans, type: 'add', keys: key != null ? [key] : null, values: [objToAdd] });\n            }).then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : res.lastResult; })\n                .then(function (lastResult) {\n                if (keyPath) {\n                    try {\n                        setByKeyPath(obj, keyPath, lastResult);\n                    }\n                    catch (_) { }\n                }\n                return lastResult;\n            });\n        };\n        Table.prototype.update = function (keyOrObject, modifications) {\n            if (typeof keyOrObject === 'object' && !isArray(keyOrObject)) {\n                var key = getByKeyPath(keyOrObject, this.schema.primKey.keyPath);\n                if (key === undefined)\n                    return rejection(new exceptions.InvalidArgument(\"Given object does not contain its primary key\"));\n                return this.where(\":id\").equals(key).modify(modifications);\n            }\n            else {\n                return this.where(\":id\").equals(keyOrObject).modify(modifications);\n            }\n        };\n        Table.prototype.put = function (obj, key) {\n            var _this = this;\n            var _a = this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;\n            var objToAdd = obj;\n            if (keyPath && auto) {\n                objToAdd = workaroundForUndefinedPrimKey(keyPath)(obj);\n            }\n            return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'put', values: [objToAdd], keys: key != null ? [key] : null }); })\n                .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : res.lastResult; })\n                .then(function (lastResult) {\n                if (keyPath) {\n                    try {\n                        setByKeyPath(obj, keyPath, lastResult);\n                    }\n                    catch (_) { }\n                }\n                return lastResult;\n            });\n        };\n        Table.prototype.delete = function (key) {\n            var _this = this;\n            return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'delete', keys: [key] }); })\n                .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : undefined; });\n        };\n        Table.prototype.clear = function () {\n            var _this = this;\n            return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'deleteRange', range: AnyRange }); })\n                .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : undefined; });\n        };\n        Table.prototype.bulkGet = function (keys) {\n            var _this = this;\n            return this._trans('readonly', function (trans) {\n                return _this.core.getMany({\n                    keys: keys,\n                    trans: trans\n                }).then(function (result) { return result.map(function (res) { return _this.hook.reading.fire(res); }); });\n            });\n        };\n        Table.prototype.bulkAdd = function (objects, keysOrOptions, options) {\n            var _this = this;\n            var keys = Array.isArray(keysOrOptions) ? keysOrOptions : undefined;\n            options = options || (keys ? undefined : keysOrOptions);\n            var wantResults = options ? options.allKeys : undefined;\n            return this._trans('readwrite', function (trans) {\n                var _a = _this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;\n                if (keyPath && keys)\n                    throw new exceptions.InvalidArgument(\"bulkAdd(): keys argument invalid on tables with inbound keys\");\n                if (keys && keys.length !== objects.length)\n                    throw new exceptions.InvalidArgument(\"Arguments objects and keys must have the same length\");\n                var numObjects = objects.length;\n                var objectsToAdd = keyPath && auto ?\n                    objects.map(workaroundForUndefinedPrimKey(keyPath)) :\n                    objects;\n                return _this.core.mutate({ trans: trans, type: 'add', keys: keys, values: objectsToAdd, wantResults: wantResults })\n                    .then(function (_a) {\n                    var numFailures = _a.numFailures, results = _a.results, lastResult = _a.lastResult, failures = _a.failures;\n                    var result = wantResults ? results : lastResult;\n                    if (numFailures === 0)\n                        return result;\n                    throw new BulkError(\"\".concat(_this.name, \".bulkAdd(): \").concat(numFailures, \" of \").concat(numObjects, \" operations failed\"), failures);\n                });\n            });\n        };\n        Table.prototype.bulkPut = function (objects, keysOrOptions, options) {\n            var _this = this;\n            var keys = Array.isArray(keysOrOptions) ? keysOrOptions : undefined;\n            options = options || (keys ? undefined : keysOrOptions);\n            var wantResults = options ? options.allKeys : undefined;\n            return this._trans('readwrite', function (trans) {\n                var _a = _this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;\n                if (keyPath && keys)\n                    throw new exceptions.InvalidArgument(\"bulkPut(): keys argument invalid on tables with inbound keys\");\n                if (keys && keys.length !== objects.length)\n                    throw new exceptions.InvalidArgument(\"Arguments objects and keys must have the same length\");\n                var numObjects = objects.length;\n                var objectsToPut = keyPath && auto ?\n                    objects.map(workaroundForUndefinedPrimKey(keyPath)) :\n                    objects;\n                return _this.core.mutate({ trans: trans, type: 'put', keys: keys, values: objectsToPut, wantResults: wantResults })\n                    .then(function (_a) {\n                    var numFailures = _a.numFailures, results = _a.results, lastResult = _a.lastResult, failures = _a.failures;\n                    var result = wantResults ? results : lastResult;\n                    if (numFailures === 0)\n                        return result;\n                    throw new BulkError(\"\".concat(_this.name, \".bulkPut(): \").concat(numFailures, \" of \").concat(numObjects, \" operations failed\"), failures);\n                });\n            });\n        };\n        Table.prototype.bulkUpdate = function (keysAndChanges) {\n            var _this = this;\n            var coreTable = this.core;\n            var keys = keysAndChanges.map(function (entry) { return entry.key; });\n            var changeSpecs = keysAndChanges.map(function (entry) { return entry.changes; });\n            var offsetMap = [];\n            return this._trans('readwrite', function (trans) {\n                return coreTable.getMany({ trans: trans, keys: keys, cache: 'clone' }).then(function (objs) {\n                    var resultKeys = [];\n                    var resultObjs = [];\n                    keysAndChanges.forEach(function (_a, idx) {\n                        var key = _a.key, changes = _a.changes;\n                        var obj = objs[idx];\n                        if (obj) {\n                            for (var _i = 0, _b = Object.keys(changes); _i < _b.length; _i++) {\n                                var keyPath = _b[_i];\n                                var value = changes[keyPath];\n                                if (keyPath === _this.schema.primKey.keyPath) {\n                                    if (cmp(value, key) !== 0) {\n                                        throw new exceptions.Constraint(\"Cannot update primary key in bulkUpdate()\");\n                                    }\n                                }\n                                else {\n                                    setByKeyPath(obj, keyPath, value);\n                                }\n                            }\n                            offsetMap.push(idx);\n                            resultKeys.push(key);\n                            resultObjs.push(obj);\n                        }\n                    });\n                    var numEntries = resultKeys.length;\n                    return coreTable\n                        .mutate({\n                        trans: trans,\n                        type: 'put',\n                        keys: resultKeys,\n                        values: resultObjs,\n                        updates: {\n                            keys: keys,\n                            changeSpecs: changeSpecs\n                        }\n                    })\n                        .then(function (_a) {\n                        var numFailures = _a.numFailures, failures = _a.failures;\n                        if (numFailures === 0)\n                            return numEntries;\n                        for (var _i = 0, _b = Object.keys(failures); _i < _b.length; _i++) {\n                            var offset = _b[_i];\n                            var mappedOffset = offsetMap[Number(offset)];\n                            if (mappedOffset != null) {\n                                var failure = failures[offset];\n                                delete failures[offset];\n                                failures[mappedOffset] = failure;\n                            }\n                        }\n                        throw new BulkError(\"\".concat(_this.name, \".bulkUpdate(): \").concat(numFailures, \" of \").concat(numEntries, \" operations failed\"), failures);\n                    });\n                });\n            });\n        };\n        Table.prototype.bulkDelete = function (keys) {\n            var _this = this;\n            var numKeys = keys.length;\n            return this._trans('readwrite', function (trans) {\n                return _this.core.mutate({ trans: trans, type: 'delete', keys: keys });\n            }).then(function (_a) {\n                var numFailures = _a.numFailures, lastResult = _a.lastResult, failures = _a.failures;\n                if (numFailures === 0)\n                    return lastResult;\n                throw new BulkError(\"\".concat(_this.name, \".bulkDelete(): \").concat(numFailures, \" of \").concat(numKeys, \" operations failed\"), failures);\n            });\n        };\n        return Table;\n    }());\n\n    function Events(ctx) {\n        var evs = {};\n        var rv = function (eventName, subscriber) {\n            if (subscriber) {\n                var i = arguments.length, args = new Array(i - 1);\n                while (--i)\n                    args[i - 1] = arguments[i];\n                evs[eventName].subscribe.apply(null, args);\n                return ctx;\n            }\n            else if (typeof (eventName) === 'string') {\n                return evs[eventName];\n            }\n        };\n        rv.addEventType = add;\n        for (var i = 1, l = arguments.length; i < l; ++i) {\n            add(arguments[i]);\n        }\n        return rv;\n        function add(eventName, chainFunction, defaultFunction) {\n            if (typeof eventName === 'object')\n                return addConfiguredEvents(eventName);\n            if (!chainFunction)\n                chainFunction = reverseStoppableEventChain;\n            if (!defaultFunction)\n                defaultFunction = nop;\n            var context = {\n                subscribers: [],\n                fire: defaultFunction,\n                subscribe: function (cb) {\n                    if (context.subscribers.indexOf(cb) === -1) {\n                        context.subscribers.push(cb);\n                        context.fire = chainFunction(context.fire, cb);\n                    }\n                },\n                unsubscribe: function (cb) {\n                    context.subscribers = context.subscribers.filter(function (fn) { return fn !== cb; });\n                    context.fire = context.subscribers.reduce(chainFunction, defaultFunction);\n                }\n            };\n            evs[eventName] = rv[eventName] = context;\n            return context;\n        }\n        function addConfiguredEvents(cfg) {\n            keys(cfg).forEach(function (eventName) {\n                var args = cfg[eventName];\n                if (isArray(args)) {\n                    add(eventName, cfg[eventName][0], cfg[eventName][1]);\n                }\n                else if (args === 'asap') {\n                    var context = add(eventName, mirror, function fire() {\n                        var i = arguments.length, args = new Array(i);\n                        while (i--)\n                            args[i] = arguments[i];\n                        context.subscribers.forEach(function (fn) {\n                            asap$1(function fireEvent() {\n                                fn.apply(null, args);\n                            });\n                        });\n                    });\n                }\n                else\n                    throw new exceptions.InvalidArgument(\"Invalid event config\");\n            });\n        }\n    }\n\n    function makeClassConstructor(prototype, constructor) {\n        derive(constructor).from({ prototype: prototype });\n        return constructor;\n    }\n\n    function createTableConstructor(db) {\n        return makeClassConstructor(Table.prototype, function Table(name, tableSchema, trans) {\n            this.db = db;\n            this._tx = trans;\n            this.name = name;\n            this.schema = tableSchema;\n            this.hook = db._allTables[name] ? db._allTables[name].hook : Events(null, {\n                \"creating\": [hookCreatingChain, nop],\n                \"reading\": [pureFunctionChain, mirror],\n                \"updating\": [hookUpdatingChain, nop],\n                \"deleting\": [hookDeletingChain, nop]\n            });\n        });\n    }\n\n    function isPlainKeyRange(ctx, ignoreLimitFilter) {\n        return !(ctx.filter || ctx.algorithm || ctx.or) &&\n            (ignoreLimitFilter ? ctx.justLimit : !ctx.replayFilter);\n    }\n    function addFilter(ctx, fn) {\n        ctx.filter = combine(ctx.filter, fn);\n    }\n    function addReplayFilter(ctx, factory, isLimitFilter) {\n        var curr = ctx.replayFilter;\n        ctx.replayFilter = curr ? function () { return combine(curr(), factory()); } : factory;\n        ctx.justLimit = isLimitFilter && !curr;\n    }\n    function addMatchFilter(ctx, fn) {\n        ctx.isMatch = combine(ctx.isMatch, fn);\n    }\n    function getIndexOrStore(ctx, coreSchema) {\n        if (ctx.isPrimKey)\n            return coreSchema.primaryKey;\n        var index = coreSchema.getIndexByKeyPath(ctx.index);\n        if (!index)\n            throw new exceptions.Schema(\"KeyPath \" + ctx.index + \" on object store \" + coreSchema.name + \" is not indexed\");\n        return index;\n    }\n    function openCursor(ctx, coreTable, trans) {\n        var index = getIndexOrStore(ctx, coreTable.schema);\n        return coreTable.openCursor({\n            trans: trans,\n            values: !ctx.keysOnly,\n            reverse: ctx.dir === 'prev',\n            unique: !!ctx.unique,\n            query: {\n                index: index,\n                range: ctx.range\n            }\n        });\n    }\n    function iter(ctx, fn, coreTrans, coreTable) {\n        var filter = ctx.replayFilter ? combine(ctx.filter, ctx.replayFilter()) : ctx.filter;\n        if (!ctx.or) {\n            return iterate(openCursor(ctx, coreTable, coreTrans), combine(ctx.algorithm, filter), fn, !ctx.keysOnly && ctx.valueMapper);\n        }\n        else {\n            var set_1 = {};\n            var union = function (item, cursor, advance) {\n                if (!filter || filter(cursor, advance, function (result) { return cursor.stop(result); }, function (err) { return cursor.fail(err); })) {\n                    var primaryKey = cursor.primaryKey;\n                    var key = '' + primaryKey;\n                    if (key === '[object ArrayBuffer]')\n                        key = '' + new Uint8Array(primaryKey);\n                    if (!hasOwn(set_1, key)) {\n                        set_1[key] = true;\n                        fn(item, cursor, advance);\n                    }\n                }\n            };\n            return Promise.all([\n                ctx.or._iterate(union, coreTrans),\n                iterate(openCursor(ctx, coreTable, coreTrans), ctx.algorithm, union, !ctx.keysOnly && ctx.valueMapper)\n            ]);\n        }\n    }\n    function iterate(cursorPromise, filter, fn, valueMapper) {\n        var mappedFn = valueMapper ? function (x, c, a) { return fn(valueMapper(x), c, a); } : fn;\n        var wrappedFn = wrap(mappedFn);\n        return cursorPromise.then(function (cursor) {\n            if (cursor) {\n                return cursor.start(function () {\n                    var c = function () { return cursor.continue(); };\n                    if (!filter || filter(cursor, function (advancer) { return c = advancer; }, function (val) { cursor.stop(val); c = nop; }, function (e) { cursor.fail(e); c = nop; }))\n                        wrappedFn(cursor.value, cursor, function (advancer) { return c = advancer; });\n                    c();\n                });\n            }\n        });\n    }\n\n    var PropModSymbol = Symbol();\n    var PropModification =  (function () {\n        function PropModification(spec) {\n            Object.assign(this, spec);\n        }\n        PropModification.prototype.execute = function (value) {\n            var _a;\n            if (this.add !== undefined) {\n                var term = this.add;\n                if (isArray(term)) {\n                    return __spreadArray(__spreadArray([], (isArray(value) ? value : []), true), term, true).sort();\n                }\n                if (typeof term === 'number')\n                    return (Number(value) || 0) + term;\n                if (typeof term === 'bigint') {\n                    try {\n                        return BigInt(value) + term;\n                    }\n                    catch (_b) {\n                        return BigInt(0) + term;\n                    }\n                }\n                throw new TypeError(\"Invalid term \".concat(term));\n            }\n            if (this.remove !== undefined) {\n                var subtrahend_1 = this.remove;\n                if (isArray(subtrahend_1)) {\n                    return isArray(value) ? value.filter(function (item) { return !subtrahend_1.includes(item); }).sort() : [];\n                }\n                if (typeof subtrahend_1 === 'number')\n                    return Number(value) - subtrahend_1;\n                if (typeof subtrahend_1 === 'bigint') {\n                    try {\n                        return BigInt(value) - subtrahend_1;\n                    }\n                    catch (_c) {\n                        return BigInt(0) - subtrahend_1;\n                    }\n                }\n                throw new TypeError(\"Invalid subtrahend \".concat(subtrahend_1));\n            }\n            var prefixToReplace = (_a = this.replacePrefix) === null || _a === void 0 ? void 0 : _a[0];\n            if (prefixToReplace && typeof value === 'string' && value.startsWith(prefixToReplace)) {\n                return this.replacePrefix[1] + value.substring(prefixToReplace.length);\n            }\n            return value;\n        };\n        return PropModification;\n    }());\n\n    var Collection =  (function () {\n        function Collection() {\n        }\n        Collection.prototype._read = function (fn, cb) {\n            var ctx = this._ctx;\n            return ctx.error ?\n                ctx.table._trans(null, rejection.bind(null, ctx.error)) :\n                ctx.table._trans('readonly', fn).then(cb);\n        };\n        Collection.prototype._write = function (fn) {\n            var ctx = this._ctx;\n            return ctx.error ?\n                ctx.table._trans(null, rejection.bind(null, ctx.error)) :\n                ctx.table._trans('readwrite', fn, \"locked\");\n        };\n        Collection.prototype._addAlgorithm = function (fn) {\n            var ctx = this._ctx;\n            ctx.algorithm = combine(ctx.algorithm, fn);\n        };\n        Collection.prototype._iterate = function (fn, coreTrans) {\n            return iter(this._ctx, fn, coreTrans, this._ctx.table.core);\n        };\n        Collection.prototype.clone = function (props) {\n            var rv = Object.create(this.constructor.prototype), ctx = Object.create(this._ctx);\n            if (props)\n                extend(ctx, props);\n            rv._ctx = ctx;\n            return rv;\n        };\n        Collection.prototype.raw = function () {\n            this._ctx.valueMapper = null;\n            return this;\n        };\n        Collection.prototype.each = function (fn) {\n            var ctx = this._ctx;\n            return this._read(function (trans) { return iter(ctx, fn, trans, ctx.table.core); });\n        };\n        Collection.prototype.count = function (cb) {\n            var _this = this;\n            return this._read(function (trans) {\n                var ctx = _this._ctx;\n                var coreTable = ctx.table.core;\n                if (isPlainKeyRange(ctx, true)) {\n                    return coreTable.count({\n                        trans: trans,\n                        query: {\n                            index: getIndexOrStore(ctx, coreTable.schema),\n                            range: ctx.range\n                        }\n                    }).then(function (count) { return Math.min(count, ctx.limit); });\n                }\n                else {\n                    var count = 0;\n                    return iter(ctx, function () { ++count; return false; }, trans, coreTable)\n                        .then(function () { return count; });\n                }\n            }).then(cb);\n        };\n        Collection.prototype.sortBy = function (keyPath, cb) {\n            var parts = keyPath.split('.').reverse(), lastPart = parts[0], lastIndex = parts.length - 1;\n            function getval(obj, i) {\n                if (i)\n                    return getval(obj[parts[i]], i - 1);\n                return obj[lastPart];\n            }\n            var order = this._ctx.dir === \"next\" ? 1 : -1;\n            function sorter(a, b) {\n                var aVal = getval(a, lastIndex), bVal = getval(b, lastIndex);\n                return cmp(aVal, bVal) * order;\n            }\n            return this.toArray(function (a) {\n                return a.sort(sorter);\n            }).then(cb);\n        };\n        Collection.prototype.toArray = function (cb) {\n            var _this = this;\n            return this._read(function (trans) {\n                var ctx = _this._ctx;\n                if (ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {\n                    var valueMapper_1 = ctx.valueMapper;\n                    var index = getIndexOrStore(ctx, ctx.table.core.schema);\n                    return ctx.table.core.query({\n                        trans: trans,\n                        limit: ctx.limit,\n                        values: true,\n                        query: {\n                            index: index,\n                            range: ctx.range\n                        }\n                    }).then(function (_a) {\n                        var result = _a.result;\n                        return valueMapper_1 ? result.map(valueMapper_1) : result;\n                    });\n                }\n                else {\n                    var a_1 = [];\n                    return iter(ctx, function (item) { return a_1.push(item); }, trans, ctx.table.core).then(function () { return a_1; });\n                }\n            }, cb);\n        };\n        Collection.prototype.offset = function (offset) {\n            var ctx = this._ctx;\n            if (offset <= 0)\n                return this;\n            ctx.offset += offset;\n            if (isPlainKeyRange(ctx)) {\n                addReplayFilter(ctx, function () {\n                    var offsetLeft = offset;\n                    return function (cursor, advance) {\n                        if (offsetLeft === 0)\n                            return true;\n                        if (offsetLeft === 1) {\n                            --offsetLeft;\n                            return false;\n                        }\n                        advance(function () {\n                            cursor.advance(offsetLeft);\n                            offsetLeft = 0;\n                        });\n                        return false;\n                    };\n                });\n            }\n            else {\n                addReplayFilter(ctx, function () {\n                    var offsetLeft = offset;\n                    return function () { return (--offsetLeft < 0); };\n                });\n            }\n            return this;\n        };\n        Collection.prototype.limit = function (numRows) {\n            this._ctx.limit = Math.min(this._ctx.limit, numRows);\n            addReplayFilter(this._ctx, function () {\n                var rowsLeft = numRows;\n                return function (cursor, advance, resolve) {\n                    if (--rowsLeft <= 0)\n                        advance(resolve);\n                    return rowsLeft >= 0;\n                };\n            }, true);\n            return this;\n        };\n        Collection.prototype.until = function (filterFunction, bIncludeStopEntry) {\n            addFilter(this._ctx, function (cursor, advance, resolve) {\n                if (filterFunction(cursor.value)) {\n                    advance(resolve);\n                    return bIncludeStopEntry;\n                }\n                else {\n                    return true;\n                }\n            });\n            return this;\n        };\n        Collection.prototype.first = function (cb) {\n            return this.limit(1).toArray(function (a) { return a[0]; }).then(cb);\n        };\n        Collection.prototype.last = function (cb) {\n            return this.reverse().first(cb);\n        };\n        Collection.prototype.filter = function (filterFunction) {\n            addFilter(this._ctx, function (cursor) {\n                return filterFunction(cursor.value);\n            });\n            addMatchFilter(this._ctx, filterFunction);\n            return this;\n        };\n        Collection.prototype.and = function (filter) {\n            return this.filter(filter);\n        };\n        Collection.prototype.or = function (indexName) {\n            return new this.db.WhereClause(this._ctx.table, indexName, this);\n        };\n        Collection.prototype.reverse = function () {\n            this._ctx.dir = (this._ctx.dir === \"prev\" ? \"next\" : \"prev\");\n            if (this._ondirectionchange)\n                this._ondirectionchange(this._ctx.dir);\n            return this;\n        };\n        Collection.prototype.desc = function () {\n            return this.reverse();\n        };\n        Collection.prototype.eachKey = function (cb) {\n            var ctx = this._ctx;\n            ctx.keysOnly = !ctx.isMatch;\n            return this.each(function (val, cursor) { cb(cursor.key, cursor); });\n        };\n        Collection.prototype.eachUniqueKey = function (cb) {\n            this._ctx.unique = \"unique\";\n            return this.eachKey(cb);\n        };\n        Collection.prototype.eachPrimaryKey = function (cb) {\n            var ctx = this._ctx;\n            ctx.keysOnly = !ctx.isMatch;\n            return this.each(function (val, cursor) { cb(cursor.primaryKey, cursor); });\n        };\n        Collection.prototype.keys = function (cb) {\n            var ctx = this._ctx;\n            ctx.keysOnly = !ctx.isMatch;\n            var a = [];\n            return this.each(function (item, cursor) {\n                a.push(cursor.key);\n            }).then(function () {\n                return a;\n            }).then(cb);\n        };\n        Collection.prototype.primaryKeys = function (cb) {\n            var ctx = this._ctx;\n            if (ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {\n                return this._read(function (trans) {\n                    var index = getIndexOrStore(ctx, ctx.table.core.schema);\n                    return ctx.table.core.query({\n                        trans: trans,\n                        values: false,\n                        limit: ctx.limit,\n                        query: {\n                            index: index,\n                            range: ctx.range\n                        }\n                    });\n                }).then(function (_a) {\n                    var result = _a.result;\n                    return result;\n                }).then(cb);\n            }\n            ctx.keysOnly = !ctx.isMatch;\n            var a = [];\n            return this.each(function (item, cursor) {\n                a.push(cursor.primaryKey);\n            }).then(function () {\n                return a;\n            }).then(cb);\n        };\n        Collection.prototype.uniqueKeys = function (cb) {\n            this._ctx.unique = \"unique\";\n            return this.keys(cb);\n        };\n        Collection.prototype.firstKey = function (cb) {\n            return this.limit(1).keys(function (a) { return a[0]; }).then(cb);\n        };\n        Collection.prototype.lastKey = function (cb) {\n            return this.reverse().firstKey(cb);\n        };\n        Collection.prototype.distinct = function () {\n            var ctx = this._ctx, idx = ctx.index && ctx.table.schema.idxByName[ctx.index];\n            if (!idx || !idx.multi)\n                return this;\n            var set = {};\n            addFilter(this._ctx, function (cursor) {\n                var strKey = cursor.primaryKey.toString();\n                var found = hasOwn(set, strKey);\n                set[strKey] = true;\n                return !found;\n            });\n            return this;\n        };\n        Collection.prototype.modify = function (changes) {\n            var _this = this;\n            var ctx = this._ctx;\n            return this._write(function (trans) {\n                var modifyer;\n                if (typeof changes === 'function') {\n                    modifyer = changes;\n                }\n                else {\n                    var keyPaths = keys(changes);\n                    var numKeys = keyPaths.length;\n                    modifyer = function (item) {\n                        var anythingModified = false;\n                        for (var i = 0; i < numKeys; ++i) {\n                            var keyPath = keyPaths[i];\n                            var val = changes[keyPath];\n                            var origVal = getByKeyPath(item, keyPath);\n                            if (val instanceof PropModification) {\n                                setByKeyPath(item, keyPath, val.execute(origVal));\n                                anythingModified = true;\n                            }\n                            else if (origVal !== val) {\n                                setByKeyPath(item, keyPath, val);\n                                anythingModified = true;\n                            }\n                        }\n                        return anythingModified;\n                    };\n                }\n                var coreTable = ctx.table.core;\n                var _a = coreTable.schema.primaryKey, outbound = _a.outbound, extractKey = _a.extractKey;\n                var limit = 200;\n                var modifyChunkSize = _this.db._options.modifyChunkSize;\n                if (modifyChunkSize) {\n                    if (typeof modifyChunkSize == 'object') {\n                        limit = modifyChunkSize[coreTable.name] || modifyChunkSize['*'] || 200;\n                    }\n                    else {\n                        limit = modifyChunkSize;\n                    }\n                }\n                var totalFailures = [];\n                var successCount = 0;\n                var failedKeys = [];\n                var applyMutateResult = function (expectedCount, res) {\n                    var failures = res.failures, numFailures = res.numFailures;\n                    successCount += expectedCount - numFailures;\n                    for (var _i = 0, _a = keys(failures); _i < _a.length; _i++) {\n                        var pos = _a[_i];\n                        totalFailures.push(failures[pos]);\n                    }\n                };\n                return _this.clone().primaryKeys().then(function (keys) {\n                    var criteria = isPlainKeyRange(ctx) &&\n                        ctx.limit === Infinity &&\n                        (typeof changes !== 'function' || changes === deleteCallback) && {\n                        index: ctx.index,\n                        range: ctx.range\n                    };\n                    var nextChunk = function (offset) {\n                        var count = Math.min(limit, keys.length - offset);\n                        return coreTable.getMany({\n                            trans: trans,\n                            keys: keys.slice(offset, offset + count),\n                            cache: \"immutable\"\n                        }).then(function (values) {\n                            var addValues = [];\n                            var putValues = [];\n                            var putKeys = outbound ? [] : null;\n                            var deleteKeys = [];\n                            for (var i = 0; i < count; ++i) {\n                                var origValue = values[i];\n                                var ctx_1 = {\n                                    value: deepClone(origValue),\n                                    primKey: keys[offset + i]\n                                };\n                                if (modifyer.call(ctx_1, ctx_1.value, ctx_1) !== false) {\n                                    if (ctx_1.value == null) {\n                                        deleteKeys.push(keys[offset + i]);\n                                    }\n                                    else if (!outbound && cmp(extractKey(origValue), extractKey(ctx_1.value)) !== 0) {\n                                        deleteKeys.push(keys[offset + i]);\n                                        addValues.push(ctx_1.value);\n                                    }\n                                    else {\n                                        putValues.push(ctx_1.value);\n                                        if (outbound)\n                                            putKeys.push(keys[offset + i]);\n                                    }\n                                }\n                            }\n                            return Promise.resolve(addValues.length > 0 &&\n                                coreTable.mutate({ trans: trans, type: 'add', values: addValues })\n                                    .then(function (res) {\n                                    for (var pos in res.failures) {\n                                        deleteKeys.splice(parseInt(pos), 1);\n                                    }\n                                    applyMutateResult(addValues.length, res);\n                                })).then(function () { return (putValues.length > 0 || (criteria && typeof changes === 'object')) &&\n                                coreTable.mutate({\n                                    trans: trans,\n                                    type: 'put',\n                                    keys: putKeys,\n                                    values: putValues,\n                                    criteria: criteria,\n                                    changeSpec: typeof changes !== 'function'\n                                        && changes,\n                                    isAdditionalChunk: offset > 0\n                                }).then(function (res) { return applyMutateResult(putValues.length, res); }); }).then(function () { return (deleteKeys.length > 0 || (criteria && changes === deleteCallback)) &&\n                                coreTable.mutate({\n                                    trans: trans,\n                                    type: 'delete',\n                                    keys: deleteKeys,\n                                    criteria: criteria,\n                                    isAdditionalChunk: offset > 0\n                                }).then(function (res) { return applyMutateResult(deleteKeys.length, res); }); }).then(function () {\n                                return keys.length > offset + count && nextChunk(offset + limit);\n                            });\n                        });\n                    };\n                    return nextChunk(0).then(function () {\n                        if (totalFailures.length > 0)\n                            throw new ModifyError(\"Error modifying one or more objects\", totalFailures, successCount, failedKeys);\n                        return keys.length;\n                    });\n                });\n            });\n        };\n        Collection.prototype.delete = function () {\n            var ctx = this._ctx, range = ctx.range;\n            if (isPlainKeyRange(ctx) &&\n                (ctx.isPrimKey || range.type === 3 ))\n             {\n                return this._write(function (trans) {\n                    var primaryKey = ctx.table.core.schema.primaryKey;\n                    var coreRange = range;\n                    return ctx.table.core.count({ trans: trans, query: { index: primaryKey, range: coreRange } }).then(function (count) {\n                        return ctx.table.core.mutate({ trans: trans, type: 'deleteRange', range: coreRange })\n                            .then(function (_a) {\n                            var failures = _a.failures; _a.lastResult; _a.results; var numFailures = _a.numFailures;\n                            if (numFailures)\n                                throw new ModifyError(\"Could not delete some values\", Object.keys(failures).map(function (pos) { return failures[pos]; }), count - numFailures);\n                            return count - numFailures;\n                        });\n                    });\n                });\n            }\n            return this.modify(deleteCallback);\n        };\n        return Collection;\n    }());\n    var deleteCallback = function (value, ctx) { return ctx.value = null; };\n\n    function createCollectionConstructor(db) {\n        return makeClassConstructor(Collection.prototype, function Collection(whereClause, keyRangeGenerator) {\n            this.db = db;\n            var keyRange = AnyRange, error = null;\n            if (keyRangeGenerator)\n                try {\n                    keyRange = keyRangeGenerator();\n                }\n                catch (ex) {\n                    error = ex;\n                }\n            var whereCtx = whereClause._ctx;\n            var table = whereCtx.table;\n            var readingHook = table.hook.reading.fire;\n            this._ctx = {\n                table: table,\n                index: whereCtx.index,\n                isPrimKey: (!whereCtx.index || (table.schema.primKey.keyPath && whereCtx.index === table.schema.primKey.name)),\n                range: keyRange,\n                keysOnly: false,\n                dir: \"next\",\n                unique: \"\",\n                algorithm: null,\n                filter: null,\n                replayFilter: null,\n                justLimit: true,\n                isMatch: null,\n                offset: 0,\n                limit: Infinity,\n                error: error,\n                or: whereCtx.or,\n                valueMapper: readingHook !== mirror ? readingHook : null\n            };\n        });\n    }\n\n    function simpleCompare(a, b) {\n        return a < b ? -1 : a === b ? 0 : 1;\n    }\n    function simpleCompareReverse(a, b) {\n        return a > b ? -1 : a === b ? 0 : 1;\n    }\n\n    function fail(collectionOrWhereClause, err, T) {\n        var collection = collectionOrWhereClause instanceof WhereClause ?\n            new collectionOrWhereClause.Collection(collectionOrWhereClause) :\n            collectionOrWhereClause;\n        collection._ctx.error = T ? new T(err) : new TypeError(err);\n        return collection;\n    }\n    function emptyCollection(whereClause) {\n        return new whereClause.Collection(whereClause, function () { return rangeEqual(\"\"); }).limit(0);\n    }\n    function upperFactory(dir) {\n        return dir === \"next\" ?\n            function (s) { return s.toUpperCase(); } :\n            function (s) { return s.toLowerCase(); };\n    }\n    function lowerFactory(dir) {\n        return dir === \"next\" ?\n            function (s) { return s.toLowerCase(); } :\n            function (s) { return s.toUpperCase(); };\n    }\n    function nextCasing(key, lowerKey, upperNeedle, lowerNeedle, cmp, dir) {\n        var length = Math.min(key.length, lowerNeedle.length);\n        var llp = -1;\n        for (var i = 0; i < length; ++i) {\n            var lwrKeyChar = lowerKey[i];\n            if (lwrKeyChar !== lowerNeedle[i]) {\n                if (cmp(key[i], upperNeedle[i]) < 0)\n                    return key.substr(0, i) + upperNeedle[i] + upperNeedle.substr(i + 1);\n                if (cmp(key[i], lowerNeedle[i]) < 0)\n                    return key.substr(0, i) + lowerNeedle[i] + upperNeedle.substr(i + 1);\n                if (llp >= 0)\n                    return key.substr(0, llp) + lowerKey[llp] + upperNeedle.substr(llp + 1);\n                return null;\n            }\n            if (cmp(key[i], lwrKeyChar) < 0)\n                llp = i;\n        }\n        if (length < lowerNeedle.length && dir === \"next\")\n            return key + upperNeedle.substr(key.length);\n        if (length < key.length && dir === \"prev\")\n            return key.substr(0, upperNeedle.length);\n        return (llp < 0 ? null : key.substr(0, llp) + lowerNeedle[llp] + upperNeedle.substr(llp + 1));\n    }\n    function addIgnoreCaseAlgorithm(whereClause, match, needles, suffix) {\n        var upper, lower, compare, upperNeedles, lowerNeedles, direction, nextKeySuffix, needlesLen = needles.length;\n        if (!needles.every(function (s) { return typeof s === 'string'; })) {\n            return fail(whereClause, STRING_EXPECTED);\n        }\n        function initDirection(dir) {\n            upper = upperFactory(dir);\n            lower = lowerFactory(dir);\n            compare = (dir === \"next\" ? simpleCompare : simpleCompareReverse);\n            var needleBounds = needles.map(function (needle) {\n                return { lower: lower(needle), upper: upper(needle) };\n            }).sort(function (a, b) {\n                return compare(a.lower, b.lower);\n            });\n            upperNeedles = needleBounds.map(function (nb) { return nb.upper; });\n            lowerNeedles = needleBounds.map(function (nb) { return nb.lower; });\n            direction = dir;\n            nextKeySuffix = (dir === \"next\" ? \"\" : suffix);\n        }\n        initDirection(\"next\");\n        var c = new whereClause.Collection(whereClause, function () { return createRange(upperNeedles[0], lowerNeedles[needlesLen - 1] + suffix); });\n        c._ondirectionchange = function (direction) {\n            initDirection(direction);\n        };\n        var firstPossibleNeedle = 0;\n        c._addAlgorithm(function (cursor, advance, resolve) {\n            var key = cursor.key;\n            if (typeof key !== 'string')\n                return false;\n            var lowerKey = lower(key);\n            if (match(lowerKey, lowerNeedles, firstPossibleNeedle)) {\n                return true;\n            }\n            else {\n                var lowestPossibleCasing = null;\n                for (var i = firstPossibleNeedle; i < needlesLen; ++i) {\n                    var casing = nextCasing(key, lowerKey, upperNeedles[i], lowerNeedles[i], compare, direction);\n                    if (casing === null && lowestPossibleCasing === null)\n                        firstPossibleNeedle = i + 1;\n                    else if (lowestPossibleCasing === null || compare(lowestPossibleCasing, casing) > 0) {\n                        lowestPossibleCasing = casing;\n                    }\n                }\n                if (lowestPossibleCasing !== null) {\n                    advance(function () { cursor.continue(lowestPossibleCasing + nextKeySuffix); });\n                }\n                else {\n                    advance(resolve);\n                }\n                return false;\n            }\n        });\n        return c;\n    }\n    function createRange(lower, upper, lowerOpen, upperOpen) {\n        return {\n            type: 2 ,\n            lower: lower,\n            upper: upper,\n            lowerOpen: lowerOpen,\n            upperOpen: upperOpen\n        };\n    }\n    function rangeEqual(value) {\n        return {\n            type: 1 ,\n            lower: value,\n            upper: value\n        };\n    }\n\n    var WhereClause =  (function () {\n        function WhereClause() {\n        }\n        Object.defineProperty(WhereClause.prototype, \"Collection\", {\n            get: function () {\n                return this._ctx.table.db.Collection;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        WhereClause.prototype.between = function (lower, upper, includeLower, includeUpper) {\n            includeLower = includeLower !== false;\n            includeUpper = includeUpper === true;\n            try {\n                if ((this._cmp(lower, upper) > 0) ||\n                    (this._cmp(lower, upper) === 0 && (includeLower || includeUpper) && !(includeLower && includeUpper)))\n                    return emptyCollection(this);\n                return new this.Collection(this, function () { return createRange(lower, upper, !includeLower, !includeUpper); });\n            }\n            catch (e) {\n                return fail(this, INVALID_KEY_ARGUMENT);\n            }\n        };\n        WhereClause.prototype.equals = function (value) {\n            if (value == null)\n                return fail(this, INVALID_KEY_ARGUMENT);\n            return new this.Collection(this, function () { return rangeEqual(value); });\n        };\n        WhereClause.prototype.above = function (value) {\n            if (value == null)\n                return fail(this, INVALID_KEY_ARGUMENT);\n            return new this.Collection(this, function () { return createRange(value, undefined, true); });\n        };\n        WhereClause.prototype.aboveOrEqual = function (value) {\n            if (value == null)\n                return fail(this, INVALID_KEY_ARGUMENT);\n            return new this.Collection(this, function () { return createRange(value, undefined, false); });\n        };\n        WhereClause.prototype.below = function (value) {\n            if (value == null)\n                return fail(this, INVALID_KEY_ARGUMENT);\n            return new this.Collection(this, function () { return createRange(undefined, value, false, true); });\n        };\n        WhereClause.prototype.belowOrEqual = function (value) {\n            if (value == null)\n                return fail(this, INVALID_KEY_ARGUMENT);\n            return new this.Collection(this, function () { return createRange(undefined, value); });\n        };\n        WhereClause.prototype.startsWith = function (str) {\n            if (typeof str !== 'string')\n                return fail(this, STRING_EXPECTED);\n            return this.between(str, str + maxString, true, true);\n        };\n        WhereClause.prototype.startsWithIgnoreCase = function (str) {\n            if (str === \"\")\n                return this.startsWith(str);\n            return addIgnoreCaseAlgorithm(this, function (x, a) { return x.indexOf(a[0]) === 0; }, [str], maxString);\n        };\n        WhereClause.prototype.equalsIgnoreCase = function (str) {\n            return addIgnoreCaseAlgorithm(this, function (x, a) { return x === a[0]; }, [str], \"\");\n        };\n        WhereClause.prototype.anyOfIgnoreCase = function () {\n            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n            if (set.length === 0)\n                return emptyCollection(this);\n            return addIgnoreCaseAlgorithm(this, function (x, a) { return a.indexOf(x) !== -1; }, set, \"\");\n        };\n        WhereClause.prototype.startsWithAnyOfIgnoreCase = function () {\n            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n            if (set.length === 0)\n                return emptyCollection(this);\n            return addIgnoreCaseAlgorithm(this, function (x, a) { return a.some(function (n) { return x.indexOf(n) === 0; }); }, set, maxString);\n        };\n        WhereClause.prototype.anyOf = function () {\n            var _this = this;\n            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n            var compare = this._cmp;\n            try {\n                set.sort(compare);\n            }\n            catch (e) {\n                return fail(this, INVALID_KEY_ARGUMENT);\n            }\n            if (set.length === 0)\n                return emptyCollection(this);\n            var c = new this.Collection(this, function () { return createRange(set[0], set[set.length - 1]); });\n            c._ondirectionchange = function (direction) {\n                compare = (direction === \"next\" ?\n                    _this._ascending :\n                    _this._descending);\n                set.sort(compare);\n            };\n            var i = 0;\n            c._addAlgorithm(function (cursor, advance, resolve) {\n                var key = cursor.key;\n                while (compare(key, set[i]) > 0) {\n                    ++i;\n                    if (i === set.length) {\n                        advance(resolve);\n                        return false;\n                    }\n                }\n                if (compare(key, set[i]) === 0) {\n                    return true;\n                }\n                else {\n                    advance(function () { cursor.continue(set[i]); });\n                    return false;\n                }\n            });\n            return c;\n        };\n        WhereClause.prototype.notEqual = function (value) {\n            return this.inAnyRange([[minKey, value], [value, this.db._maxKey]], { includeLowers: false, includeUppers: false });\n        };\n        WhereClause.prototype.noneOf = function () {\n            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n            if (set.length === 0)\n                return new this.Collection(this);\n            try {\n                set.sort(this._ascending);\n            }\n            catch (e) {\n                return fail(this, INVALID_KEY_ARGUMENT);\n            }\n            var ranges = set.reduce(function (res, val) { return res ?\n                res.concat([[res[res.length - 1][1], val]]) :\n                [[minKey, val]]; }, null);\n            ranges.push([set[set.length - 1], this.db._maxKey]);\n            return this.inAnyRange(ranges, { includeLowers: false, includeUppers: false });\n        };\n        WhereClause.prototype.inAnyRange = function (ranges, options) {\n            var _this = this;\n            var cmp = this._cmp, ascending = this._ascending, descending = this._descending, min = this._min, max = this._max;\n            if (ranges.length === 0)\n                return emptyCollection(this);\n            if (!ranges.every(function (range) {\n                return range[0] !== undefined &&\n                    range[1] !== undefined &&\n                    ascending(range[0], range[1]) <= 0;\n            })) {\n                return fail(this, \"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower\", exceptions.InvalidArgument);\n            }\n            var includeLowers = !options || options.includeLowers !== false;\n            var includeUppers = options && options.includeUppers === true;\n            function addRange(ranges, newRange) {\n                var i = 0, l = ranges.length;\n                for (; i < l; ++i) {\n                    var range = ranges[i];\n                    if (cmp(newRange[0], range[1]) < 0 && cmp(newRange[1], range[0]) > 0) {\n                        range[0] = min(range[0], newRange[0]);\n                        range[1] = max(range[1], newRange[1]);\n                        break;\n                    }\n                }\n                if (i === l)\n                    ranges.push(newRange);\n                return ranges;\n            }\n            var sortDirection = ascending;\n            function rangeSorter(a, b) { return sortDirection(a[0], b[0]); }\n            var set;\n            try {\n                set = ranges.reduce(addRange, []);\n                set.sort(rangeSorter);\n            }\n            catch (ex) {\n                return fail(this, INVALID_KEY_ARGUMENT);\n            }\n            var rangePos = 0;\n            var keyIsBeyondCurrentEntry = includeUppers ?\n                function (key) { return ascending(key, set[rangePos][1]) > 0; } :\n                function (key) { return ascending(key, set[rangePos][1]) >= 0; };\n            var keyIsBeforeCurrentEntry = includeLowers ?\n                function (key) { return descending(key, set[rangePos][0]) > 0; } :\n                function (key) { return descending(key, set[rangePos][0]) >= 0; };\n            function keyWithinCurrentRange(key) {\n                return !keyIsBeyondCurrentEntry(key) && !keyIsBeforeCurrentEntry(key);\n            }\n            var checkKey = keyIsBeyondCurrentEntry;\n            var c = new this.Collection(this, function () { return createRange(set[0][0], set[set.length - 1][1], !includeLowers, !includeUppers); });\n            c._ondirectionchange = function (direction) {\n                if (direction === \"next\") {\n                    checkKey = keyIsBeyondCurrentEntry;\n                    sortDirection = ascending;\n                }\n                else {\n                    checkKey = keyIsBeforeCurrentEntry;\n                    sortDirection = descending;\n                }\n                set.sort(rangeSorter);\n            };\n            c._addAlgorithm(function (cursor, advance, resolve) {\n                var key = cursor.key;\n                while (checkKey(key)) {\n                    ++rangePos;\n                    if (rangePos === set.length) {\n                        advance(resolve);\n                        return false;\n                    }\n                }\n                if (keyWithinCurrentRange(key)) {\n                    return true;\n                }\n                else if (_this._cmp(key, set[rangePos][1]) === 0 || _this._cmp(key, set[rangePos][0]) === 0) {\n                    return false;\n                }\n                else {\n                    advance(function () {\n                        if (sortDirection === ascending)\n                            cursor.continue(set[rangePos][0]);\n                        else\n                            cursor.continue(set[rangePos][1]);\n                    });\n                    return false;\n                }\n            });\n            return c;\n        };\n        WhereClause.prototype.startsWithAnyOf = function () {\n            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n            if (!set.every(function (s) { return typeof s === 'string'; })) {\n                return fail(this, \"startsWithAnyOf() only works with strings\");\n            }\n            if (set.length === 0)\n                return emptyCollection(this);\n            return this.inAnyRange(set.map(function (str) { return [str, str + maxString]; }));\n        };\n        return WhereClause;\n    }());\n\n    function createWhereClauseConstructor(db) {\n        return makeClassConstructor(WhereClause.prototype, function WhereClause(table, index, orCollection) {\n            this.db = db;\n            this._ctx = {\n                table: table,\n                index: index === \":id\" ? null : index,\n                or: orCollection\n            };\n            this._cmp = this._ascending = cmp;\n            this._descending = function (a, b) { return cmp(b, a); };\n            this._max = function (a, b) { return cmp(a, b) > 0 ? a : b; };\n            this._min = function (a, b) { return cmp(a, b) < 0 ? a : b; };\n            this._IDBKeyRange = db._deps.IDBKeyRange;\n            if (!this._IDBKeyRange)\n                throw new exceptions.MissingAPI();\n        });\n    }\n\n    function eventRejectHandler(reject) {\n        return wrap(function (event) {\n            preventDefault(event);\n            reject(event.target.error);\n            return false;\n        });\n    }\n    function preventDefault(event) {\n        if (event.stopPropagation)\n            event.stopPropagation();\n        if (event.preventDefault)\n            event.preventDefault();\n    }\n\n    var DEXIE_STORAGE_MUTATED_EVENT_NAME = 'storagemutated';\n    var STORAGE_MUTATED_DOM_EVENT_NAME = 'x-storagemutated-1';\n    var globalEvents = Events(null, DEXIE_STORAGE_MUTATED_EVENT_NAME);\n\n    var Transaction =  (function () {\n        function Transaction() {\n        }\n        Transaction.prototype._lock = function () {\n            assert(!PSD.global);\n            ++this._reculock;\n            if (this._reculock === 1 && !PSD.global)\n                PSD.lockOwnerFor = this;\n            return this;\n        };\n        Transaction.prototype._unlock = function () {\n            assert(!PSD.global);\n            if (--this._reculock === 0) {\n                if (!PSD.global)\n                    PSD.lockOwnerFor = null;\n                while (this._blockedFuncs.length > 0 && !this._locked()) {\n                    var fnAndPSD = this._blockedFuncs.shift();\n                    try {\n                        usePSD(fnAndPSD[1], fnAndPSD[0]);\n                    }\n                    catch (e) { }\n                }\n            }\n            return this;\n        };\n        Transaction.prototype._locked = function () {\n            return this._reculock && PSD.lockOwnerFor !== this;\n        };\n        Transaction.prototype.create = function (idbtrans) {\n            var _this = this;\n            if (!this.mode)\n                return this;\n            var idbdb = this.db.idbdb;\n            var dbOpenError = this.db._state.dbOpenError;\n            assert(!this.idbtrans);\n            if (!idbtrans && !idbdb) {\n                switch (dbOpenError && dbOpenError.name) {\n                    case \"DatabaseClosedError\":\n                        throw new exceptions.DatabaseClosed(dbOpenError);\n                    case \"MissingAPIError\":\n                        throw new exceptions.MissingAPI(dbOpenError.message, dbOpenError);\n                    default:\n                        throw new exceptions.OpenFailed(dbOpenError);\n                }\n            }\n            if (!this.active)\n                throw new exceptions.TransactionInactive();\n            assert(this._completion._state === null);\n            idbtrans = this.idbtrans = idbtrans ||\n                (this.db.core\n                    ? this.db.core.transaction(this.storeNames, this.mode, { durability: this.chromeTransactionDurability })\n                    : idbdb.transaction(this.storeNames, this.mode, { durability: this.chromeTransactionDurability }));\n            idbtrans.onerror = wrap(function (ev) {\n                preventDefault(ev);\n                _this._reject(idbtrans.error);\n            });\n            idbtrans.onabort = wrap(function (ev) {\n                preventDefault(ev);\n                _this.active && _this._reject(new exceptions.Abort(idbtrans.error));\n                _this.active = false;\n                _this.on(\"abort\").fire(ev);\n            });\n            idbtrans.oncomplete = wrap(function () {\n                _this.active = false;\n                _this._resolve();\n                if ('mutatedParts' in idbtrans) {\n                    globalEvents.storagemutated.fire(idbtrans[\"mutatedParts\"]);\n                }\n            });\n            return this;\n        };\n        Transaction.prototype._promise = function (mode, fn, bWriteLock) {\n            var _this = this;\n            if (mode === 'readwrite' && this.mode !== 'readwrite')\n                return rejection(new exceptions.ReadOnly(\"Transaction is readonly\"));\n            if (!this.active)\n                return rejection(new exceptions.TransactionInactive());\n            if (this._locked()) {\n                return new DexiePromise(function (resolve, reject) {\n                    _this._blockedFuncs.push([function () {\n                            _this._promise(mode, fn, bWriteLock).then(resolve, reject);\n                        }, PSD]);\n                });\n            }\n            else if (bWriteLock) {\n                return newScope(function () {\n                    var p = new DexiePromise(function (resolve, reject) {\n                        _this._lock();\n                        var rv = fn(resolve, reject, _this);\n                        if (rv && rv.then)\n                            rv.then(resolve, reject);\n                    });\n                    p.finally(function () { return _this._unlock(); });\n                    p._lib = true;\n                    return p;\n                });\n            }\n            else {\n                var p = new DexiePromise(function (resolve, reject) {\n                    var rv = fn(resolve, reject, _this);\n                    if (rv && rv.then)\n                        rv.then(resolve, reject);\n                });\n                p._lib = true;\n                return p;\n            }\n        };\n        Transaction.prototype._root = function () {\n            return this.parent ? this.parent._root() : this;\n        };\n        Transaction.prototype.waitFor = function (promiseLike) {\n            var root = this._root();\n            var promise = DexiePromise.resolve(promiseLike);\n            if (root._waitingFor) {\n                root._waitingFor = root._waitingFor.then(function () { return promise; });\n            }\n            else {\n                root._waitingFor = promise;\n                root._waitingQueue = [];\n                var store = root.idbtrans.objectStore(root.storeNames[0]);\n                (function spin() {\n                    ++root._spinCount;\n                    while (root._waitingQueue.length)\n                        (root._waitingQueue.shift())();\n                    if (root._waitingFor)\n                        store.get(-Infinity).onsuccess = spin;\n                }());\n            }\n            var currentWaitPromise = root._waitingFor;\n            return new DexiePromise(function (resolve, reject) {\n                promise.then(function (res) { return root._waitingQueue.push(wrap(resolve.bind(null, res))); }, function (err) { return root._waitingQueue.push(wrap(reject.bind(null, err))); }).finally(function () {\n                    if (root._waitingFor === currentWaitPromise) {\n                        root._waitingFor = null;\n                    }\n                });\n            });\n        };\n        Transaction.prototype.abort = function () {\n            if (this.active) {\n                this.active = false;\n                if (this.idbtrans)\n                    this.idbtrans.abort();\n                this._reject(new exceptions.Abort());\n            }\n        };\n        Transaction.prototype.table = function (tableName) {\n            var memoizedTables = (this._memoizedTables || (this._memoizedTables = {}));\n            if (hasOwn(memoizedTables, tableName))\n                return memoizedTables[tableName];\n            var tableSchema = this.schema[tableName];\n            if (!tableSchema) {\n                throw new exceptions.NotFound(\"Table \" + tableName + \" not part of transaction\");\n            }\n            var transactionBoundTable = new this.db.Table(tableName, tableSchema, this);\n            transactionBoundTable.core = this.db.core.table(tableName);\n            memoizedTables[tableName] = transactionBoundTable;\n            return transactionBoundTable;\n        };\n        return Transaction;\n    }());\n\n    function createTransactionConstructor(db) {\n        return makeClassConstructor(Transaction.prototype, function Transaction(mode, storeNames, dbschema, chromeTransactionDurability, parent) {\n            var _this = this;\n            this.db = db;\n            this.mode = mode;\n            this.storeNames = storeNames;\n            this.schema = dbschema;\n            this.chromeTransactionDurability = chromeTransactionDurability;\n            this.idbtrans = null;\n            this.on = Events(this, \"complete\", \"error\", \"abort\");\n            this.parent = parent || null;\n            this.active = true;\n            this._reculock = 0;\n            this._blockedFuncs = [];\n            this._resolve = null;\n            this._reject = null;\n            this._waitingFor = null;\n            this._waitingQueue = null;\n            this._spinCount = 0;\n            this._completion = new DexiePromise(function (resolve, reject) {\n                _this._resolve = resolve;\n                _this._reject = reject;\n            });\n            this._completion.then(function () {\n                _this.active = false;\n                _this.on.complete.fire();\n            }, function (e) {\n                var wasActive = _this.active;\n                _this.active = false;\n                _this.on.error.fire(e);\n                _this.parent ?\n                    _this.parent._reject(e) :\n                    wasActive && _this.idbtrans && _this.idbtrans.abort();\n                return rejection(e);\n            });\n        });\n    }\n\n    function createIndexSpec(name, keyPath, unique, multi, auto, compound, isPrimKey) {\n        return {\n            name: name,\n            keyPath: keyPath,\n            unique: unique,\n            multi: multi,\n            auto: auto,\n            compound: compound,\n            src: (unique && !isPrimKey ? '&' : '') + (multi ? '*' : '') + (auto ? \"++\" : \"\") + nameFromKeyPath(keyPath)\n        };\n    }\n    function nameFromKeyPath(keyPath) {\n        return typeof keyPath === 'string' ?\n            keyPath :\n            keyPath ? ('[' + [].join.call(keyPath, '+') + ']') : \"\";\n    }\n\n    function createTableSchema(name, primKey, indexes) {\n        return {\n            name: name,\n            primKey: primKey,\n            indexes: indexes,\n            mappedClass: null,\n            idxByName: arrayToObject(indexes, function (index) { return [index.name, index]; })\n        };\n    }\n\n    function safariMultiStoreFix(storeNames) {\n        return storeNames.length === 1 ? storeNames[0] : storeNames;\n    }\n    var getMaxKey = function (IdbKeyRange) {\n        try {\n            IdbKeyRange.only([[]]);\n            getMaxKey = function () { return [[]]; };\n            return [[]];\n        }\n        catch (e) {\n            getMaxKey = function () { return maxString; };\n            return maxString;\n        }\n    };\n\n    function getKeyExtractor(keyPath) {\n        if (keyPath == null) {\n            return function () { return undefined; };\n        }\n        else if (typeof keyPath === 'string') {\n            return getSinglePathKeyExtractor(keyPath);\n        }\n        else {\n            return function (obj) { return getByKeyPath(obj, keyPath); };\n        }\n    }\n    function getSinglePathKeyExtractor(keyPath) {\n        var split = keyPath.split('.');\n        if (split.length === 1) {\n            return function (obj) { return obj[keyPath]; };\n        }\n        else {\n            return function (obj) { return getByKeyPath(obj, keyPath); };\n        }\n    }\n\n    function arrayify(arrayLike) {\n        return [].slice.call(arrayLike);\n    }\n    var _id_counter = 0;\n    function getKeyPathAlias(keyPath) {\n        return keyPath == null ?\n            \":id\" :\n            typeof keyPath === 'string' ?\n                keyPath :\n                \"[\".concat(keyPath.join('+'), \"]\");\n    }\n    function createDBCore(db, IdbKeyRange, tmpTrans) {\n        function extractSchema(db, trans) {\n            var tables = arrayify(db.objectStoreNames);\n            return {\n                schema: {\n                    name: db.name,\n                    tables: tables.map(function (table) { return trans.objectStore(table); }).map(function (store) {\n                        var keyPath = store.keyPath, autoIncrement = store.autoIncrement;\n                        var compound = isArray(keyPath);\n                        var outbound = keyPath == null;\n                        var indexByKeyPath = {};\n                        var result = {\n                            name: store.name,\n                            primaryKey: {\n                                name: null,\n                                isPrimaryKey: true,\n                                outbound: outbound,\n                                compound: compound,\n                                keyPath: keyPath,\n                                autoIncrement: autoIncrement,\n                                unique: true,\n                                extractKey: getKeyExtractor(keyPath)\n                            },\n                            indexes: arrayify(store.indexNames).map(function (indexName) { return store.index(indexName); })\n                                .map(function (index) {\n                                var name = index.name, unique = index.unique, multiEntry = index.multiEntry, keyPath = index.keyPath;\n                                var compound = isArray(keyPath);\n                                var result = {\n                                    name: name,\n                                    compound: compound,\n                                    keyPath: keyPath,\n                                    unique: unique,\n                                    multiEntry: multiEntry,\n                                    extractKey: getKeyExtractor(keyPath)\n                                };\n                                indexByKeyPath[getKeyPathAlias(keyPath)] = result;\n                                return result;\n                            }),\n                            getIndexByKeyPath: function (keyPath) { return indexByKeyPath[getKeyPathAlias(keyPath)]; }\n                        };\n                        indexByKeyPath[\":id\"] = result.primaryKey;\n                        if (keyPath != null) {\n                            indexByKeyPath[getKeyPathAlias(keyPath)] = result.primaryKey;\n                        }\n                        return result;\n                    })\n                },\n                hasGetAll: tables.length > 0 && ('getAll' in trans.objectStore(tables[0])) &&\n                    !(typeof navigator !== 'undefined' && /Safari/.test(navigator.userAgent) &&\n                        !/(Chrome\\/|Edge\\/)/.test(navigator.userAgent) &&\n                        [].concat(navigator.userAgent.match(/Safari\\/(\\d*)/))[1] < 604)\n            };\n        }\n        function makeIDBKeyRange(range) {\n            if (range.type === 3 )\n                return null;\n            if (range.type === 4 )\n                throw new Error(\"Cannot convert never type to IDBKeyRange\");\n            var lower = range.lower, upper = range.upper, lowerOpen = range.lowerOpen, upperOpen = range.upperOpen;\n            var idbRange = lower === undefined ?\n                upper === undefined ?\n                    null :\n                    IdbKeyRange.upperBound(upper, !!upperOpen) :\n                upper === undefined ?\n                    IdbKeyRange.lowerBound(lower, !!lowerOpen) :\n                    IdbKeyRange.bound(lower, upper, !!lowerOpen, !!upperOpen);\n            return idbRange;\n        }\n        function createDbCoreTable(tableSchema) {\n            var tableName = tableSchema.name;\n            function mutate(_a) {\n                var trans = _a.trans, type = _a.type, keys = _a.keys, values = _a.values, range = _a.range;\n                return new Promise(function (resolve, reject) {\n                    resolve = wrap(resolve);\n                    var store = trans.objectStore(tableName);\n                    var outbound = store.keyPath == null;\n                    var isAddOrPut = type === \"put\" || type === \"add\";\n                    if (!isAddOrPut && type !== 'delete' && type !== 'deleteRange')\n                        throw new Error(\"Invalid operation type: \" + type);\n                    var length = (keys || values || { length: 1 }).length;\n                    if (keys && values && keys.length !== values.length) {\n                        throw new Error(\"Given keys array must have same length as given values array.\");\n                    }\n                    if (length === 0)\n                        return resolve({ numFailures: 0, failures: {}, results: [], lastResult: undefined });\n                    var req;\n                    var reqs = [];\n                    var failures = [];\n                    var numFailures = 0;\n                    var errorHandler = function (event) {\n                        ++numFailures;\n                        preventDefault(event);\n                    };\n                    if (type === 'deleteRange') {\n                        if (range.type === 4 )\n                            return resolve({ numFailures: numFailures, failures: failures, results: [], lastResult: undefined });\n                        if (range.type === 3 )\n                            reqs.push(req = store.clear());\n                        else\n                            reqs.push(req = store.delete(makeIDBKeyRange(range)));\n                    }\n                    else {\n                        var _a = isAddOrPut ?\n                            outbound ?\n                                [values, keys] :\n                                [values, null] :\n                            [keys, null], args1 = _a[0], args2 = _a[1];\n                        if (isAddOrPut) {\n                            for (var i = 0; i < length; ++i) {\n                                reqs.push(req = (args2 && args2[i] !== undefined ?\n                                    store[type](args1[i], args2[i]) :\n                                    store[type](args1[i])));\n                                req.onerror = errorHandler;\n                            }\n                        }\n                        else {\n                            for (var i = 0; i < length; ++i) {\n                                reqs.push(req = store[type](args1[i]));\n                                req.onerror = errorHandler;\n                            }\n                        }\n                    }\n                    var done = function (event) {\n                        var lastResult = event.target.result;\n                        reqs.forEach(function (req, i) { return req.error != null && (failures[i] = req.error); });\n                        resolve({\n                            numFailures: numFailures,\n                            failures: failures,\n                            results: type === \"delete\" ? keys : reqs.map(function (req) { return req.result; }),\n                            lastResult: lastResult\n                        });\n                    };\n                    req.onerror = function (event) {\n                        errorHandler(event);\n                        done(event);\n                    };\n                    req.onsuccess = done;\n                });\n            }\n            function openCursor(_a) {\n                var trans = _a.trans, values = _a.values, query = _a.query, reverse = _a.reverse, unique = _a.unique;\n                return new Promise(function (resolve, reject) {\n                    resolve = wrap(resolve);\n                    var index = query.index, range = query.range;\n                    var store = trans.objectStore(tableName);\n                    var source = index.isPrimaryKey ?\n                        store :\n                        store.index(index.name);\n                    var direction = reverse ?\n                        unique ?\n                            \"prevunique\" :\n                            \"prev\" :\n                        unique ?\n                            \"nextunique\" :\n                            \"next\";\n                    var req = values || !('openKeyCursor' in source) ?\n                        source.openCursor(makeIDBKeyRange(range), direction) :\n                        source.openKeyCursor(makeIDBKeyRange(range), direction);\n                    req.onerror = eventRejectHandler(reject);\n                    req.onsuccess = wrap(function (ev) {\n                        var cursor = req.result;\n                        if (!cursor) {\n                            resolve(null);\n                            return;\n                        }\n                        cursor.___id = ++_id_counter;\n                        cursor.done = false;\n                        var _cursorContinue = cursor.continue.bind(cursor);\n                        var _cursorContinuePrimaryKey = cursor.continuePrimaryKey;\n                        if (_cursorContinuePrimaryKey)\n                            _cursorContinuePrimaryKey = _cursorContinuePrimaryKey.bind(cursor);\n                        var _cursorAdvance = cursor.advance.bind(cursor);\n                        var doThrowCursorIsNotStarted = function () { throw new Error(\"Cursor not started\"); };\n                        var doThrowCursorIsStopped = function () { throw new Error(\"Cursor not stopped\"); };\n                        cursor.trans = trans;\n                        cursor.stop = cursor.continue = cursor.continuePrimaryKey = cursor.advance = doThrowCursorIsNotStarted;\n                        cursor.fail = wrap(reject);\n                        cursor.next = function () {\n                            var _this = this;\n                            var gotOne = 1;\n                            return this.start(function () { return gotOne-- ? _this.continue() : _this.stop(); }).then(function () { return _this; });\n                        };\n                        cursor.start = function (callback) {\n                            var iterationPromise = new Promise(function (resolveIteration, rejectIteration) {\n                                resolveIteration = wrap(resolveIteration);\n                                req.onerror = eventRejectHandler(rejectIteration);\n                                cursor.fail = rejectIteration;\n                                cursor.stop = function (value) {\n                                    cursor.stop = cursor.continue = cursor.continuePrimaryKey = cursor.advance = doThrowCursorIsStopped;\n                                    resolveIteration(value);\n                                };\n                            });\n                            var guardedCallback = function () {\n                                if (req.result) {\n                                    try {\n                                        callback();\n                                    }\n                                    catch (err) {\n                                        cursor.fail(err);\n                                    }\n                                }\n                                else {\n                                    cursor.done = true;\n                                    cursor.start = function () { throw new Error(\"Cursor behind last entry\"); };\n                                    cursor.stop();\n                                }\n                            };\n                            req.onsuccess = wrap(function (ev) {\n                                req.onsuccess = guardedCallback;\n                                guardedCallback();\n                            });\n                            cursor.continue = _cursorContinue;\n                            cursor.continuePrimaryKey = _cursorContinuePrimaryKey;\n                            cursor.advance = _cursorAdvance;\n                            guardedCallback();\n                            return iterationPromise;\n                        };\n                        resolve(cursor);\n                    }, reject);\n                });\n            }\n            function query(hasGetAll) {\n                return function (request) {\n                    return new Promise(function (resolve, reject) {\n                        resolve = wrap(resolve);\n                        var trans = request.trans, values = request.values, limit = request.limit, query = request.query;\n                        var nonInfinitLimit = limit === Infinity ? undefined : limit;\n                        var index = query.index, range = query.range;\n                        var store = trans.objectStore(tableName);\n                        var source = index.isPrimaryKey ? store : store.index(index.name);\n                        var idbKeyRange = makeIDBKeyRange(range);\n                        if (limit === 0)\n                            return resolve({ result: [] });\n                        if (hasGetAll) {\n                            var req = values ?\n                                source.getAll(idbKeyRange, nonInfinitLimit) :\n                                source.getAllKeys(idbKeyRange, nonInfinitLimit);\n                            req.onsuccess = function (event) { return resolve({ result: event.target.result }); };\n                            req.onerror = eventRejectHandler(reject);\n                        }\n                        else {\n                            var count_1 = 0;\n                            var req_1 = values || !('openKeyCursor' in source) ?\n                                source.openCursor(idbKeyRange) :\n                                source.openKeyCursor(idbKeyRange);\n                            var result_1 = [];\n                            req_1.onsuccess = function (event) {\n                                var cursor = req_1.result;\n                                if (!cursor)\n                                    return resolve({ result: result_1 });\n                                result_1.push(values ? cursor.value : cursor.primaryKey);\n                                if (++count_1 === limit)\n                                    return resolve({ result: result_1 });\n                                cursor.continue();\n                            };\n                            req_1.onerror = eventRejectHandler(reject);\n                        }\n                    });\n                };\n            }\n            return {\n                name: tableName,\n                schema: tableSchema,\n                mutate: mutate,\n                getMany: function (_a) {\n                    var trans = _a.trans, keys = _a.keys;\n                    return new Promise(function (resolve, reject) {\n                        resolve = wrap(resolve);\n                        var store = trans.objectStore(tableName);\n                        var length = keys.length;\n                        var result = new Array(length);\n                        var keyCount = 0;\n                        var callbackCount = 0;\n                        var req;\n                        var successHandler = function (event) {\n                            var req = event.target;\n                            if ((result[req._pos] = req.result) != null)\n                                ;\n                            if (++callbackCount === keyCount)\n                                resolve(result);\n                        };\n                        var errorHandler = eventRejectHandler(reject);\n                        for (var i = 0; i < length; ++i) {\n                            var key = keys[i];\n                            if (key != null) {\n                                req = store.get(keys[i]);\n                                req._pos = i;\n                                req.onsuccess = successHandler;\n                                req.onerror = errorHandler;\n                                ++keyCount;\n                            }\n                        }\n                        if (keyCount === 0)\n                            resolve(result);\n                    });\n                },\n                get: function (_a) {\n                    var trans = _a.trans, key = _a.key;\n                    return new Promise(function (resolve, reject) {\n                        resolve = wrap(resolve);\n                        var store = trans.objectStore(tableName);\n                        var req = store.get(key);\n                        req.onsuccess = function (event) { return resolve(event.target.result); };\n                        req.onerror = eventRejectHandler(reject);\n                    });\n                },\n                query: query(hasGetAll),\n                openCursor: openCursor,\n                count: function (_a) {\n                    var query = _a.query, trans = _a.trans;\n                    var index = query.index, range = query.range;\n                    return new Promise(function (resolve, reject) {\n                        var store = trans.objectStore(tableName);\n                        var source = index.isPrimaryKey ? store : store.index(index.name);\n                        var idbKeyRange = makeIDBKeyRange(range);\n                        var req = idbKeyRange ? source.count(idbKeyRange) : source.count();\n                        req.onsuccess = wrap(function (ev) { return resolve(ev.target.result); });\n                        req.onerror = eventRejectHandler(reject);\n                    });\n                }\n            };\n        }\n        var _a = extractSchema(db, tmpTrans), schema = _a.schema, hasGetAll = _a.hasGetAll;\n        var tables = schema.tables.map(function (tableSchema) { return createDbCoreTable(tableSchema); });\n        var tableMap = {};\n        tables.forEach(function (table) { return tableMap[table.name] = table; });\n        return {\n            stack: \"dbcore\",\n            transaction: db.transaction.bind(db),\n            table: function (name) {\n                var result = tableMap[name];\n                if (!result)\n                    throw new Error(\"Table '\".concat(name, \"' not found\"));\n                return tableMap[name];\n            },\n            MIN_KEY: -Infinity,\n            MAX_KEY: getMaxKey(IdbKeyRange),\n            schema: schema\n        };\n    }\n\n    function createMiddlewareStack(stackImpl, middlewares) {\n        return middlewares.reduce(function (down, _a) {\n            var create = _a.create;\n            return (__assign(__assign({}, down), create(down)));\n        }, stackImpl);\n    }\n    function createMiddlewareStacks(middlewares, idbdb, _a, tmpTrans) {\n        var IDBKeyRange = _a.IDBKeyRange; _a.indexedDB;\n        var dbcore = createMiddlewareStack(createDBCore(idbdb, IDBKeyRange, tmpTrans), middlewares.dbcore);\n        return {\n            dbcore: dbcore\n        };\n    }\n    function generateMiddlewareStacks(db, tmpTrans) {\n        var idbdb = tmpTrans.db;\n        var stacks = createMiddlewareStacks(db._middlewares, idbdb, db._deps, tmpTrans);\n        db.core = stacks.dbcore;\n        db.tables.forEach(function (table) {\n            var tableName = table.name;\n            if (db.core.schema.tables.some(function (tbl) { return tbl.name === tableName; })) {\n                table.core = db.core.table(tableName);\n                if (db[tableName] instanceof db.Table) {\n                    db[tableName].core = table.core;\n                }\n            }\n        });\n    }\n\n    function setApiOnPlace(db, objs, tableNames, dbschema) {\n        tableNames.forEach(function (tableName) {\n            var schema = dbschema[tableName];\n            objs.forEach(function (obj) {\n                var propDesc = getPropertyDescriptor(obj, tableName);\n                if (!propDesc || (\"value\" in propDesc && propDesc.value === undefined)) {\n                    if (obj === db.Transaction.prototype || obj instanceof db.Transaction) {\n                        setProp(obj, tableName, {\n                            get: function () { return this.table(tableName); },\n                            set: function (value) {\n                                defineProperty(this, tableName, { value: value, writable: true, configurable: true, enumerable: true });\n                            }\n                        });\n                    }\n                    else {\n                        obj[tableName] = new db.Table(tableName, schema);\n                    }\n                }\n            });\n        });\n    }\n    function removeTablesApi(db, objs) {\n        objs.forEach(function (obj) {\n            for (var key in obj) {\n                if (obj[key] instanceof db.Table)\n                    delete obj[key];\n            }\n        });\n    }\n    function lowerVersionFirst(a, b) {\n        return a._cfg.version - b._cfg.version;\n    }\n    function runUpgraders(db, oldVersion, idbUpgradeTrans, reject) {\n        var globalSchema = db._dbSchema;\n        if (idbUpgradeTrans.objectStoreNames.contains('$meta') && !globalSchema.$meta) {\n            globalSchema.$meta = createTableSchema(\"$meta\", parseIndexSyntax(\"\")[0], []);\n            db._storeNames.push('$meta');\n        }\n        var trans = db._createTransaction('readwrite', db._storeNames, globalSchema);\n        trans.create(idbUpgradeTrans);\n        trans._completion.catch(reject);\n        var rejectTransaction = trans._reject.bind(trans);\n        var transless = PSD.transless || PSD;\n        newScope(function () {\n            PSD.trans = trans;\n            PSD.transless = transless;\n            if (oldVersion === 0) {\n                keys(globalSchema).forEach(function (tableName) {\n                    createTable(idbUpgradeTrans, tableName, globalSchema[tableName].primKey, globalSchema[tableName].indexes);\n                });\n                generateMiddlewareStacks(db, idbUpgradeTrans);\n                DexiePromise.follow(function () { return db.on.populate.fire(trans); }).catch(rejectTransaction);\n            }\n            else {\n                generateMiddlewareStacks(db, idbUpgradeTrans);\n                return getExistingVersion(db, trans, oldVersion)\n                    .then(function (oldVersion) { return updateTablesAndIndexes(db, oldVersion, trans, idbUpgradeTrans); })\n                    .catch(rejectTransaction);\n            }\n        });\n    }\n    function patchCurrentVersion(db, idbUpgradeTrans) {\n        createMissingTables(db._dbSchema, idbUpgradeTrans);\n        if (idbUpgradeTrans.db.version % 10 === 0 && !idbUpgradeTrans.objectStoreNames.contains('$meta')) {\n            idbUpgradeTrans.db.createObjectStore('$meta').add(Math.ceil((idbUpgradeTrans.db.version / 10) - 1), 'version');\n        }\n        var globalSchema = buildGlobalSchema(db, db.idbdb, idbUpgradeTrans);\n        adjustToExistingIndexNames(db, db._dbSchema, idbUpgradeTrans);\n        var diff = getSchemaDiff(globalSchema, db._dbSchema);\n        var _loop_1 = function (tableChange) {\n            if (tableChange.change.length || tableChange.recreate) {\n                console.warn(\"Unable to patch indexes of table \".concat(tableChange.name, \" because it has changes on the type of index or primary key.\"));\n                return { value: void 0 };\n            }\n            var store = idbUpgradeTrans.objectStore(tableChange.name);\n            tableChange.add.forEach(function (idx) {\n                if (debug)\n                    console.debug(\"Dexie upgrade patch: Creating missing index \".concat(tableChange.name, \".\").concat(idx.src));\n                addIndex(store, idx);\n            });\n        };\n        for (var _i = 0, _a = diff.change; _i < _a.length; _i++) {\n            var tableChange = _a[_i];\n            var state_1 = _loop_1(tableChange);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n    }\n    function getExistingVersion(db, trans, oldVersion) {\n        if (trans.storeNames.includes('$meta')) {\n            return trans.table('$meta').get('version').then(function (metaVersion) {\n                return metaVersion != null ? metaVersion : oldVersion;\n            });\n        }\n        else {\n            return DexiePromise.resolve(oldVersion);\n        }\n    }\n    function updateTablesAndIndexes(db, oldVersion, trans, idbUpgradeTrans) {\n        var queue = [];\n        var versions = db._versions;\n        var globalSchema = db._dbSchema = buildGlobalSchema(db, db.idbdb, idbUpgradeTrans);\n        var versToRun = versions.filter(function (v) { return v._cfg.version >= oldVersion; });\n        if (versToRun.length === 0) {\n            return DexiePromise.resolve();\n        }\n        versToRun.forEach(function (version) {\n            queue.push(function () {\n                var oldSchema = globalSchema;\n                var newSchema = version._cfg.dbschema;\n                adjustToExistingIndexNames(db, oldSchema, idbUpgradeTrans);\n                adjustToExistingIndexNames(db, newSchema, idbUpgradeTrans);\n                globalSchema = db._dbSchema = newSchema;\n                var diff = getSchemaDiff(oldSchema, newSchema);\n                diff.add.forEach(function (tuple) {\n                    createTable(idbUpgradeTrans, tuple[0], tuple[1].primKey, tuple[1].indexes);\n                });\n                diff.change.forEach(function (change) {\n                    if (change.recreate) {\n                        throw new exceptions.Upgrade(\"Not yet support for changing primary key\");\n                    }\n                    else {\n                        var store_1 = idbUpgradeTrans.objectStore(change.name);\n                        change.add.forEach(function (idx) { return addIndex(store_1, idx); });\n                        change.change.forEach(function (idx) {\n                            store_1.deleteIndex(idx.name);\n                            addIndex(store_1, idx);\n                        });\n                        change.del.forEach(function (idxName) { return store_1.deleteIndex(idxName); });\n                    }\n                });\n                var contentUpgrade = version._cfg.contentUpgrade;\n                if (contentUpgrade && version._cfg.version > oldVersion) {\n                    generateMiddlewareStacks(db, idbUpgradeTrans);\n                    trans._memoizedTables = {};\n                    var upgradeSchema_1 = shallowClone(newSchema);\n                    diff.del.forEach(function (table) {\n                        upgradeSchema_1[table] = oldSchema[table];\n                    });\n                    removeTablesApi(db, [db.Transaction.prototype]);\n                    setApiOnPlace(db, [db.Transaction.prototype], keys(upgradeSchema_1), upgradeSchema_1);\n                    trans.schema = upgradeSchema_1;\n                    var contentUpgradeIsAsync_1 = isAsyncFunction(contentUpgrade);\n                    if (contentUpgradeIsAsync_1) {\n                        incrementExpectedAwaits();\n                    }\n                    var returnValue_1;\n                    var promiseFollowed = DexiePromise.follow(function () {\n                        returnValue_1 = contentUpgrade(trans);\n                        if (returnValue_1) {\n                            if (contentUpgradeIsAsync_1) {\n                                var decrementor = decrementExpectedAwaits.bind(null, null);\n                                returnValue_1.then(decrementor, decrementor);\n                            }\n                        }\n                    });\n                    return (returnValue_1 && typeof returnValue_1.then === 'function' ?\n                        DexiePromise.resolve(returnValue_1) : promiseFollowed.then(function () { return returnValue_1; }));\n                }\n            });\n            queue.push(function (idbtrans) {\n                var newSchema = version._cfg.dbschema;\n                deleteRemovedTables(newSchema, idbtrans);\n                removeTablesApi(db, [db.Transaction.prototype]);\n                setApiOnPlace(db, [db.Transaction.prototype], db._storeNames, db._dbSchema);\n                trans.schema = db._dbSchema;\n            });\n            queue.push(function (idbtrans) {\n                if (db.idbdb.objectStoreNames.contains('$meta')) {\n                    if (Math.ceil(db.idbdb.version / 10) === version._cfg.version) {\n                        db.idbdb.deleteObjectStore('$meta');\n                        delete db._dbSchema.$meta;\n                        db._storeNames = db._storeNames.filter(function (name) { return name !== '$meta'; });\n                    }\n                    else {\n                        idbtrans.objectStore('$meta').put(version._cfg.version, 'version');\n                    }\n                }\n            });\n        });\n        function runQueue() {\n            return queue.length ? DexiePromise.resolve(queue.shift()(trans.idbtrans)).then(runQueue) :\n                DexiePromise.resolve();\n        }\n        return runQueue().then(function () {\n            createMissingTables(globalSchema, idbUpgradeTrans);\n        });\n    }\n    function getSchemaDiff(oldSchema, newSchema) {\n        var diff = {\n            del: [],\n            add: [],\n            change: []\n        };\n        var table;\n        for (table in oldSchema) {\n            if (!newSchema[table])\n                diff.del.push(table);\n        }\n        for (table in newSchema) {\n            var oldDef = oldSchema[table], newDef = newSchema[table];\n            if (!oldDef) {\n                diff.add.push([table, newDef]);\n            }\n            else {\n                var change = {\n                    name: table,\n                    def: newDef,\n                    recreate: false,\n                    del: [],\n                    add: [],\n                    change: []\n                };\n                if ((\n                '' + (oldDef.primKey.keyPath || '')) !== ('' + (newDef.primKey.keyPath || '')) ||\n                    (oldDef.primKey.auto !== newDef.primKey.auto)) {\n                    change.recreate = true;\n                    diff.change.push(change);\n                }\n                else {\n                    var oldIndexes = oldDef.idxByName;\n                    var newIndexes = newDef.idxByName;\n                    var idxName = void 0;\n                    for (idxName in oldIndexes) {\n                        if (!newIndexes[idxName])\n                            change.del.push(idxName);\n                    }\n                    for (idxName in newIndexes) {\n                        var oldIdx = oldIndexes[idxName], newIdx = newIndexes[idxName];\n                        if (!oldIdx)\n                            change.add.push(newIdx);\n                        else if (oldIdx.src !== newIdx.src)\n                            change.change.push(newIdx);\n                    }\n                    if (change.del.length > 0 || change.add.length > 0 || change.change.length > 0) {\n                        diff.change.push(change);\n                    }\n                }\n            }\n        }\n        return diff;\n    }\n    function createTable(idbtrans, tableName, primKey, indexes) {\n        var store = idbtrans.db.createObjectStore(tableName, primKey.keyPath ?\n            { keyPath: primKey.keyPath, autoIncrement: primKey.auto } :\n            { autoIncrement: primKey.auto });\n        indexes.forEach(function (idx) { return addIndex(store, idx); });\n        return store;\n    }\n    function createMissingTables(newSchema, idbtrans) {\n        keys(newSchema).forEach(function (tableName) {\n            if (!idbtrans.db.objectStoreNames.contains(tableName)) {\n                if (debug)\n                    console.debug('Dexie: Creating missing table', tableName);\n                createTable(idbtrans, tableName, newSchema[tableName].primKey, newSchema[tableName].indexes);\n            }\n        });\n    }\n    function deleteRemovedTables(newSchema, idbtrans) {\n        [].slice.call(idbtrans.db.objectStoreNames).forEach(function (storeName) {\n            return newSchema[storeName] == null && idbtrans.db.deleteObjectStore(storeName);\n        });\n    }\n    function addIndex(store, idx) {\n        store.createIndex(idx.name, idx.keyPath, { unique: idx.unique, multiEntry: idx.multi });\n    }\n    function buildGlobalSchema(db, idbdb, tmpTrans) {\n        var globalSchema = {};\n        var dbStoreNames = slice(idbdb.objectStoreNames, 0);\n        dbStoreNames.forEach(function (storeName) {\n            var store = tmpTrans.objectStore(storeName);\n            var keyPath = store.keyPath;\n            var primKey = createIndexSpec(nameFromKeyPath(keyPath), keyPath || \"\", true, false, !!store.autoIncrement, keyPath && typeof keyPath !== \"string\", true);\n            var indexes = [];\n            for (var j = 0; j < store.indexNames.length; ++j) {\n                var idbindex = store.index(store.indexNames[j]);\n                keyPath = idbindex.keyPath;\n                var index = createIndexSpec(idbindex.name, keyPath, !!idbindex.unique, !!idbindex.multiEntry, false, keyPath && typeof keyPath !== \"string\", false);\n                indexes.push(index);\n            }\n            globalSchema[storeName] = createTableSchema(storeName, primKey, indexes);\n        });\n        return globalSchema;\n    }\n    function readGlobalSchema(db, idbdb, tmpTrans) {\n        db.verno = idbdb.version / 10;\n        var globalSchema = db._dbSchema = buildGlobalSchema(db, idbdb, tmpTrans);\n        db._storeNames = slice(idbdb.objectStoreNames, 0);\n        setApiOnPlace(db, [db._allTables], keys(globalSchema), globalSchema);\n    }\n    function verifyInstalledSchema(db, tmpTrans) {\n        var installedSchema = buildGlobalSchema(db, db.idbdb, tmpTrans);\n        var diff = getSchemaDiff(installedSchema, db._dbSchema);\n        return !(diff.add.length || diff.change.some(function (ch) { return ch.add.length || ch.change.length; }));\n    }\n    function adjustToExistingIndexNames(db, schema, idbtrans) {\n        var storeNames = idbtrans.db.objectStoreNames;\n        for (var i = 0; i < storeNames.length; ++i) {\n            var storeName = storeNames[i];\n            var store = idbtrans.objectStore(storeName);\n            db._hasGetAll = 'getAll' in store;\n            for (var j = 0; j < store.indexNames.length; ++j) {\n                var indexName = store.indexNames[j];\n                var keyPath = store.index(indexName).keyPath;\n                var dexieName = typeof keyPath === 'string' ? keyPath : \"[\" + slice(keyPath).join('+') + \"]\";\n                if (schema[storeName]) {\n                    var indexSpec = schema[storeName].idxByName[dexieName];\n                    if (indexSpec) {\n                        indexSpec.name = indexName;\n                        delete schema[storeName].idxByName[dexieName];\n                        schema[storeName].idxByName[indexName] = indexSpec;\n                    }\n                }\n            }\n        }\n        if (typeof navigator !== 'undefined' && /Safari/.test(navigator.userAgent) &&\n            !/(Chrome\\/|Edge\\/)/.test(navigator.userAgent) &&\n            _global.WorkerGlobalScope && _global instanceof _global.WorkerGlobalScope &&\n            [].concat(navigator.userAgent.match(/Safari\\/(\\d*)/))[1] < 604) {\n            db._hasGetAll = false;\n        }\n    }\n    function parseIndexSyntax(primKeyAndIndexes) {\n        return primKeyAndIndexes.split(',').map(function (index, indexNum) {\n            index = index.trim();\n            var name = index.replace(/([&*]|\\+\\+)/g, \"\");\n            var keyPath = /^\\[/.test(name) ? name.match(/^\\[(.*)\\]$/)[1].split('+') : name;\n            return createIndexSpec(name, keyPath || null, /\\&/.test(index), /\\*/.test(index), /\\+\\+/.test(index), isArray(keyPath), indexNum === 0);\n        });\n    }\n\n    var Version =  (function () {\n        function Version() {\n        }\n        Version.prototype._parseStoresSpec = function (stores, outSchema) {\n            keys(stores).forEach(function (tableName) {\n                if (stores[tableName] !== null) {\n                    var indexes = parseIndexSyntax(stores[tableName]);\n                    var primKey = indexes.shift();\n                    primKey.unique = true;\n                    if (primKey.multi)\n                        throw new exceptions.Schema(\"Primary key cannot be multi-valued\");\n                    indexes.forEach(function (idx) {\n                        if (idx.auto)\n                            throw new exceptions.Schema(\"Only primary key can be marked as autoIncrement (++)\");\n                        if (!idx.keyPath)\n                            throw new exceptions.Schema(\"Index must have a name and cannot be an empty string\");\n                    });\n                    outSchema[tableName] = createTableSchema(tableName, primKey, indexes);\n                }\n            });\n        };\n        Version.prototype.stores = function (stores) {\n            var db = this.db;\n            this._cfg.storesSource = this._cfg.storesSource ?\n                extend(this._cfg.storesSource, stores) :\n                stores;\n            var versions = db._versions;\n            var storesSpec = {};\n            var dbschema = {};\n            versions.forEach(function (version) {\n                extend(storesSpec, version._cfg.storesSource);\n                dbschema = (version._cfg.dbschema = {});\n                version._parseStoresSpec(storesSpec, dbschema);\n            });\n            db._dbSchema = dbschema;\n            removeTablesApi(db, [db._allTables, db, db.Transaction.prototype]);\n            setApiOnPlace(db, [db._allTables, db, db.Transaction.prototype, this._cfg.tables], keys(dbschema), dbschema);\n            db._storeNames = keys(dbschema);\n            return this;\n        };\n        Version.prototype.upgrade = function (upgradeFunction) {\n            this._cfg.contentUpgrade = promisableChain(this._cfg.contentUpgrade || nop, upgradeFunction);\n            return this;\n        };\n        return Version;\n    }());\n\n    function createVersionConstructor(db) {\n        return makeClassConstructor(Version.prototype, function Version(versionNumber) {\n            this.db = db;\n            this._cfg = {\n                version: versionNumber,\n                storesSource: null,\n                dbschema: {},\n                tables: {},\n                contentUpgrade: null\n            };\n        });\n    }\n\n    function getDbNamesTable(indexedDB, IDBKeyRange) {\n        var dbNamesDB = indexedDB[\"_dbNamesDB\"];\n        if (!dbNamesDB) {\n            dbNamesDB = indexedDB[\"_dbNamesDB\"] = new Dexie$1(DBNAMES_DB, {\n                addons: [],\n                indexedDB: indexedDB,\n                IDBKeyRange: IDBKeyRange,\n            });\n            dbNamesDB.version(1).stores({ dbnames: \"name\" });\n        }\n        return dbNamesDB.table(\"dbnames\");\n    }\n    function hasDatabasesNative(indexedDB) {\n        return indexedDB && typeof indexedDB.databases === \"function\";\n    }\n    function getDatabaseNames(_a) {\n        var indexedDB = _a.indexedDB, IDBKeyRange = _a.IDBKeyRange;\n        return hasDatabasesNative(indexedDB)\n            ? Promise.resolve(indexedDB.databases()).then(function (infos) {\n                return infos\n                    .map(function (info) { return info.name; })\n                    .filter(function (name) { return name !== DBNAMES_DB; });\n            })\n            : getDbNamesTable(indexedDB, IDBKeyRange).toCollection().primaryKeys();\n    }\n    function _onDatabaseCreated(_a, name) {\n        var indexedDB = _a.indexedDB, IDBKeyRange = _a.IDBKeyRange;\n        !hasDatabasesNative(indexedDB) &&\n            name !== DBNAMES_DB &&\n            getDbNamesTable(indexedDB, IDBKeyRange).put({ name: name }).catch(nop);\n    }\n    function _onDatabaseDeleted(_a, name) {\n        var indexedDB = _a.indexedDB, IDBKeyRange = _a.IDBKeyRange;\n        !hasDatabasesNative(indexedDB) &&\n            name !== DBNAMES_DB &&\n            getDbNamesTable(indexedDB, IDBKeyRange).delete(name).catch(nop);\n    }\n\n    function vip(fn) {\n        return newScope(function () {\n            PSD.letThrough = true;\n            return fn();\n        });\n    }\n\n    function idbReady() {\n        var isSafari = !navigator.userAgentData &&\n            /Safari\\//.test(navigator.userAgent) &&\n            !/Chrom(e|ium)\\//.test(navigator.userAgent);\n        if (!isSafari || !indexedDB.databases)\n            return Promise.resolve();\n        var intervalId;\n        return new Promise(function (resolve) {\n            var tryIdb = function () { return indexedDB.databases().finally(resolve); };\n            intervalId = setInterval(tryIdb, 100);\n            tryIdb();\n        }).finally(function () { return clearInterval(intervalId); });\n    }\n\n    var _a;\n    function isEmptyRange(node) {\n        return !(\"from\" in node);\n    }\n    var RangeSet = function (fromOrTree, to) {\n        if (this) {\n            extend(this, arguments.length ? { d: 1, from: fromOrTree, to: arguments.length > 1 ? to : fromOrTree } : { d: 0 });\n        }\n        else {\n            var rv = new RangeSet();\n            if (fromOrTree && (\"d\" in fromOrTree)) {\n                extend(rv, fromOrTree);\n            }\n            return rv;\n        }\n    };\n    props(RangeSet.prototype, (_a = {\n            add: function (rangeSet) {\n                mergeRanges(this, rangeSet);\n                return this;\n            },\n            addKey: function (key) {\n                addRange(this, key, key);\n                return this;\n            },\n            addKeys: function (keys) {\n                var _this = this;\n                keys.forEach(function (key) { return addRange(_this, key, key); });\n                return this;\n            },\n            hasKey: function (key) {\n                var node = getRangeSetIterator(this).next(key).value;\n                return node && cmp(node.from, key) <= 0 && cmp(node.to, key) >= 0;\n            }\n        },\n        _a[iteratorSymbol] = function () {\n            return getRangeSetIterator(this);\n        },\n        _a));\n    function addRange(target, from, to) {\n        var diff = cmp(from, to);\n        if (isNaN(diff))\n            return;\n        if (diff > 0)\n            throw RangeError();\n        if (isEmptyRange(target))\n            return extend(target, { from: from, to: to, d: 1 });\n        var left = target.l;\n        var right = target.r;\n        if (cmp(to, target.from) < 0) {\n            left\n                ? addRange(left, from, to)\n                : (target.l = { from: from, to: to, d: 1, l: null, r: null });\n            return rebalance(target);\n        }\n        if (cmp(from, target.to) > 0) {\n            right\n                ? addRange(right, from, to)\n                : (target.r = { from: from, to: to, d: 1, l: null, r: null });\n            return rebalance(target);\n        }\n        if (cmp(from, target.from) < 0) {\n            target.from = from;\n            target.l = null;\n            target.d = right ? right.d + 1 : 1;\n        }\n        if (cmp(to, target.to) > 0) {\n            target.to = to;\n            target.r = null;\n            target.d = target.l ? target.l.d + 1 : 1;\n        }\n        var rightWasCutOff = !target.r;\n        if (left && !target.l) {\n            mergeRanges(target, left);\n        }\n        if (right && rightWasCutOff) {\n            mergeRanges(target, right);\n        }\n    }\n    function mergeRanges(target, newSet) {\n        function _addRangeSet(target, _a) {\n            var from = _a.from, to = _a.to, l = _a.l, r = _a.r;\n            addRange(target, from, to);\n            if (l)\n                _addRangeSet(target, l);\n            if (r)\n                _addRangeSet(target, r);\n        }\n        if (!isEmptyRange(newSet))\n            _addRangeSet(target, newSet);\n    }\n    function rangesOverlap(rangeSet1, rangeSet2) {\n        var i1 = getRangeSetIterator(rangeSet2);\n        var nextResult1 = i1.next();\n        if (nextResult1.done)\n            return false;\n        var a = nextResult1.value;\n        var i2 = getRangeSetIterator(rangeSet1);\n        var nextResult2 = i2.next(a.from);\n        var b = nextResult2.value;\n        while (!nextResult1.done && !nextResult2.done) {\n            if (cmp(b.from, a.to) <= 0 && cmp(b.to, a.from) >= 0)\n                return true;\n            cmp(a.from, b.from) < 0\n                ? (a = (nextResult1 = i1.next(b.from)).value)\n                : (b = (nextResult2 = i2.next(a.from)).value);\n        }\n        return false;\n    }\n    function getRangeSetIterator(node) {\n        var state = isEmptyRange(node) ? null : { s: 0, n: node };\n        return {\n            next: function (key) {\n                var keyProvided = arguments.length > 0;\n                while (state) {\n                    switch (state.s) {\n                        case 0:\n                            state.s = 1;\n                            if (keyProvided) {\n                                while (state.n.l && cmp(key, state.n.from) < 0)\n                                    state = { up: state, n: state.n.l, s: 1 };\n                            }\n                            else {\n                                while (state.n.l)\n                                    state = { up: state, n: state.n.l, s: 1 };\n                            }\n                        case 1:\n                            state.s = 2;\n                            if (!keyProvided || cmp(key, state.n.to) <= 0)\n                                return { value: state.n, done: false };\n                        case 2:\n                            if (state.n.r) {\n                                state.s = 3;\n                                state = { up: state, n: state.n.r, s: 0 };\n                                continue;\n                            }\n                        case 3:\n                            state = state.up;\n                    }\n                }\n                return { done: true };\n            },\n        };\n    }\n    function rebalance(target) {\n        var _a, _b;\n        var diff = (((_a = target.r) === null || _a === void 0 ? void 0 : _a.d) || 0) - (((_b = target.l) === null || _b === void 0 ? void 0 : _b.d) || 0);\n        var r = diff > 1 ? \"r\" : diff < -1 ? \"l\" : \"\";\n        if (r) {\n            var l = r === \"r\" ? \"l\" : \"r\";\n            var rootClone = __assign({}, target);\n            var oldRootRight = target[r];\n            target.from = oldRootRight.from;\n            target.to = oldRootRight.to;\n            target[r] = oldRootRight[r];\n            rootClone[r] = oldRootRight[l];\n            target[l] = rootClone;\n            rootClone.d = computeDepth(rootClone);\n        }\n        target.d = computeDepth(target);\n    }\n    function computeDepth(_a) {\n        var r = _a.r, l = _a.l;\n        return (r ? (l ? Math.max(r.d, l.d) : r.d) : l ? l.d : 0) + 1;\n    }\n\n    function extendObservabilitySet(target, newSet) {\n        keys(newSet).forEach(function (part) {\n            if (target[part])\n                mergeRanges(target[part], newSet[part]);\n            else\n                target[part] = cloneSimpleObjectTree(newSet[part]);\n        });\n        return target;\n    }\n\n    function obsSetsOverlap(os1, os2) {\n        return os1.all || os2.all || Object.keys(os1).some(function (key) { return os2[key] && rangesOverlap(os2[key], os1[key]); });\n    }\n\n    var cache = {};\n\n    var unsignaledParts = {};\n    var isTaskEnqueued = false;\n    function signalSubscribersLazily(part, optimistic) {\n        extendObservabilitySet(unsignaledParts, part);\n        if (!isTaskEnqueued) {\n            isTaskEnqueued = true;\n            setTimeout(function () {\n                isTaskEnqueued = false;\n                var parts = unsignaledParts;\n                unsignaledParts = {};\n                signalSubscribersNow(parts, false);\n            }, 0);\n        }\n    }\n    function signalSubscribersNow(updatedParts, deleteAffectedCacheEntries) {\n        if (deleteAffectedCacheEntries === void 0) { deleteAffectedCacheEntries = false; }\n        var queriesToSignal = new Set();\n        if (updatedParts.all) {\n            for (var _i = 0, _a = Object.values(cache); _i < _a.length; _i++) {\n                var tblCache = _a[_i];\n                collectTableSubscribers(tblCache, updatedParts, queriesToSignal, deleteAffectedCacheEntries);\n            }\n        }\n        else {\n            for (var key in updatedParts) {\n                var parts = /^idb\\:\\/\\/(.*)\\/(.*)\\//.exec(key);\n                if (parts) {\n                    var dbName = parts[1], tableName = parts[2];\n                    var tblCache = cache[\"idb://\".concat(dbName, \"/\").concat(tableName)];\n                    if (tblCache)\n                        collectTableSubscribers(tblCache, updatedParts, queriesToSignal, deleteAffectedCacheEntries);\n                }\n            }\n        }\n        queriesToSignal.forEach(function (requery) { return requery(); });\n    }\n    function collectTableSubscribers(tblCache, updatedParts, outQueriesToSignal, deleteAffectedCacheEntries) {\n        var updatedEntryLists = [];\n        for (var _i = 0, _a = Object.entries(tblCache.queries.query); _i < _a.length; _i++) {\n            var _b = _a[_i], indexName = _b[0], entries = _b[1];\n            var filteredEntries = [];\n            for (var _c = 0, entries_1 = entries; _c < entries_1.length; _c++) {\n                var entry = entries_1[_c];\n                if (obsSetsOverlap(updatedParts, entry.obsSet)) {\n                    entry.subscribers.forEach(function (requery) { return outQueriesToSignal.add(requery); });\n                }\n                else if (deleteAffectedCacheEntries) {\n                    filteredEntries.push(entry);\n                }\n            }\n            if (deleteAffectedCacheEntries)\n                updatedEntryLists.push([indexName, filteredEntries]);\n        }\n        if (deleteAffectedCacheEntries) {\n            for (var _d = 0, updatedEntryLists_1 = updatedEntryLists; _d < updatedEntryLists_1.length; _d++) {\n                var _e = updatedEntryLists_1[_d], indexName = _e[0], filteredEntries = _e[1];\n                tblCache.queries.query[indexName] = filteredEntries;\n            }\n        }\n    }\n\n    function dexieOpen(db) {\n        var state = db._state;\n        var indexedDB = db._deps.indexedDB;\n        if (state.isBeingOpened || db.idbdb)\n            return state.dbReadyPromise.then(function () { return state.dbOpenError ?\n                rejection(state.dbOpenError) :\n                db; });\n        state.isBeingOpened = true;\n        state.dbOpenError = null;\n        state.openComplete = false;\n        var openCanceller = state.openCanceller;\n        var nativeVerToOpen = Math.round(db.verno * 10);\n        var schemaPatchMode = false;\n        function throwIfCancelled() {\n            if (state.openCanceller !== openCanceller)\n                throw new exceptions.DatabaseClosed('db.open() was cancelled');\n        }\n        var resolveDbReady = state.dbReadyResolve,\n        upgradeTransaction = null, wasCreated = false;\n        var tryOpenDB = function () { return new DexiePromise(function (resolve, reject) {\n            throwIfCancelled();\n            if (!indexedDB)\n                throw new exceptions.MissingAPI();\n            var dbName = db.name;\n            var req = state.autoSchema || !nativeVerToOpen ?\n                indexedDB.open(dbName) :\n                indexedDB.open(dbName, nativeVerToOpen);\n            if (!req)\n                throw new exceptions.MissingAPI();\n            req.onerror = eventRejectHandler(reject);\n            req.onblocked = wrap(db._fireOnBlocked);\n            req.onupgradeneeded = wrap(function (e) {\n                upgradeTransaction = req.transaction;\n                if (state.autoSchema && !db._options.allowEmptyDB) {\n                    req.onerror = preventDefault;\n                    upgradeTransaction.abort();\n                    req.result.close();\n                    var delreq = indexedDB.deleteDatabase(dbName);\n                    delreq.onsuccess = delreq.onerror = wrap(function () {\n                        reject(new exceptions.NoSuchDatabase(\"Database \".concat(dbName, \" doesnt exist\")));\n                    });\n                }\n                else {\n                    upgradeTransaction.onerror = eventRejectHandler(reject);\n                    var oldVer = e.oldVersion > Math.pow(2, 62) ? 0 : e.oldVersion;\n                    wasCreated = oldVer < 1;\n                    db.idbdb = req.result;\n                    if (schemaPatchMode) {\n                        patchCurrentVersion(db, upgradeTransaction);\n                    }\n                    runUpgraders(db, oldVer / 10, upgradeTransaction, reject);\n                }\n            }, reject);\n            req.onsuccess = wrap(function () {\n                upgradeTransaction = null;\n                var idbdb = db.idbdb = req.result;\n                var objectStoreNames = slice(idbdb.objectStoreNames);\n                if (objectStoreNames.length > 0)\n                    try {\n                        var tmpTrans = idbdb.transaction(safariMultiStoreFix(objectStoreNames), 'readonly');\n                        if (state.autoSchema)\n                            readGlobalSchema(db, idbdb, tmpTrans);\n                        else {\n                            adjustToExistingIndexNames(db, db._dbSchema, tmpTrans);\n                            if (!verifyInstalledSchema(db, tmpTrans) && !schemaPatchMode) {\n                                console.warn(\"Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this.\");\n                                idbdb.close();\n                                nativeVerToOpen = idbdb.version + 1;\n                                schemaPatchMode = true;\n                                return resolve(tryOpenDB());\n                            }\n                        }\n                        generateMiddlewareStacks(db, tmpTrans);\n                    }\n                    catch (e) {\n                    }\n                connections.push(db);\n                idbdb.onversionchange = wrap(function (ev) {\n                    state.vcFired = true;\n                    db.on(\"versionchange\").fire(ev);\n                });\n                idbdb.onclose = wrap(function (ev) {\n                    db.on(\"close\").fire(ev);\n                });\n                if (wasCreated)\n                    _onDatabaseCreated(db._deps, dbName);\n                resolve();\n            }, reject);\n        }).catch(function (err) {\n            switch (err === null || err === void 0 ? void 0 : err.name) {\n                case \"UnknownError\":\n                    if (state.PR1398_maxLoop > 0) {\n                        state.PR1398_maxLoop--;\n                        console.warn('Dexie: Workaround for Chrome UnknownError on open()');\n                        return tryOpenDB();\n                    }\n                    break;\n                case \"VersionError\":\n                    if (nativeVerToOpen > 0) {\n                        nativeVerToOpen = 0;\n                        return tryOpenDB();\n                    }\n                    break;\n            }\n            return DexiePromise.reject(err);\n        }); };\n        return DexiePromise.race([\n            openCanceller,\n            (typeof navigator === 'undefined' ? DexiePromise.resolve() : idbReady()).then(tryOpenDB)\n        ]).then(function () {\n            throwIfCancelled();\n            state.onReadyBeingFired = [];\n            return DexiePromise.resolve(vip(function () { return db.on.ready.fire(db.vip); })).then(function fireRemainders() {\n                if (state.onReadyBeingFired.length > 0) {\n                    var remainders_1 = state.onReadyBeingFired.reduce(promisableChain, nop);\n                    state.onReadyBeingFired = [];\n                    return DexiePromise.resolve(vip(function () { return remainders_1(db.vip); })).then(fireRemainders);\n                }\n            });\n        }).finally(function () {\n            if (state.openCanceller === openCanceller) {\n                state.onReadyBeingFired = null;\n                state.isBeingOpened = false;\n            }\n        }).catch(function (err) {\n            state.dbOpenError = err;\n            try {\n                upgradeTransaction && upgradeTransaction.abort();\n            }\n            catch (_a) { }\n            if (openCanceller === state.openCanceller) {\n                db._close();\n            }\n            return rejection(err);\n        }).finally(function () {\n            state.openComplete = true;\n            resolveDbReady();\n        }).then(function () {\n            if (wasCreated) {\n                var everything_1 = {};\n                db.tables.forEach(function (table) {\n                    table.schema.indexes.forEach(function (idx) {\n                        if (idx.name)\n                            everything_1[\"idb://\".concat(db.name, \"/\").concat(table.name, \"/\").concat(idx.name)] = new RangeSet(-Infinity, [[[]]]);\n                    });\n                    everything_1[\"idb://\".concat(db.name, \"/\").concat(table.name, \"/\")] = everything_1[\"idb://\".concat(db.name, \"/\").concat(table.name, \"/:dels\")] = new RangeSet(-Infinity, [[[]]]);\n                });\n                globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME).fire(everything_1);\n                signalSubscribersNow(everything_1, true);\n            }\n            return db;\n        });\n    }\n\n    function awaitIterator(iterator) {\n        var callNext = function (result) { return iterator.next(result); }, doThrow = function (error) { return iterator.throw(error); }, onSuccess = step(callNext), onError = step(doThrow);\n        function step(getNext) {\n            return function (val) {\n                var next = getNext(val), value = next.value;\n                return next.done ? value :\n                    (!value || typeof value.then !== 'function' ?\n                        isArray(value) ? Promise.all(value).then(onSuccess, onError) : onSuccess(value) :\n                        value.then(onSuccess, onError));\n            };\n        }\n        return step(callNext)();\n    }\n\n    function extractTransactionArgs(mode, _tableArgs_, scopeFunc) {\n        var i = arguments.length;\n        if (i < 2)\n            throw new exceptions.InvalidArgument(\"Too few arguments\");\n        var args = new Array(i - 1);\n        while (--i)\n            args[i - 1] = arguments[i];\n        scopeFunc = args.pop();\n        var tables = flatten(args);\n        return [mode, tables, scopeFunc];\n    }\n    function enterTransactionScope(db, mode, storeNames, parentTransaction, scopeFunc) {\n        return DexiePromise.resolve().then(function () {\n            var transless = PSD.transless || PSD;\n            var trans = db._createTransaction(mode, storeNames, db._dbSchema, parentTransaction);\n            trans.explicit = true;\n            var zoneProps = {\n                trans: trans,\n                transless: transless\n            };\n            if (parentTransaction) {\n                trans.idbtrans = parentTransaction.idbtrans;\n            }\n            else {\n                try {\n                    trans.create();\n                    trans.idbtrans._explicit = true;\n                    db._state.PR1398_maxLoop = 3;\n                }\n                catch (ex) {\n                    if (ex.name === errnames.InvalidState && db.isOpen() && --db._state.PR1398_maxLoop > 0) {\n                        console.warn('Dexie: Need to reopen db');\n                        db.close({ disableAutoOpen: false });\n                        return db.open().then(function () { return enterTransactionScope(db, mode, storeNames, null, scopeFunc); });\n                    }\n                    return rejection(ex);\n                }\n            }\n            var scopeFuncIsAsync = isAsyncFunction(scopeFunc);\n            if (scopeFuncIsAsync) {\n                incrementExpectedAwaits();\n            }\n            var returnValue;\n            var promiseFollowed = DexiePromise.follow(function () {\n                returnValue = scopeFunc.call(trans, trans);\n                if (returnValue) {\n                    if (scopeFuncIsAsync) {\n                        var decrementor = decrementExpectedAwaits.bind(null, null);\n                        returnValue.then(decrementor, decrementor);\n                    }\n                    else if (typeof returnValue.next === 'function' && typeof returnValue.throw === 'function') {\n                        returnValue = awaitIterator(returnValue);\n                    }\n                }\n            }, zoneProps);\n            return (returnValue && typeof returnValue.then === 'function' ?\n                DexiePromise.resolve(returnValue).then(function (x) { return trans.active ?\n                    x\n                    : rejection(new exceptions.PrematureCommit(\"Transaction committed too early. See http://bit.ly/2kdckMn\")); })\n                : promiseFollowed.then(function () { return returnValue; })).then(function (x) {\n                if (parentTransaction)\n                    trans._resolve();\n                return trans._completion.then(function () { return x; });\n            }).catch(function (e) {\n                trans._reject(e);\n                return rejection(e);\n            });\n        });\n    }\n\n    function pad(a, value, count) {\n        var result = isArray(a) ? a.slice() : [a];\n        for (var i = 0; i < count; ++i)\n            result.push(value);\n        return result;\n    }\n    function createVirtualIndexMiddleware(down) {\n        return __assign(__assign({}, down), { table: function (tableName) {\n                var table = down.table(tableName);\n                var schema = table.schema;\n                var indexLookup = {};\n                var allVirtualIndexes = [];\n                function addVirtualIndexes(keyPath, keyTail, lowLevelIndex) {\n                    var keyPathAlias = getKeyPathAlias(keyPath);\n                    var indexList = (indexLookup[keyPathAlias] = indexLookup[keyPathAlias] || []);\n                    var keyLength = keyPath == null ? 0 : typeof keyPath === 'string' ? 1 : keyPath.length;\n                    var isVirtual = keyTail > 0;\n                    var virtualIndex = __assign(__assign({}, lowLevelIndex), { name: isVirtual\n                            ? \"\".concat(keyPathAlias, \"(virtual-from:\").concat(lowLevelIndex.name, \")\")\n                            : lowLevelIndex.name, lowLevelIndex: lowLevelIndex, isVirtual: isVirtual, keyTail: keyTail, keyLength: keyLength, extractKey: getKeyExtractor(keyPath), unique: !isVirtual && lowLevelIndex.unique });\n                    indexList.push(virtualIndex);\n                    if (!virtualIndex.isPrimaryKey) {\n                        allVirtualIndexes.push(virtualIndex);\n                    }\n                    if (keyLength > 1) {\n                        var virtualKeyPath = keyLength === 2 ?\n                            keyPath[0] :\n                            keyPath.slice(0, keyLength - 1);\n                        addVirtualIndexes(virtualKeyPath, keyTail + 1, lowLevelIndex);\n                    }\n                    indexList.sort(function (a, b) { return a.keyTail - b.keyTail; });\n                    return virtualIndex;\n                }\n                var primaryKey = addVirtualIndexes(schema.primaryKey.keyPath, 0, schema.primaryKey);\n                indexLookup[\":id\"] = [primaryKey];\n                for (var _i = 0, _a = schema.indexes; _i < _a.length; _i++) {\n                    var index = _a[_i];\n                    addVirtualIndexes(index.keyPath, 0, index);\n                }\n                function findBestIndex(keyPath) {\n                    var result = indexLookup[getKeyPathAlias(keyPath)];\n                    return result && result[0];\n                }\n                function translateRange(range, keyTail) {\n                    return {\n                        type: range.type === 1  ?\n                            2  :\n                            range.type,\n                        lower: pad(range.lower, range.lowerOpen ? down.MAX_KEY : down.MIN_KEY, keyTail),\n                        lowerOpen: true,\n                        upper: pad(range.upper, range.upperOpen ? down.MIN_KEY : down.MAX_KEY, keyTail),\n                        upperOpen: true\n                    };\n                }\n                function translateRequest(req) {\n                    var index = req.query.index;\n                    return index.isVirtual ? __assign(__assign({}, req), { query: {\n                            index: index.lowLevelIndex,\n                            range: translateRange(req.query.range, index.keyTail)\n                        } }) : req;\n                }\n                var result = __assign(__assign({}, table), { schema: __assign(__assign({}, schema), { primaryKey: primaryKey, indexes: allVirtualIndexes, getIndexByKeyPath: findBestIndex }), count: function (req) {\n                        return table.count(translateRequest(req));\n                    }, query: function (req) {\n                        return table.query(translateRequest(req));\n                    }, openCursor: function (req) {\n                        var _a = req.query.index, keyTail = _a.keyTail, isVirtual = _a.isVirtual, keyLength = _a.keyLength;\n                        if (!isVirtual)\n                            return table.openCursor(req);\n                        function createVirtualCursor(cursor) {\n                            function _continue(key) {\n                                key != null ?\n                                    cursor.continue(pad(key, req.reverse ? down.MAX_KEY : down.MIN_KEY, keyTail)) :\n                                    req.unique ?\n                                        cursor.continue(cursor.key.slice(0, keyLength)\n                                            .concat(req.reverse\n                                            ? down.MIN_KEY\n                                            : down.MAX_KEY, keyTail)) :\n                                        cursor.continue();\n                            }\n                            var virtualCursor = Object.create(cursor, {\n                                continue: { value: _continue },\n                                continuePrimaryKey: {\n                                    value: function (key, primaryKey) {\n                                        cursor.continuePrimaryKey(pad(key, down.MAX_KEY, keyTail), primaryKey);\n                                    }\n                                },\n                                primaryKey: {\n                                    get: function () {\n                                        return cursor.primaryKey;\n                                    }\n                                },\n                                key: {\n                                    get: function () {\n                                        var key = cursor.key;\n                                        return keyLength === 1 ?\n                                            key[0] :\n                                            key.slice(0, keyLength);\n                                    }\n                                },\n                                value: {\n                                    get: function () {\n                                        return cursor.value;\n                                    }\n                                }\n                            });\n                            return virtualCursor;\n                        }\n                        return table.openCursor(translateRequest(req))\n                            .then(function (cursor) { return cursor && createVirtualCursor(cursor); });\n                    } });\n                return result;\n            } });\n    }\n    var virtualIndexMiddleware = {\n        stack: \"dbcore\",\n        name: \"VirtualIndexMiddleware\",\n        level: 1,\n        create: createVirtualIndexMiddleware\n    };\n\n    function getObjectDiff(a, b, rv, prfx) {\n        rv = rv || {};\n        prfx = prfx || '';\n        keys(a).forEach(function (prop) {\n            if (!hasOwn(b, prop)) {\n                rv[prfx + prop] = undefined;\n            }\n            else {\n                var ap = a[prop], bp = b[prop];\n                if (typeof ap === 'object' && typeof bp === 'object' && ap && bp) {\n                    var apTypeName = toStringTag(ap);\n                    var bpTypeName = toStringTag(bp);\n                    if (apTypeName !== bpTypeName) {\n                        rv[prfx + prop] = b[prop];\n                    }\n                    else if (apTypeName === 'Object') {\n                        getObjectDiff(ap, bp, rv, prfx + prop + '.');\n                    }\n                    else if (ap !== bp) {\n                        rv[prfx + prop] = b[prop];\n                    }\n                }\n                else if (ap !== bp)\n                    rv[prfx + prop] = b[prop];\n            }\n        });\n        keys(b).forEach(function (prop) {\n            if (!hasOwn(a, prop)) {\n                rv[prfx + prop] = b[prop];\n            }\n        });\n        return rv;\n    }\n\n    function getEffectiveKeys(primaryKey, req) {\n        if (req.type === 'delete')\n            return req.keys;\n        return req.keys || req.values.map(primaryKey.extractKey);\n    }\n\n    var hooksMiddleware = {\n        stack: \"dbcore\",\n        name: \"HooksMiddleware\",\n        level: 2,\n        create: function (downCore) { return (__assign(__assign({}, downCore), { table: function (tableName) {\n                var downTable = downCore.table(tableName);\n                var primaryKey = downTable.schema.primaryKey;\n                var tableMiddleware = __assign(__assign({}, downTable), { mutate: function (req) {\n                        var dxTrans = PSD.trans;\n                        var _a = dxTrans.table(tableName).hook, deleting = _a.deleting, creating = _a.creating, updating = _a.updating;\n                        switch (req.type) {\n                            case 'add':\n                                if (creating.fire === nop)\n                                    break;\n                                return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);\n                            case 'put':\n                                if (creating.fire === nop && updating.fire === nop)\n                                    break;\n                                return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);\n                            case 'delete':\n                                if (deleting.fire === nop)\n                                    break;\n                                return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);\n                            case 'deleteRange':\n                                if (deleting.fire === nop)\n                                    break;\n                                return dxTrans._promise('readwrite', function () { return deleteRange(req); }, true);\n                        }\n                        return downTable.mutate(req);\n                        function addPutOrDelete(req) {\n                            var dxTrans = PSD.trans;\n                            var keys = req.keys || getEffectiveKeys(primaryKey, req);\n                            if (!keys)\n                                throw new Error(\"Keys missing\");\n                            req = req.type === 'add' || req.type === 'put' ? __assign(__assign({}, req), { keys: keys }) : __assign({}, req);\n                            if (req.type !== 'delete')\n                                req.values = __spreadArray([], req.values, true);\n                            if (req.keys)\n                                req.keys = __spreadArray([], req.keys, true);\n                            return getExistingValues(downTable, req, keys).then(function (existingValues) {\n                                var contexts = keys.map(function (key, i) {\n                                    var existingValue = existingValues[i];\n                                    var ctx = { onerror: null, onsuccess: null };\n                                    if (req.type === 'delete') {\n                                        deleting.fire.call(ctx, key, existingValue, dxTrans);\n                                    }\n                                    else if (req.type === 'add' || existingValue === undefined) {\n                                        var generatedPrimaryKey = creating.fire.call(ctx, key, req.values[i], dxTrans);\n                                        if (key == null && generatedPrimaryKey != null) {\n                                            key = generatedPrimaryKey;\n                                            req.keys[i] = key;\n                                            if (!primaryKey.outbound) {\n                                                setByKeyPath(req.values[i], primaryKey.keyPath, key);\n                                            }\n                                        }\n                                    }\n                                    else {\n                                        var objectDiff = getObjectDiff(existingValue, req.values[i]);\n                                        var additionalChanges_1 = updating.fire.call(ctx, objectDiff, key, existingValue, dxTrans);\n                                        if (additionalChanges_1) {\n                                            var requestedValue_1 = req.values[i];\n                                            Object.keys(additionalChanges_1).forEach(function (keyPath) {\n                                                if (hasOwn(requestedValue_1, keyPath)) {\n                                                    requestedValue_1[keyPath] = additionalChanges_1[keyPath];\n                                                }\n                                                else {\n                                                    setByKeyPath(requestedValue_1, keyPath, additionalChanges_1[keyPath]);\n                                                }\n                                            });\n                                        }\n                                    }\n                                    return ctx;\n                                });\n                                return downTable.mutate(req).then(function (_a) {\n                                    var failures = _a.failures, results = _a.results, numFailures = _a.numFailures, lastResult = _a.lastResult;\n                                    for (var i = 0; i < keys.length; ++i) {\n                                        var primKey = results ? results[i] : keys[i];\n                                        var ctx = contexts[i];\n                                        if (primKey == null) {\n                                            ctx.onerror && ctx.onerror(failures[i]);\n                                        }\n                                        else {\n                                            ctx.onsuccess && ctx.onsuccess(req.type === 'put' && existingValues[i] ?\n                                                req.values[i] :\n                                                primKey\n                                            );\n                                        }\n                                    }\n                                    return { failures: failures, results: results, numFailures: numFailures, lastResult: lastResult };\n                                }).catch(function (error) {\n                                    contexts.forEach(function (ctx) { return ctx.onerror && ctx.onerror(error); });\n                                    return Promise.reject(error);\n                                });\n                            });\n                        }\n                        function deleteRange(req) {\n                            return deleteNextChunk(req.trans, req.range, 10000);\n                        }\n                        function deleteNextChunk(trans, range, limit) {\n                            return downTable.query({ trans: trans, values: false, query: { index: primaryKey, range: range }, limit: limit })\n                                .then(function (_a) {\n                                var result = _a.result;\n                                return addPutOrDelete({ type: 'delete', keys: result, trans: trans }).then(function (res) {\n                                    if (res.numFailures > 0)\n                                        return Promise.reject(res.failures[0]);\n                                    if (result.length < limit) {\n                                        return { failures: [], numFailures: 0, lastResult: undefined };\n                                    }\n                                    else {\n                                        return deleteNextChunk(trans, __assign(__assign({}, range), { lower: result[result.length - 1], lowerOpen: true }), limit);\n                                    }\n                                });\n                            });\n                        }\n                    } });\n                return tableMiddleware;\n            } })); }\n    };\n    function getExistingValues(table, req, effectiveKeys) {\n        return req.type === \"add\"\n            ? Promise.resolve([])\n            : table.getMany({ trans: req.trans, keys: effectiveKeys, cache: \"immutable\" });\n    }\n\n    function getFromTransactionCache(keys, cache, clone) {\n        try {\n            if (!cache)\n                return null;\n            if (cache.keys.length < keys.length)\n                return null;\n            var result = [];\n            for (var i = 0, j = 0; i < cache.keys.length && j < keys.length; ++i) {\n                if (cmp(cache.keys[i], keys[j]) !== 0)\n                    continue;\n                result.push(clone ? deepClone(cache.values[i]) : cache.values[i]);\n                ++j;\n            }\n            return result.length === keys.length ? result : null;\n        }\n        catch (_a) {\n            return null;\n        }\n    }\n    var cacheExistingValuesMiddleware = {\n        stack: \"dbcore\",\n        level: -1,\n        create: function (core) {\n            return {\n                table: function (tableName) {\n                    var table = core.table(tableName);\n                    return __assign(__assign({}, table), { getMany: function (req) {\n                            if (!req.cache) {\n                                return table.getMany(req);\n                            }\n                            var cachedResult = getFromTransactionCache(req.keys, req.trans[\"_cache\"], req.cache === \"clone\");\n                            if (cachedResult) {\n                                return DexiePromise.resolve(cachedResult);\n                            }\n                            return table.getMany(req).then(function (res) {\n                                req.trans[\"_cache\"] = {\n                                    keys: req.keys,\n                                    values: req.cache === \"clone\" ? deepClone(res) : res,\n                                };\n                                return res;\n                            });\n                        }, mutate: function (req) {\n                            if (req.type !== \"add\")\n                                req.trans[\"_cache\"] = null;\n                            return table.mutate(req);\n                        } });\n                },\n            };\n        },\n    };\n\n    function isCachableContext(ctx, table) {\n        return (ctx.trans.mode === 'readonly' &&\n            !!ctx.subscr &&\n            !ctx.trans.explicit &&\n            ctx.trans.db._options.cache !== 'disabled' &&\n            !table.schema.primaryKey.outbound);\n    }\n\n    function isCachableRequest(type, req) {\n        switch (type) {\n            case 'query':\n                return req.values && !req.unique;\n            case 'get':\n                return false;\n            case 'getMany':\n                return false;\n            case 'count':\n                return false;\n            case 'openCursor':\n                return false;\n        }\n    }\n\n    var observabilityMiddleware = {\n        stack: \"dbcore\",\n        level: 0,\n        name: \"Observability\",\n        create: function (core) {\n            var dbName = core.schema.name;\n            var FULL_RANGE = new RangeSet(core.MIN_KEY, core.MAX_KEY);\n            return __assign(__assign({}, core), { transaction: function (stores, mode, options) {\n                    if (PSD.subscr && mode !== 'readonly') {\n                        throw new exceptions.ReadOnly(\"Readwrite transaction in liveQuery context. Querier source: \".concat(PSD.querier));\n                    }\n                    return core.transaction(stores, mode, options);\n                }, table: function (tableName) {\n                    var table = core.table(tableName);\n                    var schema = table.schema;\n                    var primaryKey = schema.primaryKey, indexes = schema.indexes;\n                    var extractKey = primaryKey.extractKey, outbound = primaryKey.outbound;\n                    var indexesWithAutoIncPK = primaryKey.autoIncrement && indexes.filter(function (index) { return index.compound && index.keyPath.includes(primaryKey.keyPath); });\n                    var tableClone = __assign(__assign({}, table), { mutate: function (req) {\n                            var _a, _b;\n                            var trans = req.trans;\n                            var mutatedParts = req.mutatedParts || (req.mutatedParts = {});\n                            var getRangeSet = function (indexName) {\n                                var part = \"idb://\".concat(dbName, \"/\").concat(tableName, \"/\").concat(indexName);\n                                return (mutatedParts[part] ||\n                                    (mutatedParts[part] = new RangeSet()));\n                            };\n                            var pkRangeSet = getRangeSet(\"\");\n                            var delsRangeSet = getRangeSet(\":dels\");\n                            var type = req.type;\n                            var _c = req.type === \"deleteRange\"\n                                ? [req.range]\n                                : req.type === \"delete\"\n                                    ? [req.keys]\n                                    : req.values.length < 50\n                                        ? [getEffectiveKeys(primaryKey, req).filter(function (id) { return id; }), req.values]\n                                        : [], keys = _c[0], newObjs = _c[1];\n                            var oldCache = req.trans[\"_cache\"];\n                            if (isArray(keys)) {\n                                pkRangeSet.addKeys(keys);\n                                var oldObjs = type === 'delete' || keys.length === newObjs.length ? getFromTransactionCache(keys, oldCache) : null;\n                                if (!oldObjs) {\n                                    delsRangeSet.addKeys(keys);\n                                }\n                                if (oldObjs || newObjs) {\n                                    trackAffectedIndexes(getRangeSet, schema, oldObjs, newObjs);\n                                }\n                            }\n                            else if (keys) {\n                                var range = {\n                                    from: (_a = keys.lower) !== null && _a !== void 0 ? _a : core.MIN_KEY,\n                                    to: (_b = keys.upper) !== null && _b !== void 0 ? _b : core.MAX_KEY\n                                };\n                                delsRangeSet.add(range);\n                                pkRangeSet.add(range);\n                            }\n                            else {\n                                pkRangeSet.add(FULL_RANGE);\n                                delsRangeSet.add(FULL_RANGE);\n                                schema.indexes.forEach(function (idx) { return getRangeSet(idx.name).add(FULL_RANGE); });\n                            }\n                            return table.mutate(req).then(function (res) {\n                                if (keys && (req.type === 'add' || req.type === 'put')) {\n                                    pkRangeSet.addKeys(res.results);\n                                    if (indexesWithAutoIncPK) {\n                                        indexesWithAutoIncPK.forEach(function (idx) {\n                                            var idxVals = req.values.map(function (v) { return idx.extractKey(v); });\n                                            var pkPos = idx.keyPath.findIndex(function (prop) { return prop === primaryKey.keyPath; });\n                                            for (var i = 0, len = res.results.length; i < len; ++i) {\n                                                idxVals[i][pkPos] = res.results[i];\n                                            }\n                                            getRangeSet(idx.name).addKeys(idxVals);\n                                        });\n                                    }\n                                }\n                                trans.mutatedParts = extendObservabilitySet(trans.mutatedParts || {}, mutatedParts);\n                                return res;\n                            });\n                        } });\n                    var getRange = function (_a) {\n                        var _b, _c;\n                        var _d = _a.query, index = _d.index, range = _d.range;\n                        return [\n                            index,\n                            new RangeSet((_b = range.lower) !== null && _b !== void 0 ? _b : core.MIN_KEY, (_c = range.upper) !== null && _c !== void 0 ? _c : core.MAX_KEY),\n                        ];\n                    };\n                    var readSubscribers = {\n                        get: function (req) { return [primaryKey, new RangeSet(req.key)]; },\n                        getMany: function (req) { return [primaryKey, new RangeSet().addKeys(req.keys)]; },\n                        count: getRange,\n                        query: getRange,\n                        openCursor: getRange,\n                    };\n                    keys(readSubscribers).forEach(function (method) {\n                        tableClone[method] = function (req) {\n                            var subscr = PSD.subscr;\n                            var isLiveQuery = !!subscr;\n                            var cachable = isCachableContext(PSD, table) && isCachableRequest(method, req);\n                            var obsSet = cachable\n                                ? req.obsSet = {}\n                                : subscr;\n                            if (isLiveQuery) {\n                                var getRangeSet = function (indexName) {\n                                    var part = \"idb://\".concat(dbName, \"/\").concat(tableName, \"/\").concat(indexName);\n                                    return (obsSet[part] ||\n                                        (obsSet[part] = new RangeSet()));\n                                };\n                                var pkRangeSet_1 = getRangeSet(\"\");\n                                var delsRangeSet_1 = getRangeSet(\":dels\");\n                                var _a = readSubscribers[method](req), queriedIndex = _a[0], queriedRanges = _a[1];\n                                if (method === 'query' && queriedIndex.isPrimaryKey && !req.values) {\n                                    delsRangeSet_1.add(queriedRanges);\n                                }\n                                else {\n                                    getRangeSet(queriedIndex.name || \"\").add(queriedRanges);\n                                }\n                                if (!queriedIndex.isPrimaryKey) {\n                                    if (method === \"count\") {\n                                        delsRangeSet_1.add(FULL_RANGE);\n                                    }\n                                    else {\n                                        var keysPromise_1 = method === \"query\" &&\n                                            outbound &&\n                                            req.values &&\n                                            table.query(__assign(__assign({}, req), { values: false }));\n                                        return table[method].apply(this, arguments).then(function (res) {\n                                            if (method === \"query\") {\n                                                if (outbound && req.values) {\n                                                    return keysPromise_1.then(function (_a) {\n                                                        var resultingKeys = _a.result;\n                                                        pkRangeSet_1.addKeys(resultingKeys);\n                                                        return res;\n                                                    });\n                                                }\n                                                var pKeys = req.values\n                                                    ? res.result.map(extractKey)\n                                                    : res.result;\n                                                if (req.values) {\n                                                    pkRangeSet_1.addKeys(pKeys);\n                                                }\n                                                else {\n                                                    delsRangeSet_1.addKeys(pKeys);\n                                                }\n                                            }\n                                            else if (method === \"openCursor\") {\n                                                var cursor_1 = res;\n                                                var wantValues_1 = req.values;\n                                                return (cursor_1 &&\n                                                    Object.create(cursor_1, {\n                                                        key: {\n                                                            get: function () {\n                                                                delsRangeSet_1.addKey(cursor_1.primaryKey);\n                                                                return cursor_1.key;\n                                                            },\n                                                        },\n                                                        primaryKey: {\n                                                            get: function () {\n                                                                var pkey = cursor_1.primaryKey;\n                                                                delsRangeSet_1.addKey(pkey);\n                                                                return pkey;\n                                                            },\n                                                        },\n                                                        value: {\n                                                            get: function () {\n                                                                wantValues_1 && pkRangeSet_1.addKey(cursor_1.primaryKey);\n                                                                return cursor_1.value;\n                                                            },\n                                                        },\n                                                    }));\n                                            }\n                                            return res;\n                                        });\n                                    }\n                                }\n                            }\n                            return table[method].apply(this, arguments);\n                        };\n                    });\n                    return tableClone;\n                } });\n        },\n    };\n    function trackAffectedIndexes(getRangeSet, schema, oldObjs, newObjs) {\n        function addAffectedIndex(ix) {\n            var rangeSet = getRangeSet(ix.name || \"\");\n            function extractKey(obj) {\n                return obj != null ? ix.extractKey(obj) : null;\n            }\n            var addKeyOrKeys = function (key) { return ix.multiEntry && isArray(key)\n                ? key.forEach(function (key) { return rangeSet.addKey(key); })\n                : rangeSet.addKey(key); };\n            (oldObjs || newObjs).forEach(function (_, i) {\n                var oldKey = oldObjs && extractKey(oldObjs[i]);\n                var newKey = newObjs && extractKey(newObjs[i]);\n                if (cmp(oldKey, newKey) !== 0) {\n                    if (oldKey != null)\n                        addKeyOrKeys(oldKey);\n                    if (newKey != null)\n                        addKeyOrKeys(newKey);\n                }\n            });\n        }\n        schema.indexes.forEach(addAffectedIndex);\n    }\n\n    function adjustOptimisticFromFailures(tblCache, req, res) {\n        if (res.numFailures === 0)\n            return req;\n        if (req.type === 'deleteRange') {\n            return null;\n        }\n        var numBulkOps = req.keys\n            ? req.keys.length\n            : 'values' in req && req.values\n                ? req.values.length\n                : 1;\n        if (res.numFailures === numBulkOps) {\n            return null;\n        }\n        var clone = __assign({}, req);\n        if (isArray(clone.keys)) {\n            clone.keys = clone.keys.filter(function (_, i) { return !(i in res.failures); });\n        }\n        if ('values' in clone && isArray(clone.values)) {\n            clone.values = clone.values.filter(function (_, i) { return !(i in res.failures); });\n        }\n        return clone;\n    }\n\n    function isAboveLower(key, range) {\n        return range.lower === undefined\n            ? true\n            : range.lowerOpen\n                ? cmp(key, range.lower) > 0\n                : cmp(key, range.lower) >= 0;\n    }\n    function isBelowUpper(key, range) {\n        return range.upper === undefined\n            ? true\n            : range.upperOpen\n                ? cmp(key, range.upper) < 0\n                : cmp(key, range.upper) <= 0;\n    }\n    function isWithinRange(key, range) {\n        return isAboveLower(key, range) && isBelowUpper(key, range);\n    }\n\n    function applyOptimisticOps(result, req, ops, table, cacheEntry, immutable) {\n        if (!ops || ops.length === 0)\n            return result;\n        var index = req.query.index;\n        var multiEntry = index.multiEntry;\n        var queryRange = req.query.range;\n        var primaryKey = table.schema.primaryKey;\n        var extractPrimKey = primaryKey.extractKey;\n        var extractIndex = index.extractKey;\n        var extractLowLevelIndex = (index.lowLevelIndex || index).extractKey;\n        var finalResult = ops.reduce(function (result, op) {\n            var modifedResult = result;\n            var includedValues = [];\n            if (op.type === 'add' || op.type === 'put') {\n                var includedPKs = new RangeSet();\n                for (var i = op.values.length - 1; i >= 0; --i) {\n                    var value = op.values[i];\n                    var pk = extractPrimKey(value);\n                    if (includedPKs.hasKey(pk))\n                        continue;\n                    var key = extractIndex(value);\n                    if (multiEntry && isArray(key)\n                        ? key.some(function (k) { return isWithinRange(k, queryRange); })\n                        : isWithinRange(key, queryRange)) {\n                        includedPKs.addKey(pk);\n                        includedValues.push(value);\n                    }\n                }\n            }\n            switch (op.type) {\n                case 'add': {\n                    var existingKeys_1 = new RangeSet().addKeys(req.values ? result.map(function (v) { return extractPrimKey(v); }) : result);\n                    modifedResult = result.concat(req.values\n                        ? includedValues.filter(function (v) {\n                            var key = extractPrimKey(v);\n                            if (existingKeys_1.hasKey(key))\n                                return false;\n                            existingKeys_1.addKey(key);\n                            return true;\n                        })\n                        : includedValues\n                            .map(function (v) { return extractPrimKey(v); })\n                            .filter(function (k) {\n                            if (existingKeys_1.hasKey(k))\n                                return false;\n                            existingKeys_1.addKey(k);\n                            return true;\n                        }));\n                    break;\n                }\n                case 'put': {\n                    var keySet_1 = new RangeSet().addKeys(op.values.map(function (v) { return extractPrimKey(v); }));\n                    modifedResult = result\n                        .filter(\n                    function (item) { return !keySet_1.hasKey(req.values ? extractPrimKey(item) : item); })\n                        .concat(\n                    req.values\n                        ? includedValues\n                        : includedValues.map(function (v) { return extractPrimKey(v); }));\n                    break;\n                }\n                case 'delete':\n                    var keysToDelete_1 = new RangeSet().addKeys(op.keys);\n                    modifedResult = result.filter(function (item) {\n                        return !keysToDelete_1.hasKey(req.values ? extractPrimKey(item) : item);\n                    });\n                    break;\n                case 'deleteRange':\n                    var range_1 = op.range;\n                    modifedResult = result.filter(function (item) { return !isWithinRange(extractPrimKey(item), range_1); });\n                    break;\n            }\n            return modifedResult;\n        }, result);\n        if (finalResult === result)\n            return result;\n        finalResult.sort(function (a, b) {\n            return cmp(extractLowLevelIndex(a), extractLowLevelIndex(b)) ||\n                cmp(extractPrimKey(a), extractPrimKey(b));\n        });\n        if (req.limit && req.limit < Infinity) {\n            if (finalResult.length > req.limit) {\n                finalResult.length = req.limit;\n            }\n            else if (result.length === req.limit && finalResult.length < req.limit) {\n                cacheEntry.dirty = true;\n            }\n        }\n        return immutable ? Object.freeze(finalResult) : finalResult;\n    }\n\n    function areRangesEqual(r1, r2) {\n        return (cmp(r1.lower, r2.lower) === 0 &&\n            cmp(r1.upper, r2.upper) === 0 &&\n            !!r1.lowerOpen === !!r2.lowerOpen &&\n            !!r1.upperOpen === !!r2.upperOpen);\n    }\n\n    function compareLowers(lower1, lower2, lowerOpen1, lowerOpen2) {\n        if (lower1 === undefined)\n            return lower2 !== undefined ? -1 : 0;\n        if (lower2 === undefined)\n            return 1;\n        var c = cmp(lower1, lower2);\n        if (c === 0) {\n            if (lowerOpen1 && lowerOpen2)\n                return 0;\n            if (lowerOpen1)\n                return 1;\n            if (lowerOpen2)\n                return -1;\n        }\n        return c;\n    }\n    function compareUppers(upper1, upper2, upperOpen1, upperOpen2) {\n        if (upper1 === undefined)\n            return upper2 !== undefined ? 1 : 0;\n        if (upper2 === undefined)\n            return -1;\n        var c = cmp(upper1, upper2);\n        if (c === 0) {\n            if (upperOpen1 && upperOpen2)\n                return 0;\n            if (upperOpen1)\n                return -1;\n            if (upperOpen2)\n                return 1;\n        }\n        return c;\n    }\n    function isSuperRange(r1, r2) {\n        return (compareLowers(r1.lower, r2.lower, r1.lowerOpen, r2.lowerOpen) <= 0 &&\n            compareUppers(r1.upper, r2.upper, r1.upperOpen, r2.upperOpen) >= 0);\n    }\n\n    function findCompatibleQuery(dbName, tableName, type, req) {\n        var tblCache = cache[\"idb://\".concat(dbName, \"/\").concat(tableName)];\n        if (!tblCache)\n            return [];\n        var queries = tblCache.queries[type];\n        if (!queries)\n            return [null, false, tblCache, null];\n        var indexName = req.query ? req.query.index.name : null;\n        var entries = queries[indexName || ''];\n        if (!entries)\n            return [null, false, tblCache, null];\n        switch (type) {\n            case 'query':\n                var equalEntry = entries.find(function (entry) {\n                    return entry.req.limit === req.limit &&\n                        entry.req.values === req.values &&\n                        areRangesEqual(entry.req.query.range, req.query.range);\n                });\n                if (equalEntry)\n                    return [\n                        equalEntry,\n                        true,\n                        tblCache,\n                        entries,\n                    ];\n                var superEntry = entries.find(function (entry) {\n                    var limit = 'limit' in entry.req ? entry.req.limit : Infinity;\n                    return (limit >= req.limit &&\n                        (req.values ? entry.req.values : true) &&\n                        isSuperRange(entry.req.query.range, req.query.range));\n                });\n                return [superEntry, false, tblCache, entries];\n            case 'count':\n                var countQuery = entries.find(function (entry) {\n                    return areRangesEqual(entry.req.query.range, req.query.range);\n                });\n                return [countQuery, !!countQuery, tblCache, entries];\n        }\n    }\n\n    function subscribeToCacheEntry(cacheEntry, container, requery, signal) {\n        cacheEntry.subscribers.add(requery);\n        signal.addEventListener(\"abort\", function () {\n            cacheEntry.subscribers.delete(requery);\n            if (cacheEntry.subscribers.size === 0) {\n                enqueForDeletion(cacheEntry, container);\n            }\n        });\n    }\n    function enqueForDeletion(cacheEntry, container) {\n        setTimeout(function () {\n            if (cacheEntry.subscribers.size === 0) {\n                delArrayItem(container, cacheEntry);\n            }\n        }, 3000);\n    }\n\n    var cacheMiddleware = {\n        stack: 'dbcore',\n        level: 0,\n        name: 'Cache',\n        create: function (core) {\n            var dbName = core.schema.name;\n            var coreMW = __assign(__assign({}, core), { transaction: function (stores, mode, options) {\n                    var idbtrans = core.transaction(stores, mode, options);\n                    if (mode === 'readwrite') {\n                        var ac_1 = new AbortController();\n                        var signal = ac_1.signal;\n                        var endTransaction = function (wasCommitted) { return function () {\n                            ac_1.abort();\n                            if (mode === 'readwrite') {\n                                var affectedSubscribers_1 = new Set();\n                                for (var _i = 0, stores_1 = stores; _i < stores_1.length; _i++) {\n                                    var storeName = stores_1[_i];\n                                    var tblCache = cache[\"idb://\".concat(dbName, \"/\").concat(storeName)];\n                                    if (tblCache) {\n                                        var table = core.table(storeName);\n                                        var ops = tblCache.optimisticOps.filter(function (op) { return op.trans === idbtrans; });\n                                        if (idbtrans._explicit && wasCommitted && idbtrans.mutatedParts) {\n                                            for (var _a = 0, _b = Object.values(tblCache.queries.query); _a < _b.length; _a++) {\n                                                var entries = _b[_a];\n                                                for (var _c = 0, _d = entries.slice(); _c < _d.length; _c++) {\n                                                    var entry = _d[_c];\n                                                    if (obsSetsOverlap(entry.obsSet, idbtrans.mutatedParts)) {\n                                                        delArrayItem(entries, entry);\n                                                        entry.subscribers.forEach(function (requery) { return affectedSubscribers_1.add(requery); });\n                                                    }\n                                                }\n                                            }\n                                        }\n                                        else if (ops.length > 0) {\n                                            tblCache.optimisticOps = tblCache.optimisticOps.filter(function (op) { return op.trans !== idbtrans; });\n                                            for (var _e = 0, _f = Object.values(tblCache.queries.query); _e < _f.length; _e++) {\n                                                var entries = _f[_e];\n                                                for (var _g = 0, _h = entries.slice(); _g < _h.length; _g++) {\n                                                    var entry = _h[_g];\n                                                    if (entry.res != null &&\n                                                        idbtrans.mutatedParts\n    ) {\n                                                        if (wasCommitted && !entry.dirty) {\n                                                            var freezeResults = Object.isFrozen(entry.res);\n                                                            var modRes = applyOptimisticOps(entry.res, entry.req, ops, table, entry, freezeResults);\n                                                            if (entry.dirty) {\n                                                                delArrayItem(entries, entry);\n                                                                entry.subscribers.forEach(function (requery) { return affectedSubscribers_1.add(requery); });\n                                                            }\n                                                            else if (modRes !== entry.res) {\n                                                                entry.res = modRes;\n                                                                entry.promise = DexiePromise.resolve({ result: modRes });\n                                                            }\n                                                        }\n                                                        else {\n                                                            if (entry.dirty) {\n                                                                delArrayItem(entries, entry);\n                                                            }\n                                                            entry.subscribers.forEach(function (requery) { return affectedSubscribers_1.add(requery); });\n                                                        }\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    }\n                                }\n                                affectedSubscribers_1.forEach(function (requery) { return requery(); });\n                            }\n                        }; };\n                        idbtrans.addEventListener('abort', endTransaction(false), {\n                            signal: signal,\n                        });\n                        idbtrans.addEventListener('error', endTransaction(false), {\n                            signal: signal,\n                        });\n                        idbtrans.addEventListener('complete', endTransaction(true), {\n                            signal: signal,\n                        });\n                    }\n                    return idbtrans;\n                }, table: function (tableName) {\n                    var downTable = core.table(tableName);\n                    var primKey = downTable.schema.primaryKey;\n                    var tableMW = __assign(__assign({}, downTable), { mutate: function (req) {\n                            var trans = PSD.trans;\n                            if (primKey.outbound ||\n                                trans.db._options.cache === 'disabled' ||\n                                trans.explicit ||\n                                trans.idbtrans.mode !== 'readwrite'\n                            ) {\n                                return downTable.mutate(req);\n                            }\n                            var tblCache = cache[\"idb://\".concat(dbName, \"/\").concat(tableName)];\n                            if (!tblCache)\n                                return downTable.mutate(req);\n                            var promise = downTable.mutate(req);\n                            if ((req.type === 'add' || req.type === 'put') && (req.values.length >= 50 || getEffectiveKeys(primKey, req).some(function (key) { return key == null; }))) {\n                                promise.then(function (res) {\n                                    var reqWithResolvedKeys = __assign(__assign({}, req), { values: req.values.map(function (value, i) {\n                                            var _a;\n                                            if (res.failures[i])\n                                                return value;\n                                            var valueWithKey = ((_a = primKey.keyPath) === null || _a === void 0 ? void 0 : _a.includes('.'))\n                                                ? deepClone(value)\n                                                : __assign({}, value);\n                                            setByKeyPath(valueWithKey, primKey.keyPath, res.results[i]);\n                                            return valueWithKey;\n                                        }) });\n                                    var adjustedReq = adjustOptimisticFromFailures(tblCache, reqWithResolvedKeys, res);\n                                    tblCache.optimisticOps.push(adjustedReq);\n                                    queueMicrotask(function () { return req.mutatedParts && signalSubscribersLazily(req.mutatedParts); });\n                                });\n                            }\n                            else {\n                                tblCache.optimisticOps.push(req);\n                                req.mutatedParts && signalSubscribersLazily(req.mutatedParts);\n                                promise.then(function (res) {\n                                    if (res.numFailures > 0) {\n                                        delArrayItem(tblCache.optimisticOps, req);\n                                        var adjustedReq = adjustOptimisticFromFailures(tblCache, req, res);\n                                        if (adjustedReq) {\n                                            tblCache.optimisticOps.push(adjustedReq);\n                                        }\n                                        req.mutatedParts && signalSubscribersLazily(req.mutatedParts);\n                                    }\n                                });\n                                promise.catch(function () {\n                                    delArrayItem(tblCache.optimisticOps, req);\n                                    req.mutatedParts && signalSubscribersLazily(req.mutatedParts);\n                                });\n                            }\n                            return promise;\n                        }, query: function (req) {\n                            var _a;\n                            if (!isCachableContext(PSD, downTable) || !isCachableRequest(\"query\", req))\n                                return downTable.query(req);\n                            var freezeResults = ((_a = PSD.trans) === null || _a === void 0 ? void 0 : _a.db._options.cache) === 'immutable';\n                            var _b = PSD, requery = _b.requery, signal = _b.signal;\n                            var _c = findCompatibleQuery(dbName, tableName, 'query', req), cacheEntry = _c[0], exactMatch = _c[1], tblCache = _c[2], container = _c[3];\n                            if (cacheEntry && exactMatch) {\n                                cacheEntry.obsSet = req.obsSet;\n                            }\n                            else {\n                                var promise = downTable.query(req).then(function (res) {\n                                    var result = res.result;\n                                    if (cacheEntry)\n                                        cacheEntry.res = result;\n                                    if (freezeResults) {\n                                        for (var i = 0, l = result.length; i < l; ++i) {\n                                            Object.freeze(result[i]);\n                                        }\n                                        Object.freeze(result);\n                                    }\n                                    else {\n                                        res.result = deepClone(result);\n                                    }\n                                    return res;\n                                }).catch(function (error) {\n                                    if (container && cacheEntry)\n                                        delArrayItem(container, cacheEntry);\n                                    return Promise.reject(error);\n                                });\n                                cacheEntry = {\n                                    obsSet: req.obsSet,\n                                    promise: promise,\n                                    subscribers: new Set(),\n                                    type: 'query',\n                                    req: req,\n                                    dirty: false,\n                                };\n                                if (container) {\n                                    container.push(cacheEntry);\n                                }\n                                else {\n                                    container = [cacheEntry];\n                                    if (!tblCache) {\n                                        tblCache = cache[\"idb://\".concat(dbName, \"/\").concat(tableName)] = {\n                                            queries: {\n                                                query: {},\n                                                count: {},\n                                            },\n                                            objs: new Map(),\n                                            optimisticOps: [],\n                                            unsignaledParts: {}\n                                        };\n                                    }\n                                    tblCache.queries.query[req.query.index.name || ''] = container;\n                                }\n                            }\n                            subscribeToCacheEntry(cacheEntry, container, requery, signal);\n                            return cacheEntry.promise.then(function (res) {\n                                return {\n                                    result: applyOptimisticOps(res.result, req, tblCache === null || tblCache === void 0 ? void 0 : tblCache.optimisticOps, downTable, cacheEntry, freezeResults),\n                                };\n                            });\n                        } });\n                    return tableMW;\n                } });\n            return coreMW;\n        },\n    };\n\n    function vipify(target, vipDb) {\n        return new Proxy(target, {\n            get: function (target, prop, receiver) {\n                if (prop === 'db')\n                    return vipDb;\n                return Reflect.get(target, prop, receiver);\n            }\n        });\n    }\n\n    var Dexie$1 =  (function () {\n        function Dexie(name, options) {\n            var _this = this;\n            this._middlewares = {};\n            this.verno = 0;\n            var deps = Dexie.dependencies;\n            this._options = options = __assign({\n                addons: Dexie.addons, autoOpen: true,\n                indexedDB: deps.indexedDB, IDBKeyRange: deps.IDBKeyRange, cache: 'cloned' }, options);\n            this._deps = {\n                indexedDB: options.indexedDB,\n                IDBKeyRange: options.IDBKeyRange\n            };\n            var addons = options.addons;\n            this._dbSchema = {};\n            this._versions = [];\n            this._storeNames = [];\n            this._allTables = {};\n            this.idbdb = null;\n            this._novip = this;\n            var state = {\n                dbOpenError: null,\n                isBeingOpened: false,\n                onReadyBeingFired: null,\n                openComplete: false,\n                dbReadyResolve: nop,\n                dbReadyPromise: null,\n                cancelOpen: nop,\n                openCanceller: null,\n                autoSchema: true,\n                PR1398_maxLoop: 3,\n                autoOpen: options.autoOpen,\n            };\n            state.dbReadyPromise = new DexiePromise(function (resolve) {\n                state.dbReadyResolve = resolve;\n            });\n            state.openCanceller = new DexiePromise(function (_, reject) {\n                state.cancelOpen = reject;\n            });\n            this._state = state;\n            this.name = name;\n            this.on = Events(this, \"populate\", \"blocked\", \"versionchange\", \"close\", { ready: [promisableChain, nop] });\n            this.on.ready.subscribe = override(this.on.ready.subscribe, function (subscribe) {\n                return function (subscriber, bSticky) {\n                    Dexie.vip(function () {\n                        var state = _this._state;\n                        if (state.openComplete) {\n                            if (!state.dbOpenError)\n                                DexiePromise.resolve().then(subscriber);\n                            if (bSticky)\n                                subscribe(subscriber);\n                        }\n                        else if (state.onReadyBeingFired) {\n                            state.onReadyBeingFired.push(subscriber);\n                            if (bSticky)\n                                subscribe(subscriber);\n                        }\n                        else {\n                            subscribe(subscriber);\n                            var db_1 = _this;\n                            if (!bSticky)\n                                subscribe(function unsubscribe() {\n                                    db_1.on.ready.unsubscribe(subscriber);\n                                    db_1.on.ready.unsubscribe(unsubscribe);\n                                });\n                        }\n                    });\n                };\n            });\n            this.Collection = createCollectionConstructor(this);\n            this.Table = createTableConstructor(this);\n            this.Transaction = createTransactionConstructor(this);\n            this.Version = createVersionConstructor(this);\n            this.WhereClause = createWhereClauseConstructor(this);\n            this.on(\"versionchange\", function (ev) {\n                if (ev.newVersion > 0)\n                    console.warn(\"Another connection wants to upgrade database '\".concat(_this.name, \"'. Closing db now to resume the upgrade.\"));\n                else\n                    console.warn(\"Another connection wants to delete database '\".concat(_this.name, \"'. Closing db now to resume the delete request.\"));\n                _this.close({ disableAutoOpen: false });\n            });\n            this.on(\"blocked\", function (ev) {\n                if (!ev.newVersion || ev.newVersion < ev.oldVersion)\n                    console.warn(\"Dexie.delete('\".concat(_this.name, \"') was blocked\"));\n                else\n                    console.warn(\"Upgrade '\".concat(_this.name, \"' blocked by other connection holding version \").concat(ev.oldVersion / 10));\n            });\n            this._maxKey = getMaxKey(options.IDBKeyRange);\n            this._createTransaction = function (mode, storeNames, dbschema, parentTransaction) { return new _this.Transaction(mode, storeNames, dbschema, _this._options.chromeTransactionDurability, parentTransaction); };\n            this._fireOnBlocked = function (ev) {\n                _this.on(\"blocked\").fire(ev);\n                connections\n                    .filter(function (c) { return c.name === _this.name && c !== _this && !c._state.vcFired; })\n                    .map(function (c) { return c.on(\"versionchange\").fire(ev); });\n            };\n            this.use(cacheExistingValuesMiddleware);\n            this.use(cacheMiddleware);\n            this.use(observabilityMiddleware);\n            this.use(virtualIndexMiddleware);\n            this.use(hooksMiddleware);\n            var vipDB = new Proxy(this, {\n                get: function (_, prop, receiver) {\n                    if (prop === '_vip')\n                        return true;\n                    if (prop === 'table')\n                        return function (tableName) { return vipify(_this.table(tableName), vipDB); };\n                    var rv = Reflect.get(_, prop, receiver);\n                    if (rv instanceof Table)\n                        return vipify(rv, vipDB);\n                    if (prop === 'tables')\n                        return rv.map(function (t) { return vipify(t, vipDB); });\n                    if (prop === '_createTransaction')\n                        return function () {\n                            var tx = rv.apply(this, arguments);\n                            return vipify(tx, vipDB);\n                        };\n                    return rv;\n                }\n            });\n            this.vip = vipDB;\n            addons.forEach(function (addon) { return addon(_this); });\n        }\n        Dexie.prototype.version = function (versionNumber) {\n            if (isNaN(versionNumber) || versionNumber < 0.1)\n                throw new exceptions.Type(\"Given version is not a positive number\");\n            versionNumber = Math.round(versionNumber * 10) / 10;\n            if (this.idbdb || this._state.isBeingOpened)\n                throw new exceptions.Schema(\"Cannot add version when database is open\");\n            this.verno = Math.max(this.verno, versionNumber);\n            var versions = this._versions;\n            var versionInstance = versions.filter(function (v) { return v._cfg.version === versionNumber; })[0];\n            if (versionInstance)\n                return versionInstance;\n            versionInstance = new this.Version(versionNumber);\n            versions.push(versionInstance);\n            versions.sort(lowerVersionFirst);\n            versionInstance.stores({});\n            this._state.autoSchema = false;\n            return versionInstance;\n        };\n        Dexie.prototype._whenReady = function (fn) {\n            var _this = this;\n            return (this.idbdb && (this._state.openComplete || PSD.letThrough || this._vip)) ? fn() : new DexiePromise(function (resolve, reject) {\n                if (_this._state.openComplete) {\n                    return reject(new exceptions.DatabaseClosed(_this._state.dbOpenError));\n                }\n                if (!_this._state.isBeingOpened) {\n                    if (!_this._state.autoOpen) {\n                        reject(new exceptions.DatabaseClosed());\n                        return;\n                    }\n                    _this.open().catch(nop);\n                }\n                _this._state.dbReadyPromise.then(resolve, reject);\n            }).then(fn);\n        };\n        Dexie.prototype.use = function (_a) {\n            var stack = _a.stack, create = _a.create, level = _a.level, name = _a.name;\n            if (name)\n                this.unuse({ stack: stack, name: name });\n            var middlewares = this._middlewares[stack] || (this._middlewares[stack] = []);\n            middlewares.push({ stack: stack, create: create, level: level == null ? 10 : level, name: name });\n            middlewares.sort(function (a, b) { return a.level - b.level; });\n            return this;\n        };\n        Dexie.prototype.unuse = function (_a) {\n            var stack = _a.stack, name = _a.name, create = _a.create;\n            if (stack && this._middlewares[stack]) {\n                this._middlewares[stack] = this._middlewares[stack].filter(function (mw) {\n                    return create ? mw.create !== create :\n                        name ? mw.name !== name :\n                            false;\n                });\n            }\n            return this;\n        };\n        Dexie.prototype.open = function () {\n            var _this = this;\n            return usePSD(globalPSD,\n            function () { return dexieOpen(_this); });\n        };\n        Dexie.prototype._close = function () {\n            var state = this._state;\n            var idx = connections.indexOf(this);\n            if (idx >= 0)\n                connections.splice(idx, 1);\n            if (this.idbdb) {\n                try {\n                    this.idbdb.close();\n                }\n                catch (e) { }\n                this.idbdb = null;\n            }\n            if (!state.isBeingOpened) {\n                state.dbReadyPromise = new DexiePromise(function (resolve) {\n                    state.dbReadyResolve = resolve;\n                });\n                state.openCanceller = new DexiePromise(function (_, reject) {\n                    state.cancelOpen = reject;\n                });\n            }\n        };\n        Dexie.prototype.close = function (_a) {\n            var _b = _a === void 0 ? { disableAutoOpen: true } : _a, disableAutoOpen = _b.disableAutoOpen;\n            var state = this._state;\n            if (disableAutoOpen) {\n                if (state.isBeingOpened) {\n                    state.cancelOpen(new exceptions.DatabaseClosed());\n                }\n                this._close();\n                state.autoOpen = false;\n                state.dbOpenError = new exceptions.DatabaseClosed();\n            }\n            else {\n                this._close();\n                state.autoOpen = this._options.autoOpen ||\n                    state.isBeingOpened;\n                state.openComplete = false;\n                state.dbOpenError = null;\n            }\n        };\n        Dexie.prototype.delete = function (closeOptions) {\n            var _this = this;\n            if (closeOptions === void 0) { closeOptions = { disableAutoOpen: true }; }\n            var hasInvalidArguments = arguments.length > 0 && typeof arguments[0] !== 'object';\n            var state = this._state;\n            return new DexiePromise(function (resolve, reject) {\n                var doDelete = function () {\n                    _this.close(closeOptions);\n                    var req = _this._deps.indexedDB.deleteDatabase(_this.name);\n                    req.onsuccess = wrap(function () {\n                        _onDatabaseDeleted(_this._deps, _this.name);\n                        resolve();\n                    });\n                    req.onerror = eventRejectHandler(reject);\n                    req.onblocked = _this._fireOnBlocked;\n                };\n                if (hasInvalidArguments)\n                    throw new exceptions.InvalidArgument(\"Invalid closeOptions argument to db.delete()\");\n                if (state.isBeingOpened) {\n                    state.dbReadyPromise.then(doDelete);\n                }\n                else {\n                    doDelete();\n                }\n            });\n        };\n        Dexie.prototype.backendDB = function () {\n            return this.idbdb;\n        };\n        Dexie.prototype.isOpen = function () {\n            return this.idbdb !== null;\n        };\n        Dexie.prototype.hasBeenClosed = function () {\n            var dbOpenError = this._state.dbOpenError;\n            return dbOpenError && (dbOpenError.name === 'DatabaseClosed');\n        };\n        Dexie.prototype.hasFailed = function () {\n            return this._state.dbOpenError !== null;\n        };\n        Dexie.prototype.dynamicallyOpened = function () {\n            return this._state.autoSchema;\n        };\n        Object.defineProperty(Dexie.prototype, \"tables\", {\n            get: function () {\n                var _this = this;\n                return keys(this._allTables).map(function (name) { return _this._allTables[name]; });\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Dexie.prototype.transaction = function () {\n            var args = extractTransactionArgs.apply(this, arguments);\n            return this._transaction.apply(this, args);\n        };\n        Dexie.prototype._transaction = function (mode, tables, scopeFunc) {\n            var _this = this;\n            var parentTransaction = PSD.trans;\n            if (!parentTransaction || parentTransaction.db !== this || mode.indexOf('!') !== -1)\n                parentTransaction = null;\n            var onlyIfCompatible = mode.indexOf('?') !== -1;\n            mode = mode.replace('!', '').replace('?', '');\n            var idbMode, storeNames;\n            try {\n                storeNames = tables.map(function (table) {\n                    var storeName = table instanceof _this.Table ? table.name : table;\n                    if (typeof storeName !== 'string')\n                        throw new TypeError(\"Invalid table argument to Dexie.transaction(). Only Table or String are allowed\");\n                    return storeName;\n                });\n                if (mode == \"r\" || mode === READONLY)\n                    idbMode = READONLY;\n                else if (mode == \"rw\" || mode == READWRITE)\n                    idbMode = READWRITE;\n                else\n                    throw new exceptions.InvalidArgument(\"Invalid transaction mode: \" + mode);\n                if (parentTransaction) {\n                    if (parentTransaction.mode === READONLY && idbMode === READWRITE) {\n                        if (onlyIfCompatible) {\n                            parentTransaction = null;\n                        }\n                        else\n                            throw new exceptions.SubTransaction(\"Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY\");\n                    }\n                    if (parentTransaction) {\n                        storeNames.forEach(function (storeName) {\n                            if (parentTransaction && parentTransaction.storeNames.indexOf(storeName) === -1) {\n                                if (onlyIfCompatible) {\n                                    parentTransaction = null;\n                                }\n                                else\n                                    throw new exceptions.SubTransaction(\"Table \" + storeName +\n                                        \" not included in parent transaction.\");\n                            }\n                        });\n                    }\n                    if (onlyIfCompatible && parentTransaction && !parentTransaction.active) {\n                        parentTransaction = null;\n                    }\n                }\n            }\n            catch (e) {\n                return parentTransaction ?\n                    parentTransaction._promise(null, function (_, reject) { reject(e); }) :\n                    rejection(e);\n            }\n            var enterTransaction = enterTransactionScope.bind(null, this, idbMode, storeNames, parentTransaction, scopeFunc);\n            return (parentTransaction ?\n                parentTransaction._promise(idbMode, enterTransaction, \"lock\") :\n                PSD.trans ?\n                    usePSD(PSD.transless, function () { return _this._whenReady(enterTransaction); }) :\n                    this._whenReady(enterTransaction));\n        };\n        Dexie.prototype.table = function (tableName) {\n            if (!hasOwn(this._allTables, tableName)) {\n                throw new exceptions.InvalidTable(\"Table \".concat(tableName, \" does not exist\"));\n            }\n            return this._allTables[tableName];\n        };\n        return Dexie;\n    }());\n\n    var symbolObservable = typeof Symbol !== \"undefined\" && \"observable\" in Symbol\n        ? Symbol.observable\n        : \"@@observable\";\n    var Observable =  (function () {\n        function Observable(subscribe) {\n            this._subscribe = subscribe;\n        }\n        Observable.prototype.subscribe = function (x, error, complete) {\n            return this._subscribe(!x || typeof x === \"function\" ? { next: x, error: error, complete: complete } : x);\n        };\n        Observable.prototype[symbolObservable] = function () {\n            return this;\n        };\n        return Observable;\n    }());\n\n    var domDeps;\n    try {\n        domDeps = {\n            indexedDB: _global.indexedDB || _global.mozIndexedDB || _global.webkitIndexedDB || _global.msIndexedDB,\n            IDBKeyRange: _global.IDBKeyRange || _global.webkitIDBKeyRange\n        };\n    }\n    catch (e) {\n        domDeps = { indexedDB: null, IDBKeyRange: null };\n    }\n\n    function liveQuery(querier) {\n        var hasValue = false;\n        var currentValue;\n        var observable = new Observable(function (observer) {\n            var scopeFuncIsAsync = isAsyncFunction(querier);\n            function execute(ctx) {\n                var wasRootExec = beginMicroTickScope();\n                try {\n                    if (scopeFuncIsAsync) {\n                        incrementExpectedAwaits();\n                    }\n                    var rv = newScope(querier, ctx);\n                    if (scopeFuncIsAsync) {\n                        rv = rv.finally(decrementExpectedAwaits);\n                    }\n                    return rv;\n                }\n                finally {\n                    wasRootExec && endMicroTickScope();\n                }\n            }\n            var closed = false;\n            var abortController;\n            var accumMuts = {};\n            var currentObs = {};\n            var subscription = {\n                get closed() {\n                    return closed;\n                },\n                unsubscribe: function () {\n                    if (closed)\n                        return;\n                    closed = true;\n                    if (abortController)\n                        abortController.abort();\n                    if (startedListening)\n                        globalEvents.storagemutated.unsubscribe(mutationListener);\n                },\n            };\n            observer.start && observer.start(subscription);\n            var startedListening = false;\n            var doQuery = function () { return execInGlobalContext(_doQuery); };\n            function shouldNotify() {\n                return obsSetsOverlap(currentObs, accumMuts);\n            }\n            var mutationListener = function (parts) {\n                extendObservabilitySet(accumMuts, parts);\n                if (shouldNotify()) {\n                    doQuery();\n                }\n            };\n            var _doQuery = function () {\n                if (closed ||\n                    !domDeps.indexedDB)\n                 {\n                    return;\n                }\n                accumMuts = {};\n                var subscr = {};\n                if (abortController)\n                    abortController.abort();\n                abortController = new AbortController();\n                var ctx = {\n                    subscr: subscr,\n                    signal: abortController.signal,\n                    requery: doQuery,\n                    querier: querier,\n                    trans: null\n                };\n                var ret = execute(ctx);\n                Promise.resolve(ret).then(function (result) {\n                    hasValue = true;\n                    currentValue = result;\n                    if (closed || ctx.signal.aborted) {\n                        return;\n                    }\n                    accumMuts = {};\n                    currentObs = subscr;\n                    if (!objectIsEmpty(currentObs) && !startedListening) {\n                        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, mutationListener);\n                        startedListening = true;\n                    }\n                    execInGlobalContext(function () { return !closed && observer.next && observer.next(result); });\n                }, function (err) {\n                    hasValue = false;\n                    if (!['DatabaseClosedError', 'AbortError'].includes(err === null || err === void 0 ? void 0 : err.name)) {\n                        if (!closed)\n                            execInGlobalContext(function () {\n                                if (closed)\n                                    return;\n                                observer.error && observer.error(err);\n                            });\n                    }\n                });\n            };\n            setTimeout(doQuery, 0);\n            return subscription;\n        });\n        observable.hasValue = function () { return hasValue; };\n        observable.getValue = function () { return currentValue; };\n        return observable;\n    }\n\n    var Dexie = Dexie$1;\n    props(Dexie, __assign(__assign({}, fullNameExceptions), {\n        delete: function (databaseName) {\n            var db = new Dexie(databaseName, { addons: [] });\n            return db.delete();\n        },\n        exists: function (name) {\n            return new Dexie(name, { addons: [] }).open().then(function (db) {\n                db.close();\n                return true;\n            }).catch('NoSuchDatabaseError', function () { return false; });\n        },\n        getDatabaseNames: function (cb) {\n            try {\n                return getDatabaseNames(Dexie.dependencies).then(cb);\n            }\n            catch (_a) {\n                return rejection(new exceptions.MissingAPI());\n            }\n        },\n        defineClass: function () {\n            function Class(content) {\n                extend(this, content);\n            }\n            return Class;\n        }, ignoreTransaction: function (scopeFunc) {\n            return PSD.trans ?\n                usePSD(PSD.transless, scopeFunc) :\n                scopeFunc();\n        }, vip: vip, async: function (generatorFn) {\n            return function () {\n                try {\n                    var rv = awaitIterator(generatorFn.apply(this, arguments));\n                    if (!rv || typeof rv.then !== 'function')\n                        return DexiePromise.resolve(rv);\n                    return rv;\n                }\n                catch (e) {\n                    return rejection(e);\n                }\n            };\n        }, spawn: function (generatorFn, args, thiz) {\n            try {\n                var rv = awaitIterator(generatorFn.apply(thiz, args || []));\n                if (!rv || typeof rv.then !== 'function')\n                    return DexiePromise.resolve(rv);\n                return rv;\n            }\n            catch (e) {\n                return rejection(e);\n            }\n        },\n        currentTransaction: {\n            get: function () { return PSD.trans || null; }\n        }, waitFor: function (promiseOrFunction, optionalTimeout) {\n            var promise = DexiePromise.resolve(typeof promiseOrFunction === 'function' ?\n                Dexie.ignoreTransaction(promiseOrFunction) :\n                promiseOrFunction)\n                .timeout(optionalTimeout || 60000);\n            return PSD.trans ?\n                PSD.trans.waitFor(promise) :\n                promise;\n        },\n        Promise: DexiePromise,\n        debug: {\n            get: function () { return debug; },\n            set: function (value) {\n                setDebug(value);\n            }\n        },\n        derive: derive, extend: extend, props: props, override: override,\n        Events: Events, on: globalEvents, liveQuery: liveQuery, extendObservabilitySet: extendObservabilitySet,\n        getByKeyPath: getByKeyPath, setByKeyPath: setByKeyPath, delByKeyPath: delByKeyPath, shallowClone: shallowClone, deepClone: deepClone, getObjectDiff: getObjectDiff, cmp: cmp, asap: asap$1,\n        minKey: minKey,\n        addons: [],\n        connections: connections,\n        errnames: errnames,\n        dependencies: domDeps, cache: cache,\n        semVer: DEXIE_VERSION, version: DEXIE_VERSION.split('.')\n            .map(function (n) { return parseInt(n); })\n            .reduce(function (p, c, i) { return p + (c / Math.pow(10, i * 2)); }) }));\n    Dexie.maxKey = getMaxKey(Dexie.dependencies.IDBKeyRange);\n\n    if (typeof dispatchEvent !== 'undefined' && typeof addEventListener !== 'undefined') {\n        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, function (updatedParts) {\n            if (!propagatingLocally) {\n                var event_1;\n                event_1 = new CustomEvent(STORAGE_MUTATED_DOM_EVENT_NAME, {\n                    detail: updatedParts\n                });\n                propagatingLocally = true;\n                dispatchEvent(event_1);\n                propagatingLocally = false;\n            }\n        });\n        addEventListener(STORAGE_MUTATED_DOM_EVENT_NAME, function (_a) {\n            var detail = _a.detail;\n            if (!propagatingLocally) {\n                propagateLocally(detail);\n            }\n        });\n    }\n    function propagateLocally(updateParts) {\n        var wasMe = propagatingLocally;\n        try {\n            propagatingLocally = true;\n            globalEvents.storagemutated.fire(updateParts);\n            signalSubscribersNow(updateParts, true);\n        }\n        finally {\n            propagatingLocally = wasMe;\n        }\n    }\n    var propagatingLocally = false;\n\n    var bc;\n    var createBC = function () { };\n    if (typeof BroadcastChannel !== 'undefined') {\n        createBC = function () {\n            bc = new BroadcastChannel(STORAGE_MUTATED_DOM_EVENT_NAME);\n            bc.onmessage = function (ev) { return ev.data && propagateLocally(ev.data); };\n        };\n        createBC();\n        if (typeof bc.unref === 'function') {\n            bc.unref();\n        }\n        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, function (changedParts) {\n            if (!propagatingLocally) {\n                bc.postMessage(changedParts);\n            }\n        });\n    }\n\n    if (typeof addEventListener !== 'undefined') {\n        addEventListener('pagehide', function (event) {\n            if (!Dexie$1.disableBfCache && event.persisted) {\n                if (debug)\n                    console.debug('Dexie: handling persisted pagehide');\n                bc === null || bc === void 0 ? void 0 : bc.close();\n                for (var _i = 0, connections_1 = connections; _i < connections_1.length; _i++) {\n                    var db = connections_1[_i];\n                    db.close({ disableAutoOpen: false });\n                }\n            }\n        });\n        addEventListener('pageshow', function (event) {\n            if (!Dexie$1.disableBfCache && event.persisted) {\n                if (debug)\n                    console.debug('Dexie: handling persisted pageshow');\n                createBC();\n                propagateLocally({ all: new RangeSet(-Infinity, [[]]) });\n            }\n        });\n    }\n\n    function add(value) {\n        return new PropModification({ add: value });\n    }\n\n    function remove(value) {\n        return new PropModification({ remove: value });\n    }\n\n    function replacePrefix(a, b) {\n        return new PropModification({ replacePrefix: [a, b] });\n    }\n\n    DexiePromise.rejectionMapper = mapError;\n    setDebug(debug);\n\n    var namedExports = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        Dexie: Dexie$1,\n        liveQuery: liveQuery,\n        Entity: Entity,\n        cmp: cmp,\n        PropModSymbol: PropModSymbol,\n        PropModification: PropModification,\n        replacePrefix: replacePrefix,\n        add: add,\n        remove: remove,\n        'default': Dexie$1,\n        RangeSet: RangeSet,\n        mergeRanges: mergeRanges,\n        rangesOverlap: rangesOverlap\n    });\n\n    __assign(Dexie$1, namedExports, { default: Dexie$1 });\n\n    return Dexie$1;\n\n}));\n//# sourceMappingURL=dexie.js.map\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}